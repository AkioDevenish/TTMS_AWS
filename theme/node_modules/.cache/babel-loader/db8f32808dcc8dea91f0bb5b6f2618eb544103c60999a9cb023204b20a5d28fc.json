{"ast":null,"code":"import _classCallCheck from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _superPropGet from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/superPropGet.js\";\nimport _inherits from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.function.bind.js\";\nimport \"core-js/modules/es.math.trunc.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.dot-all.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.timers.js\";\n/*\r\n  Copyright (c) 2019 Jean-Marc VIGLINO,\r\n  released under the CeCILL-B license (French BSD license)\r\n  (http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.txt).\r\n*/\n\nimport { unByKey as ol_Observable_unByKey } from 'ol/Observable.js';\nimport ol_control_Control from 'ol/control/Control.js';\nimport ol_style_Stroke from 'ol/style/Stroke.js';\nimport ol_ext_element from '../util/element.js';\nimport ol_control_Dialog from './Dialog.js';\nimport ol_control_Legend from './Legend.js';\nimport ol_control_Print from './Print.js';\nimport ol_control_CanvasTitle from './CanvasTitle.js';\nimport { getMapScale as ol_sphere_getMapScale } from '../geom/sphere.js';\nimport { setMapScale as ol_sphere_setMapScale } from '../geom/sphere.js';\nimport ol_control_Compass from './Compass.js';\n\n/** Print control to get an image of the map\r\n * @constructor\r\n * @fire show\r\n * @fire print\r\n * @fire error\r\n * @fire printing\r\n * @extends {ol.control.Control}\r\n * @author https://github.com/chicoff (italian i18n)\r\n * @param {Object=} options Control options.\r\n *\t@param {string} options.className class of the control\r\n *\t@param {String} options.title button title\r\n *  @param {string} [options.lang=en] control language, default en\r\n *  @param {HTMLElement|string|undefined} [options.target] target element to render the control button outside of the map's viewport\r\n *  @param {HTMLElement|string|undefined} [options.targetDialog] target element for the dialog, default document body\r\n *\t@param {string} options.imageType A string indicating the image format, default image/jpeg\r\n *\t@param {number} options.quality Number between 0 and 1 indicating the image quality to use for image formats that use lossy compression such as image/jpeg and image/webp\r\n *\t@param {string} options.orientation Page orientation (landscape/portrait), default guest the best one\r\n *\t@param {boolean} options.immediate force print even if render is not complete,  default false\r\n *\t@param {boolean} [options.openWindow=false] open the file in a new window on print\r\n *\t@param {boolean} [options.copy=true] add a copy to clipboard select option\r\n *\t@param {boolean} [options.save=true] add a save select option\r\n *\t@param {boolean} [options.pdf=true] add a pdf select option\r\n *\t@param {function} [options.saveAs] a function to save the image as blob\r\n *\t@param {*} [options.jsPDF] jsPDF object to save map as pdf\r\n */\nvar ol_control_PrintDialog = /*#__PURE__*/function (_ol_control_Control) {\n  function olcontrolPrintDialog(options) {\n    var _this;\n    _classCallCheck(this, olcontrolPrintDialog);\n    options = options || {};\n    var element = ol_ext_element.create('DIV', {\n      className: (options.className || 'ol-print') + ' ol-unselectable ol-control'\n    });\n    _this = _callSuper(this, olcontrolPrintDialog, [{\n      element: element\n    }]);\n    _this._lang = options.lang || 'en';\n    if (!options.target) {\n      ol_ext_element.create('BUTTON', {\n        type: 'button',\n        title: options.title || 'Print',\n        click: function () {\n          this.print();\n        }.bind(_this),\n        parent: element\n      });\n    }\n    // Open in a new window\n    if (options.openWindow) {\n      _this.on('print', function (e) {\n        // Print success\n        if (e.canvas) {\n          window.open().document.write('<img src=\"' + e.canvas.toDataURL() + '\"/>');\n        }\n      });\n    }\n\n    // Print control\n    options.target = ol_ext_element.create('DIV');\n    var printCtrl = _this._printCtrl = new ol_control_Print(options);\n    printCtrl.on(['print', 'error', 'printing'], function (e) {\n      this._printing(e);\n    }.bind(_this));\n\n    // North arrow\n    _this._compass = new ol_control_Compass({\n      src: options.northImage || 'compact',\n      visible: false,\n      className: 'olext-print-compass',\n      style: new ol_style_Stroke({\n        color: '#333',\n        width: 0\n      })\n    });\n\n    // Print dialog\n    var printDialog = _this._printDialog = new ol_control_Dialog({\n      target: options.targetDialog || document.body,\n      closeBox: true,\n      className: 'ol-ext-print-dialog'\n    });\n    var content = printDialog.getContentElement();\n    _this._input = {};\n    var param = ol_ext_element.create('DIV', {\n      className: 'ol-print-param',\n      parent: content\n    });\n    _this._pages = [ol_ext_element.create('DIV', {\n      className: 'ol-page'\n    })];\n    var printMap = ol_ext_element.create('DIV', {\n      className: 'ol-map',\n      parent: _this._pages[0]\n    });\n    ol_ext_element.create('DIV', {\n      html: _this._pages[0],\n      className: 'ol-print-map',\n      parent: content\n    });\n    ol_ext_element.create('H2', {\n      html: _this.i18n('title'),\n      parent: param\n    });\n    var ul = ol_ext_element.create('UL', {\n      parent: param\n    });\n\n    // Orientation\n    var li = ol_ext_element.create('LI', {\n      /*\r\n      html: ol_ext_element.create('LABEL', {\r\n        html: this.18n('orientation')\r\n      }),\r\n      */\n      className: 'ol-orientation',\n      parent: ul\n    });\n    _this._input.orientation = {\n      list: li\n    };\n    var label = ol_ext_element.create('LABEL', {\n      className: 'portrait',\n      parent: li\n    });\n    _this._input.orientation.portrait = ol_ext_element.create('INPUT', {\n      type: 'radio',\n      name: 'ol-print-orientation',\n      value: 'portrait',\n      checked: true,\n      on: {\n        change: function (e) {\n          this.setOrientation(e.target.value);\n        }.bind(_this)\n      },\n      parent: label\n    });\n    ol_ext_element.create('SPAN', {\n      html: _this.i18n('portrait'),\n      parent: label\n    });\n    label = ol_ext_element.create('LABEL', {\n      className: 'landscape',\n      parent: li\n    });\n    _this._input.orientation.landscape = ol_ext_element.create('INPUT', {\n      type: 'radio',\n      name: 'ol-print-orientation',\n      value: 'landscape',\n      on: {\n        change: function (e) {\n          this.setOrientation(e.target.value);\n        }.bind(_this)\n      },\n      parent: label\n    });\n    ol_ext_element.create('SPAN', {\n      html: _this.i18n('landscape'),\n      parent: label\n    });\n\n    // Page size\n    var s;\n    li = ol_ext_element.create('LI', {\n      html: ol_ext_element.create('LABEL', {\n        html: _this.i18n('size')\n      }),\n      className: 'ol-size',\n      parent: ul\n    });\n    var size = _this._input.size = ol_ext_element.create('SELECT', {\n      on: {\n        change: function () {\n          this.setSize(size.value || originalSize);\n        }.bind(_this)\n      },\n      parent: li\n    });\n    for (s in _this.paperSize) {\n      ol_ext_element.create('OPTION', {\n        html: s + (_this.paperSize[s] ? ' - ' + _this.paperSize[s][0] + 'x' + _this.paperSize[s][1] + ' mm' : _this.i18n('custom')),\n        value: s,\n        parent: size\n      });\n    }\n\n    // Margin\n    li = ol_ext_element.create('LI', {\n      html: ol_ext_element.create('LABEL', {\n        html: _this.i18n('margin')\n      }),\n      className: 'ol-margin',\n      parent: ul\n    });\n    var margin = _this._input.margin = ol_ext_element.create('SELECT', {\n      on: {\n        change: function () {\n          this.setMargin(margin.value);\n        }.bind(_this)\n      },\n      parent: li\n    });\n    for (s in _this.marginSize) {\n      ol_ext_element.create('OPTION', {\n        html: _this.i18n(s) + ' - ' + _this.marginSize[s] + ' mm',\n        value: _this.marginSize[s],\n        parent: margin\n      });\n    }\n\n    // Scale\n    li = ol_ext_element.create('LI', {\n      html: ol_ext_element.create('LABEL', {\n        html: _this.i18n('scale')\n      }),\n      className: 'ol-scale',\n      parent: ul\n    });\n    var scale = _this._input.scale = ol_ext_element.create('SELECT', {\n      on: {\n        change: function () {\n          this.setScale(parseInt(scale.value));\n        }.bind(_this)\n      },\n      parent: li\n    });\n    Object.keys(_this.scales).forEach(function (s) {\n      ol_ext_element.create('OPTION', {\n        html: this.scales[s],\n        value: s,\n        parent: scale\n      });\n    }.bind(_this));\n\n    // Legend\n    li = ol_ext_element.create('LI', {\n      className: 'ol-legend',\n      parent: ul\n    });\n    var legend = ol_ext_element.createSwitch({\n      html: _this.i18n('legend'),\n      checked: false,\n      on: {\n        change: function () {\n          extraCtrl.legend.control.setCanvas(legend.checked);\n        }.bind(_this)\n      },\n      parent: li\n    });\n\n    // North\n    li = ol_ext_element.create('LI', {\n      className: 'ol-print-north',\n      parent: ul\n    });\n    var north = _this._input.north = ol_ext_element.createSwitch({\n      html: _this.i18n('north'),\n      checked: 'checked',\n      on: {\n        change: function () {\n          if (north.checked) this._compass.element.classList.add('ol-print-compass');else this._compass.element.classList.remove('ol-print-compass');\n          this.getMap().render();\n        }.bind(_this)\n      },\n      parent: li\n    });\n\n    // Title\n    li = ol_ext_element.create('LI', {\n      className: 'ol-print-title',\n      parent: ul\n    });\n    var title = ol_ext_element.createSwitch({\n      html: _this.i18n('mapTitle'),\n      checked: false,\n      on: {\n        change: function (e) {\n          extraCtrl.title.control.setVisible(e.target.checked);\n        }.bind(_this)\n      },\n      parent: li\n    });\n    var titleText = ol_ext_element.create('INPUT', {\n      type: 'text',\n      placeholder: _this.i18n('mapTitle'),\n      on: {\n        keydown: function keydown(e) {\n          if (e.keyCode === 13) e.preventDefault();\n        },\n        keyup: function keyup() {\n          extraCtrl.title.control.setTitle(titleText.value);\n        },\n        change: function () {\n          extraCtrl.title.control.setTitle(titleText.value);\n        }.bind(_this)\n      },\n      parent: li\n    });\n\n    // User div element\n    var userElt = ol_ext_element.create('DIV', {\n      className: 'ol-user-param',\n      parent: param\n    });\n\n    // Save as\n    li = ol_ext_element.create('LI', {\n      className: 'ol-saveas',\n      parent: ul\n    });\n    ol_ext_element.create('DIV', {\n      html: _this.i18n('copied'),\n      className: 'ol-clipboard-copy',\n      parent: li\n    });\n    var save = ol_ext_element.create('SELECT', {\n      on: {\n        change: function () {\n          var saveas = save.value;\n          save.value = '';\n          // Copy to clipboard\n          if (this.formats[saveas].clipboard) {\n            if (this._copyMap(saveas)) return;\n          }\n          // Print to file\n          var format = typeof this.getSize() === 'string' ? this.getSize() : null;\n          var opt = Object.assign({\n            format: format,\n            size: format ? this.paperSize[format] : null,\n            orient: this.getOrientation(),\n            margin: this.getMargin()\n          }, this.formats[saveas]);\n          // console.log('OPTIONS',opt)\n          printCtrl.print(opt);\n        }.bind(_this)\n      },\n      parent: li\n    });\n    ol_ext_element.create('OPTION', {\n      html: _this.i18n('saveas'),\n      style: {\n        display: 'none'\n      },\n      value: '',\n      parent: save\n    });\n    _this.formats.forEach(function (format, i) {\n      if (format.pdf) {\n        if (options.pdf === false) return;\n      } else if (format.clipboard) {\n        if (options.copy === false) return;\n      } else if (options.save === false) {\n        return;\n      }\n      ol_ext_element.create('OPTION', {\n        html: this.i18n(format.title),\n        value: i,\n        parent: save\n      });\n    }.bind(_this));\n    // No options\n    if (save.querySelectorAll('option').length === 1) {\n      save.style.display = 'none';\n    }\n\n    // Save Legend\n    li = ol_ext_element.create('LI', {\n      className: 'ol-savelegend',\n      parent: ul\n    });\n    var copylegend = ol_ext_element.create('DIV', {\n      html: _this.i18n('copied'),\n      className: 'ol-clipboard-copy',\n      parent: li\n    });\n    var saveLegend = ol_ext_element.create('SELECT', {\n      on: {\n        change: function () {\n          // Print canvas (with white background)\n          var clegend = extraCtrl.legend.control.getLegend().getCanvas();\n          var canvas = document.createElement('CANVAS');\n          canvas.width = clegend.width;\n          canvas.height = clegend.height;\n          var ctx = canvas.getContext('2d');\n          ctx.fillStyle = '#fff';\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\n          ctx.drawImage(clegend, 0, 0);\n\n          // Copy to clipboard\n          if (this.formats[saveLegend.value].clipboard) {\n            canvas.toBlob(function (blob) {\n              try {\n                navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({}, blob.type, {\n                  value: blob,\n                  enumerable: true\n                }))]);\n                copylegend.classList.add('visible');\n                setTimeout(function () {\n                  copylegend.classList.remove('visible');\n                }, 1000);\n              } catch (err) {/* errror */}\n            }, 'image/png');\n          } else {\n            var image;\n            try {\n              image = canvas.toDataURL(this.formats[saveLegend.value].imageType, this.formats[saveLegend.value].quality);\n              var format = typeof this.getSize() === 'string' ? this.getSize() : 'A4';\n              var w = canvas.width / 96 * 25.4;\n              var h = canvas.height / 96 * 25.4;\n              var size = this.paperSize[format];\n              if (this.getOrientation() === 'landscape') size = [size[1], size[0]];\n              var position = [(size[0] - w) / 2, (size[1] - h) / 2];\n              this.dispatchEvent({\n                type: 'print',\n                print: {\n                  legend: true,\n                  format: format,\n                  orientation: this.getOrientation(),\n                  unit: 'mm',\n                  size: this.paperSize[format],\n                  position: position,\n                  imageWidth: w,\n                  imageHeight: h\n                },\n                image: image,\n                imageType: this.formats[saveLegend.value].imageType,\n                pdf: this.formats[saveLegend.value].pdf,\n                quality: this.formats[saveLegend.value].quality,\n                canvas: canvas\n              });\n            } catch (err) {/* error */}\n          }\n          saveLegend.value = '';\n        }.bind(_this)\n      },\n      parent: li\n    });\n    ol_ext_element.create('OPTION', {\n      html: _this.i18n('saveLegend'),\n      style: {\n        display: 'none'\n      },\n      value: '',\n      parent: saveLegend\n    });\n    _this.formats.forEach(function (format, i) {\n      ol_ext_element.create('OPTION', {\n        html: this.i18n(format.title),\n        value: i,\n        parent: saveLegend\n      });\n    }.bind(_this));\n\n    // Print\n    var prButtons = ol_ext_element.create('DIV', {\n      className: 'ol-ext-buttons',\n      parent: param\n    });\n    ol_ext_element.create('BUTTON', {\n      html: _this.i18n('printBt'),\n      type: 'submit',\n      click: function click(e) {\n        e.preventDefault();\n        window.print();\n      },\n      parent: prButtons\n    });\n    ol_ext_element.create('BUTTON', {\n      html: _this.i18n('cancel'),\n      type: 'button',\n      click: function click() {\n        printDialog.hide();\n      },\n      parent: prButtons\n    });\n    ol_ext_element.create('DIV', {\n      html: _this.i18n('errorMsg'),\n      className: 'ol-error',\n      parent: param\n    });\n\n    // Handle dialog show/hide\n    var originalTarget;\n    var originalSize;\n    var scalelistener;\n    var extraCtrl = {};\n    printDialog.on('show', function () {\n      // Dialog is showing\n      this.dispatchEvent({\n        type: 'show',\n        userElement: userElt,\n        dialog: this._printDialog,\n        page: this.getPage()\n      });\n      //\n      var map = this.getMap();\n      if (!map) return;\n      // Print document\n      document.body.classList.add('ol-print-document');\n      originalTarget = map.getTargetElement();\n      originalSize = map.getSize();\n      if (typeof this.getSize() === 'string') {\n        this.setSize(this.getSize());\n      } else {\n        this.setSize(originalSize);\n      }\n      map.setTarget(printMap);\n      // Refresh on move end\n      if (scalelistener) ol_Observable_unByKey(scalelistener);\n      scalelistener = map.on('moveend', function () {\n        this.setScale(ol_sphere_getMapScale(map));\n      }.bind(this));\n      this.setScale(ol_sphere_getMapScale(map));\n      // Get extra controls\n      extraCtrl = {};\n      this.getMap().getControls().forEach(function (c) {\n        if (c instanceof ol_control_Legend) {\n          extraCtrl.legend = {\n            control: c\n          };\n        }\n        if (c instanceof ol_control_CanvasTitle) {\n          extraCtrl.title = {\n            control: c\n          };\n        }\n        if (c instanceof ol_control_Compass) {\n          if (extraCtrl.compass) {\n            c.element.classList.remove('ol-print-compass');\n          } else {\n            if (this._input.north.checked) c.element.classList.add('ol-print-compass');else c.element.classList.remove('ol-print-compass');\n            this._compass = c;\n            extraCtrl.compass = {\n              control: c\n            };\n          }\n        }\n      }.bind(this));\n      // Show hide title\n      if (extraCtrl.title) {\n        title.checked = extraCtrl.title.isVisible = extraCtrl.title.control.getVisible();\n        titleText.value = extraCtrl.title.control.getTitle();\n        title.parentNode.parentNode.classList.remove('hidden');\n      } else {\n        title.parentNode.parentNode.classList.add('hidden');\n      }\n      // Show hide legend\n      if (extraCtrl.legend) {\n        extraCtrl.legend.ison = extraCtrl.legend.control.onCanvas();\n        extraCtrl.legend.collapsed = extraCtrl.legend.control.isCollapsed();\n        extraCtrl.legend.control.collapse(false);\n        saveLegend.parentNode.classList.remove('hidden');\n        legend.parentNode.parentNode.classList.remove('hidden');\n        legend.checked = !extraCtrl.legend.collapsed;\n        extraCtrl.legend.control.setCanvas(!extraCtrl.legend.collapsed);\n      } else {\n        saveLegend.parentNode.classList.add('hidden');\n        legend.parentNode.parentNode.classList.add('hidden');\n      }\n    }.bind(_this));\n    printDialog.on('hide', function () {\n      // No print\n      document.body.classList.remove('ol-print-document');\n      if (!originalTarget) return;\n      this.getMap().setTarget(originalTarget);\n      originalTarget = null;\n      if (scalelistener) ol_Observable_unByKey(scalelistener);\n      // restore\n      if (extraCtrl.title) {\n        extraCtrl.title.control.setVisible(extraCtrl.title.isVisible);\n      }\n      if (extraCtrl.legend) {\n        extraCtrl.legend.control.setCanvas(extraCtrl.legend.ison);\n        extraCtrl.legend.control.collapse(extraCtrl.legend.collapsed);\n      }\n      this.dispatchEvent({\n        type: 'hide'\n      });\n    }.bind(_this));\n\n    // Update preview on resize\n    window.addEventListener('resize', function () {\n      this.setSize();\n    }.bind(_this));\n\n    // Save or print\n    if (options.saveAs) {\n      _this.on('print', function (e) {\n        if (!e.pdf) {\n          // Save image as file\n          e.canvas.toBlob(function (blob) {\n            var name = (e.print.legend ? 'legend.' : 'map.') + e.imageType.replace('image/', '');\n            options.saveAs(blob, name);\n          }, e.imageType, e.quality);\n        }\n      });\n    }\n    // Save or print\n    if (options.jsPDF) {\n      _this.on('print', function (e) {\n        if (e.pdf) {\n          // Export pdf using the print info\n          var pdf = new options.jsPDF({\n            orientation: e.print.orientation,\n            unit: e.print.unit,\n            format: e.print.size\n          });\n          pdf.addImage(e.image, 'JPEG', e.print.position[0], e.print.position[0], e.print.imageWidth, e.print.imageHeight);\n          pdf.save(e.print.legend ? 'legend.pdf' : 'map.pdf');\n        }\n      });\n    }\n    return _this;\n  }\n  /** Add a new language\r\n   * @param {string} lang lang id\r\n   * @param {Objetct} labels\r\n   */\n  _inherits(olcontrolPrintDialog, _ol_control_Control);\n  return _createClass(olcontrolPrintDialog, [{\n    key: \"isOpen\",\n    value:\n    /** Check if the dialog is oprn\r\n     * @return {boolean}\r\n     */\n    function isOpen() {\n      return this._printDialog.isOpen();\n    }\n    /** Translate\r\n     * @param {string} what\r\n     * @returns {string}\r\n     */\n  }, {\n    key: \"i18n\",\n    value: function i18n(what) {\n      var rep = this._labels.en[what] || what;\n      if (this._labels[this._lang] && this._labels[this._lang][what]) {\n        rep = this._labels[this._lang][what];\n      }\n      return rep;\n    }\n    /** Get print orientation\r\n     * @returns {string}\r\n     */\n  }, {\n    key: \"getOrientation\",\n    value: function getOrientation() {\n      return this._orientation || 'portrait';\n    }\n    /** Set print orientation\r\n     * @param {string} ori landscape or portrait\r\n     */\n  }, {\n    key: \"setOrientation\",\n    value: function setOrientation(ori) {\n      this._orientation = ori === 'landscape' ? 'landscape' : 'portrait';\n      this._printDialog.element.dataset.orientation = this._orientation;\n      this._input.orientation[this._orientation].checked = true;\n      this.setSize();\n    }\n    /** Get print margin\r\n     * @returns {number}\r\n     */\n  }, {\n    key: \"getMargin\",\n    value: function getMargin() {\n      return this._margin || 0;\n    }\n    /** Set print margin\r\n     * @param {number}\r\n     */\n  }, {\n    key: \"setMargin\",\n    value: function setMargin(margin) {\n      this._margin = margin;\n      this._input.margin.value = margin;\n      this.setSize();\n    }\n    /** Get print size\r\n     * @returns {ol.size}\r\n     */\n  }, {\n    key: \"getSize\",\n    value: function getSize() {\n      return this._size;\n    }\n    /** Set map print size\r\n     * @param {ol/size|string} size map size as ol/size or A4, etc.\r\n     */\n  }, {\n    key: \"setSize\",\n    value: function setSize(size) {\n      // reset status\n      this._printDialog.getContentElement().dataset.status = '';\n      if (size) {\n        this._size = size;\n      } else {\n        size = this._size;\n      }\n      if (!size) return;\n      if (typeof size === 'string') {\n        // Test uppercase\n        for (var k in this.paperSize) {\n          if (k && new RegExp(k, 'i').test(size)) {\n            size = k;\n          }\n        }\n        // Default\n        if (!this.paperSize[size]) size = this._size = 'A4';\n        this._input.size.value = size;\n        size = [Math.trunc(this.paperSize[size][0] * 96 / 25.4), Math.trunc(this.paperSize[size][1] * 96 / 25.4)];\n        if (this.getOrientation() === 'landscape') {\n          size = [size[1], size[0]];\n        }\n        this.getPage().classList.remove('margin');\n      } else {\n        this._input.size.value = '';\n        this.getPage().classList.add('margin');\n      }\n      var printElement = this.getPage();\n      var s = printElement.parentNode.getBoundingClientRect();\n      var scx = (s.width - 40) / size[0];\n      var scy = (s.height - 40) / size[1];\n      var sc = Math.min(scx, scy, 1);\n      printElement.style.width = size[0] + 'px';\n      printElement.style.height = size[1] + 'px';\n      printElement.style['-webkit-transform'] = printElement.style.transform = 'translate(-50%,-50%) scale(' + sc + ')';\n      var px = Math.round(5 / sc);\n      printElement.style['-webkit-box-shadow'] = printElement.style['box-shadow'] = px + 'px ' + px + 'px ' + px + 'px rgba(0,0,0,.6)';\n      printElement.style['padding'] = this.getMargin() * 96 / 25.4 + 'px';\n      if (this.getMap()) {\n        this.getMap().updateSize();\n      }\n      this.dispatchEvent({\n        type: 'dialog:refresh'\n      });\n    }\n    /** Dispatch print events\r\n     * @private\r\n     */\n  }, {\n    key: \"_printing\",\n    value: function _printing(e) {\n      this._printDialog.getContentElement().dataset.status = e.type;\n      if (!e.clipboard) {\n        this.dispatchEvent(e);\n      }\n    }\n    /** Copy map to clipboard\r\n     * @param {string} format\r\n     * @return {boolean} if copy\r\n     * @private\r\n     */\n  }, {\n    key: \"_copyMap\",\n    value: function _copyMap(format) {\n      var copied = this._printDialog.element.querySelector('.ol-clipboard-copy');\n      this._printCtrl.copyMap(this.formats[format], function (isok) {\n        if (isok) {\n          copied.classList.add('visible');\n          setTimeout(function () {\n            copied.classList.remove('visible');\n          }, 1000);\n        }\n      });\n      return true;\n    }\n    /** Get dialog content element\r\n     * @return {Element}\r\n     */\n  }, {\n    key: \"getContentElement\",\n    value: function getContentElement() {\n      return this._printDialog.getContentElement();\n    }\n    /** Get dialog user element\r\n     * @return {Element}\r\n     */\n  }, {\n    key: \"getUserElement\",\n    value: function getUserElement() {\n      return this._printDialog.getContentElement().querySelector('.ol-user-param');\n    }\n    /** Get page element\r\n     * @return {Element}\r\n     */\n  }, {\n    key: \"getPage\",\n    value: function getPage() {\n      return this._pages[0];\n    }\n    /**\r\n     * Remove the control from its current map and attach it to the new map.\r\n     * Subclasses may set up event handlers to get notified about changes to\r\n     * the map here.\r\n     * @param {ol.Map} map Map.\r\n     * @api stable\r\n     */\n  }, {\n    key: \"setMap\",\n    value: function setMap(map) {\n      if (this.getMap()) {\n        this.getMap().removeControl(this._compass);\n        this.getMap().removeControl(this._printCtrl);\n        this.getMap().removeControl(this._printDialog);\n      }\n      _superPropGet(olcontrolPrintDialog, \"setMap\", this, 3)([map]);\n      if (this.getMap()) {\n        this.getMap().addControl(this._compass);\n        this.getMap().addControl(this._printCtrl);\n        this.getMap().addControl(this._printDialog);\n      }\n    }\n    /** Set the current scale (will change the scale of the map)\r\n     * @param {number|string} value the scale factor or a scale string as 1/xxx\r\n     */\n  }, {\n    key: \"setScale\",\n    value: function setScale(value) {\n      ol_sphere_setMapScale(this.getMap(), value);\n      this._input.scale.value = ' ' + Math.round(value / 100) * 100;\n    }\n    /** Get the current map scale factor\r\n     * @return {number}\r\n     */\n  }, {\n    key: \"getScale\",\n    value: function getScale() {\n      return ol_sphere_getMapScale(this.getMap());\n    }\n    /** Show print dialog\r\n     * @param {*}\r\n     *  @param {ol/size|string} options.size map size as ol/size or A4, etc.\r\n     *  @param {number|string} options.value the scale factor or a scale string as 1/xxx\r\n     *  @param {string} options.orientation landscape or portrait\r\n     *  @param {number} options.margin\r\n     */\n  }, {\n    key: \"print\",\n    value: function print(options) {\n      options = options || {};\n      if (options.size) this.setSize(options.size);\n      if (options.scale) this.setScale(options.scale);\n      if (options.orientation) this.setOrientation(options.orientation);\n      if (options.margin) this.setMargin(options.margin);\n      this._printDialog.show();\n    }\n    /** Get print control\r\n     * @returns {ol_control_Print}\r\n     */\n  }, {\n    key: \"getPrintControl\",\n    value: function getPrintControl() {\n      return this._printCtrl;\n    }\n  }], [{\n    key: \"addLang\",\n    value: function addLang(lang, labels) {\n      ol_control_PrintDialog.prototype._labels[lang] = labels;\n    }\n  }]);\n}(ol_control_Control);\n\n/** Print dialog labels (for customisation) */\nol_control_PrintDialog.prototype._labels = {\n  en: {\n    title: 'Print',\n    orientation: 'Orientation',\n    portrait: 'Portrait',\n    landscape: 'Landscape',\n    size: 'Page size',\n    custom: 'screen size',\n    margin: 'Margin',\n    scale: 'Scale',\n    legend: 'Legend',\n    north: 'North arrow',\n    mapTitle: 'Map title',\n    saveas: 'Save as...',\n    saveLegend: 'Save legend...',\n    copied: '✔ Copied to clipboard',\n    errorMsg: 'Can\\'t save map canvas...',\n    printBt: 'Print...',\n    clipboardFormat: 'copy to clipboard...',\n    jpegFormat: 'save as jpeg',\n    pngFormat: 'save as png',\n    pdfFormat: 'save as pdf',\n    none: 'none',\n    small: 'small',\n    large: 'large',\n    cancel: 'cancel'\n  },\n  fr: {\n    title: 'Imprimer',\n    orientation: 'Orientation',\n    portrait: 'Portrait',\n    landscape: 'Paysage',\n    size: 'Taille du papier',\n    custom: 'taille écran',\n    margin: 'Marges',\n    scale: 'Echelle',\n    legend: 'Légende',\n    north: 'Flèche du nord',\n    mapTitle: 'Titre de la carte',\n    saveas: 'Enregistrer sous...',\n    saveLegend: 'Enregistrer la légende...',\n    copied: '✔ Carte copiée',\n    errorMsg: 'Impossible d\\'enregistrer la carte',\n    printBt: 'Imprimer',\n    clipboardFormat: 'copier dans le presse-papier...',\n    jpegFormat: 'enregistrer un jpeg',\n    pngFormat: 'enregistrer un png',\n    pdfFormat: 'enregistrer un pdf',\n    none: 'aucune',\n    small: 'petites',\n    large: 'larges',\n    cancel: 'annuler'\n  },\n  de: {\n    title: 'Drucken',\n    orientation: 'Ausrichtung',\n    portrait: 'Hochformat',\n    landscape: 'Querformat',\n    size: 'Papierformat',\n    custom: 'Bildschirmgröße',\n    margin: 'Rand',\n    scale: 'Maßstab',\n    legend: 'Legende',\n    north: 'Nordpfeil',\n    mapTitle: 'Kartentitel',\n    saveas: 'Speichern als...',\n    saveLegend: 'Legende speichern...',\n    copied: '✔ In die Zwischenablage kopiert',\n    errorMsg: 'Kann Karte nicht speichern...',\n    printBt: 'Drucken...',\n    clipboardFormat: 'in die Zwischenablage kopieren...',\n    jpegFormat: 'speichern als jpeg',\n    pngFormat: 'speichern als png',\n    pdfFormat: 'speichern als pdf',\n    none: 'kein',\n    small: 'klein',\n    large: 'groß',\n    cancel: 'abbrechen'\n  },\n  zh: {\n    title: '打印',\n    orientation: '方向',\n    portrait: '纵向',\n    landscape: '横向',\n    size: '页面大小',\n    custom: '屏幕大小',\n    margin: '外边距',\n    scale: '尺度',\n    legend: '图例',\n    north: '指北针',\n    mapTitle: '地图名字',\n    saveas: '保存为...',\n    saveLegend: '保存图例为...',\n    copied: '✔ 已复制到剪贴板',\n    errorMsg: '无法保存地图...',\n    printBt: '打印...',\n    cancel: '取消'\n  },\n  it: {\n    title: 'Stampa',\n    orientation: 'Orientamento',\n    portrait: 'Verticale',\n    landscape: 'Orizzontale',\n    size: 'Formato pagina',\n    custom: 'Dimensione schermo',\n    margin: 'Margini',\n    scale: 'Scala',\n    legend: 'Legenda',\n    north: 'Freccia nord',\n    mapTitle: 'Titolo della mappa',\n    saveas: 'Salva con nome...',\n    saveLegend: 'Salva legenda...',\n    copied: '✔ Copiato negli appunti',\n    errorMsg: 'Impossibile salvare la mappa',\n    printBt: 'Stampa',\n    clipboardFormat: 'Copia negli appunti...',\n    jpegFormat: 'salva come jpeg',\n    pngFormat: 'salva come png',\n    pdfFormat: 'salva come pdf',\n    none: 'nessuno',\n    small: 'piccolo',\n    large: 'grande',\n    cancel: 'annulla'\n  }\n};\n\n/** List of paper size */\nol_control_PrintDialog.prototype.paperSize = {\n  '': null,\n  'A0': [841, 1189],\n  'A1': [594, 841],\n  'A2': [420, 594],\n  'A3': [297, 420],\n  'A4': [210, 297],\n  'US Letter': [215.9, 279.4],\n  'A5': [148, 210],\n  'B4': [257, 364],\n  'B5': [182, 257]\n};\n\n/** List of margin size */\nol_control_PrintDialog.prototype.marginSize = {\n  none: 0,\n  small: 5,\n  large: 10\n};\n\n/** List of legeng options * /\r\nol_control_PrintDialog.prototype.legendOptions = {\r\n  off: 'Hide legend',\r\n  on: 'Show legend'\r\n};\r\n\r\n/** List of print image file formats */\nol_control_PrintDialog.prototype.formats = [{\n  title: 'clipboardFormat',\n  imageType: 'image/png',\n  clipboard: true\n}, {\n  title: 'jpegFormat',\n  imageType: 'image/jpeg',\n  quality: .8\n}, {\n  title: 'pngFormat',\n  imageType: 'image/png',\n  quality: .8\n}, {\n  title: 'pdfFormat',\n  imageType: 'image/jpeg',\n  pdf: true\n}];\n\n/** List of print scale */\nol_control_PrintDialog.prototype.scales = {\n  ' 5000': '1/5.000',\n  ' 10000': '1/10.000',\n  ' 25000': '1/25.000',\n  ' 50000': '1/50.000',\n  ' 100000': '1/100.000',\n  ' 250000': '1/250.000',\n  ' 1000000': '1/1.000.000'\n};\nexport default ol_control_PrintDialog;","map":{"version":3,"names":["unByKey","ol_Observable_unByKey","ol_control_Control","ol_style_Stroke","ol_ext_element","ol_control_Dialog","ol_control_Legend","ol_control_Print","ol_control_CanvasTitle","getMapScale","ol_sphere_getMapScale","setMapScale","ol_sphere_setMapScale","ol_control_Compass","ol_control_PrintDialog","_ol_control_Control","olcontrolPrintDialog","options","_this","_classCallCheck","element","create","className","_callSuper","_lang","lang","target","type","title","click","print","bind","parent","openWindow","on","e","canvas","window","open","document","write","toDataURL","printCtrl","_printCtrl","_printing","_compass","src","northImage","visible","style","color","width","printDialog","_printDialog","targetDialog","body","closeBox","content","getContentElement","_input","param","_pages","printMap","html","i18n","ul","li","orientation","list","label","portrait","name","value","checked","change","setOrientation","landscape","s","size","setSize","originalSize","paperSize","margin","setMargin","marginSize","scale","setScale","parseInt","Object","keys","scales","forEach","legend","createSwitch","extraCtrl","control","setCanvas","north","classList","add","remove","getMap","render","setVisible","titleText","placeholder","keydown","keyCode","preventDefault","keyup","setTitle","userElt","save","saveas","formats","clipboard","_copyMap","format","getSize","opt","assign","orient","getOrientation","getMargin","display","i","pdf","copy","querySelectorAll","length","copylegend","saveLegend","clegend","getLegend","getCanvas","createElement","height","ctx","getContext","fillStyle","fillRect","drawImage","toBlob","blob","navigator","ClipboardItem","defineProperty","enumerable","setTimeout","err","image","imageType","quality","w","h","position","dispatchEvent","unit","imageWidth","imageHeight","prButtons","hide","originalTarget","scalelistener","userElement","dialog","page","getPage","map","getTargetElement","setTarget","getControls","c","compass","isVisible","getVisible","getTitle","parentNode","ison","onCanvas","collapsed","isCollapsed","collapse","addEventListener","saveAs","replace","jsPDF","addImage","_inherits","_createClass","key","isOpen","what","rep","_labels","en","_orientation","ori","dataset","_margin","_size","status","k","RegExp","test","Math","trunc","printElement","getBoundingClientRect","scx","scy","sc","min","transform","px","round","updateSize","copied","querySelector","copyMap","isok","getUserElement","setMap","removeControl","_superPropGet","addControl","getScale","show","getPrintControl","addLang","labels","prototype","custom","mapTitle","errorMsg","printBt","clipboardFormat","jpegFormat","pngFormat","pdfFormat","none","small","large","cancel","fr","de","zh","it"],"sources":["/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/ol-ext/control/PrintDialog.js"],"sourcesContent":["/*\r\n  Copyright (c) 2019 Jean-Marc VIGLINO,\r\n  released under the CeCILL-B license (French BSD license)\r\n  (http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.txt).\r\n*/\r\n\r\nimport {unByKey as ol_Observable_unByKey} from 'ol/Observable.js'\r\nimport ol_control_Control from 'ol/control/Control.js'\r\nimport ol_style_Stroke from 'ol/style/Stroke.js'\r\nimport ol_ext_element from '../util/element.js'\r\nimport ol_control_Dialog from './Dialog.js'\r\nimport ol_control_Legend from './Legend.js'\r\nimport ol_control_Print from './Print.js'\r\nimport ol_control_CanvasTitle from './CanvasTitle.js'\r\nimport {getMapScale as ol_sphere_getMapScale} from '../geom/sphere.js'\r\nimport {setMapScale as ol_sphere_setMapScale} from '../geom/sphere.js'\r\nimport ol_control_Compass from './Compass.js';\r\n\r\n/** Print control to get an image of the map\r\n * @constructor\r\n * @fire show\r\n * @fire print\r\n * @fire error\r\n * @fire printing\r\n * @extends {ol.control.Control}\r\n * @author https://github.com/chicoff (italian i18n)\r\n * @param {Object=} options Control options.\r\n *\t@param {string} options.className class of the control\r\n *\t@param {String} options.title button title\r\n *  @param {string} [options.lang=en] control language, default en\r\n *  @param {HTMLElement|string|undefined} [options.target] target element to render the control button outside of the map's viewport\r\n *  @param {HTMLElement|string|undefined} [options.targetDialog] target element for the dialog, default document body\r\n *\t@param {string} options.imageType A string indicating the image format, default image/jpeg\r\n *\t@param {number} options.quality Number between 0 and 1 indicating the image quality to use for image formats that use lossy compression such as image/jpeg and image/webp\r\n *\t@param {string} options.orientation Page orientation (landscape/portrait), default guest the best one\r\n *\t@param {boolean} options.immediate force print even if render is not complete,  default false\r\n *\t@param {boolean} [options.openWindow=false] open the file in a new window on print\r\n *\t@param {boolean} [options.copy=true] add a copy to clipboard select option\r\n *\t@param {boolean} [options.save=true] add a save select option\r\n *\t@param {boolean} [options.pdf=true] add a pdf select option\r\n *\t@param {function} [options.saveAs] a function to save the image as blob\r\n *\t@param {*} [options.jsPDF] jsPDF object to save map as pdf\r\n */\r\nvar ol_control_PrintDialog = class olcontrolPrintDialog extends ol_control_Control {\r\n  constructor(options) {\r\n    options = options || {}\r\n    \r\n    var element = ol_ext_element.create('DIV', {\r\n      className: (options.className || 'ol-print') + ' ol-unselectable ol-control'\r\n    })\r\n    super({\r\n      element: element\r\n    })\r\n    \r\n    this._lang = options.lang || 'en'\r\n    if (!options.target) {\r\n      ol_ext_element.create('BUTTON', {\r\n        type: 'button',\r\n        title: options.title || 'Print',\r\n        click: function () {\r\n          this.print()\r\n        }.bind(this),\r\n        parent: element\r\n      })\r\n    }\r\n    // Open in a new window\r\n    if (options.openWindow) {\r\n      this.on('print', function (e) {\r\n        // Print success\r\n        if (e.canvas) {\r\n          window.open().document.write('<img src=\"' + e.canvas.toDataURL() + '\"/>')\r\n        }\r\n      })\r\n    }\r\n\r\n    // Print control\r\n    options.target = ol_ext_element.create('DIV')\r\n    var printCtrl = this._printCtrl = new ol_control_Print(options)\r\n    printCtrl.on(['print', 'error', 'printing'], function (e) {\r\n      this._printing(e)\r\n    }.bind(this))\r\n\r\n    // North arrow\r\n    this._compass = new ol_control_Compass({\r\n      src: options.northImage || 'compact',\r\n      visible: false,\r\n      className: 'olext-print-compass',\r\n      style: new ol_style_Stroke({ color: '#333', width: 0 })\r\n    })\r\n\r\n    // Print dialog\r\n    var printDialog = this._printDialog = new ol_control_Dialog({\r\n      target: options.targetDialog || document.body,\r\n      closeBox: true,\r\n      className: 'ol-ext-print-dialog'\r\n    })\r\n    var content = printDialog.getContentElement()\r\n    this._input = {}\r\n    var param = ol_ext_element.create('DIV', {\r\n      className: 'ol-print-param',\r\n      parent: content\r\n    })\r\n    this._pages = [ol_ext_element.create('DIV', {\r\n      className: 'ol-page'\r\n    })]\r\n    var printMap = ol_ext_element.create('DIV', {\r\n      className: 'ol-map',\r\n      parent: this._pages[0]\r\n    })\r\n    ol_ext_element.create('DIV', {\r\n      html: this._pages[0],\r\n      className: 'ol-print-map',\r\n      parent: content\r\n    })\r\n    ol_ext_element.create('H2', {\r\n      html: this.i18n('title'),\r\n      parent: param\r\n    })\r\n    var ul = ol_ext_element.create('UL', { parent: param })\r\n\r\n    // Orientation\r\n    var li = ol_ext_element.create('LI', {\r\n      /*\r\n      html: ol_ext_element.create('LABEL', {\r\n        html: this.18n('orientation')\r\n      }),\r\n      */\r\n      className: 'ol-orientation',\r\n      parent: ul\r\n    })\r\n\r\n    this._input.orientation = { list: li }\r\n    var label = ol_ext_element.create('LABEL', {\r\n      className: 'portrait',\r\n      parent: li\r\n    })\r\n    this._input.orientation.portrait = ol_ext_element.create('INPUT', {\r\n      type: 'radio',\r\n      name: 'ol-print-orientation',\r\n      value: 'portrait',\r\n      checked: true,\r\n      on: {\r\n        change: function (e) {\r\n          this.setOrientation(e.target.value)\r\n        }.bind(this)\r\n      },\r\n      parent: label\r\n    })\r\n    ol_ext_element.create('SPAN', {\r\n      html: this.i18n('portrait'),\r\n      parent: label\r\n    })\r\n\r\n    label = ol_ext_element.create('LABEL', {\r\n      className: 'landscape',\r\n      parent: li\r\n    })\r\n    this._input.orientation.landscape = ol_ext_element.create('INPUT', {\r\n      type: 'radio',\r\n      name: 'ol-print-orientation',\r\n      value: 'landscape',\r\n      on: {\r\n        change: function (e) {\r\n          this.setOrientation(e.target.value)\r\n        }.bind(this)\r\n      },\r\n      parent: label\r\n    })\r\n    ol_ext_element.create('SPAN', {\r\n      html: this.i18n('landscape'),\r\n      parent: label\r\n    })\r\n\r\n    // Page size\r\n    var s\r\n    li = ol_ext_element.create('LI', {\r\n      html: ol_ext_element.create('LABEL', {\r\n        html: this.i18n('size'),\r\n      }),\r\n      className: 'ol-size',\r\n      parent: ul\r\n    })\r\n    var size = this._input.size = ol_ext_element.create('SELECT', {\r\n      on: {\r\n        change: function () {\r\n          this.setSize(size.value || originalSize)\r\n        }.bind(this)\r\n      },\r\n      parent: li\r\n    })\r\n    for (s in this.paperSize) {\r\n      ol_ext_element.create('OPTION', {\r\n        html: s + (this.paperSize[s] ? ' - ' + this.paperSize[s][0] + 'x' + this.paperSize[s][1] + ' mm' : this.i18n('custom')),\r\n        value: s,\r\n        parent: size\r\n      })\r\n    }\r\n\r\n    // Margin\r\n    li = ol_ext_element.create('LI', {\r\n      html: ol_ext_element.create('LABEL', {\r\n        html: this.i18n('margin'),\r\n      }),\r\n      className: 'ol-margin',\r\n      parent: ul\r\n    })\r\n    var margin = this._input.margin = ol_ext_element.create('SELECT', {\r\n      on: {\r\n        change: function () {\r\n          this.setMargin(margin.value)\r\n        }.bind(this)\r\n      },\r\n      parent: li\r\n    })\r\n    for (s in this.marginSize) {\r\n      ol_ext_element.create('OPTION', {\r\n        html: this.i18n(s) + ' - ' + this.marginSize[s] + ' mm',\r\n        value: this.marginSize[s],\r\n        parent: margin\r\n      })\r\n    }\r\n\r\n    // Scale\r\n    li = ol_ext_element.create('LI', {\r\n      html: ol_ext_element.create('LABEL', {\r\n        html: this.i18n('scale'),\r\n      }),\r\n      className: 'ol-scale',\r\n      parent: ul\r\n    })\r\n    var scale = this._input.scale = ol_ext_element.create('SELECT', {\r\n      on: {\r\n        change: function () {\r\n          this.setScale(parseInt(scale.value))\r\n        }.bind(this)\r\n      },\r\n      parent: li\r\n    })\r\n    Object.keys(this.scales).forEach(function (s) {\r\n      ol_ext_element.create('OPTION', {\r\n        html: this.scales[s],\r\n        value: s,\r\n        parent: scale\r\n      })\r\n    }.bind(this))\r\n\r\n    // Legend\r\n    li = ol_ext_element.create('LI', {\r\n      className: 'ol-legend',\r\n      parent: ul\r\n    })\r\n    var legend = ol_ext_element.createSwitch({\r\n      html: (this.i18n('legend')),\r\n      checked: false,\r\n      on: {\r\n        change: function () {\r\n          extraCtrl.legend.control.setCanvas(legend.checked)\r\n        }.bind(this)\r\n      },\r\n      parent: li\r\n    })\r\n\r\n    // North\r\n    li = ol_ext_element.create('LI', {\r\n      className: 'ol-print-north',\r\n      parent: ul\r\n    })\r\n    var north = this._input.north = ol_ext_element.createSwitch({\r\n      html: this.i18n('north'),\r\n      checked: 'checked',\r\n      on: {\r\n        change: function () {\r\n          if (north.checked)\r\n            this._compass.element.classList.add('ol-print-compass')\r\n          else\r\n            this._compass.element.classList.remove('ol-print-compass')\r\n          this.getMap().render()\r\n        }.bind(this)\r\n      },\r\n      parent: li\r\n    })\r\n\r\n    // Title\r\n    li = ol_ext_element.create('LI', {\r\n      className: 'ol-print-title',\r\n      parent: ul\r\n    })\r\n    var title = ol_ext_element.createSwitch({\r\n      html: this.i18n('mapTitle'),\r\n      checked: false,\r\n      on: {\r\n        change: function (e) {\r\n          extraCtrl.title.control.setVisible(e.target.checked)\r\n        }.bind(this)\r\n      },\r\n      parent: li\r\n    })\r\n    var titleText = ol_ext_element.create('INPUT', {\r\n      type: 'text',\r\n      placeholder: this.i18n('mapTitle'),\r\n      on: {\r\n        keydown: function (e) {\r\n          if (e.keyCode === 13)\r\n            e.preventDefault()\r\n        },\r\n        keyup: function () {\r\n          extraCtrl.title.control.setTitle(titleText.value)\r\n        },\r\n        change: function () {\r\n          extraCtrl.title.control.setTitle(titleText.value)\r\n        }.bind(this)\r\n      },\r\n      parent: li\r\n    })\r\n\r\n    // User div element\r\n    var userElt = ol_ext_element.create('DIV', {\r\n      className: 'ol-user-param',\r\n      parent: param\r\n    })\r\n\r\n    // Save as\r\n    li = ol_ext_element.create('LI', {\r\n      className: 'ol-saveas',\r\n      parent: ul\r\n    })\r\n    ol_ext_element.create('DIV', {\r\n      html: this.i18n('copied'),\r\n      className: 'ol-clipboard-copy',\r\n      parent: li\r\n    })\r\n    var save = ol_ext_element.create('SELECT', {\r\n      on: {\r\n        change: function () {\r\n          var saveas = save.value;\r\n          save.value = ''\r\n          // Copy to clipboard\r\n          if (this.formats[saveas].clipboard) {\r\n            if (this._copyMap(saveas)) return;\r\n          } \r\n          // Print to file\r\n          var format = (typeof (this.getSize()) === 'string' ? this.getSize() : null)\r\n          var opt = Object.assign({\r\n            format: format,\r\n            size: format ? this.paperSize[format] : null,\r\n            orient: this.getOrientation(),\r\n            margin: this.getMargin(),\r\n          }, this.formats[saveas])\r\n          // console.log('OPTIONS',opt)\r\n          printCtrl.print(opt)\r\n        }.bind(this)\r\n      },\r\n      parent: li\r\n    })\r\n    ol_ext_element.create('OPTION', {\r\n      html: this.i18n('saveas'),\r\n      style: { display: 'none' },\r\n      value: '',\r\n      parent: save\r\n    })\r\n    this.formats.forEach(function (format, i) {\r\n      if (format.pdf) {\r\n        if (options.pdf === false) return\r\n      } else if (format.clipboard) {\r\n        if (options.copy === false) return\r\n      } else if (options.save === false) {\r\n        return\r\n      }\r\n      ol_ext_element.create('OPTION', {\r\n        html: this.i18n(format.title),\r\n        value: i,\r\n        parent: save\r\n      })\r\n    }.bind(this))\r\n    // No options\r\n    if (save.querySelectorAll('option').length === 1) {\r\n      save.style.display = 'none';\r\n    }\r\n\r\n    // Save Legend\r\n    li = ol_ext_element.create('LI', {\r\n      className: 'ol-savelegend',\r\n      parent: ul\r\n    })\r\n    var copylegend = ol_ext_element.create('DIV', {\r\n      html: this.i18n('copied'),\r\n      className: 'ol-clipboard-copy',\r\n      parent: li\r\n    })\r\n    var saveLegend = ol_ext_element.create('SELECT', {\r\n      on: {\r\n        change: function () {\r\n          // Print canvas (with white background)\r\n          var clegend = extraCtrl.legend.control.getLegend().getCanvas()\r\n          var canvas = document.createElement('CANVAS')\r\n          canvas.width = clegend.width\r\n          canvas.height = clegend.height\r\n          var ctx = canvas.getContext('2d')\r\n          ctx.fillStyle = '#fff'\r\n          ctx.fillRect(0, 0, canvas.width, canvas.height)\r\n          ctx.drawImage(clegend, 0, 0)\r\n\r\n          // Copy to clipboard\r\n          if (this.formats[saveLegend.value].clipboard) {\r\n            canvas.toBlob(function (blob) {\r\n              try {\r\n                navigator.clipboard.write([\r\n                  new window.ClipboardItem(\r\n                    Object.defineProperty({}, blob.type, {\r\n                      value: blob,\r\n                      enumerable: true\r\n                    })\r\n                  )\r\n                ])\r\n                copylegend.classList.add('visible')\r\n                setTimeout(function () { copylegend.classList.remove('visible') }, 1000)\r\n              } catch (err) { /* errror */ }\r\n            }, 'image/png')\r\n          } else {\r\n            var image\r\n            try {\r\n              image = canvas.toDataURL(this.formats[saveLegend.value].imageType, this.formats[saveLegend.value].quality)\r\n              var format = (typeof (this.getSize()) === 'string' ? this.getSize() : 'A4')\r\n              var w = canvas.width / 96 * 25.4\r\n              var h = canvas.height / 96 * 25.4\r\n              var size = this.paperSize[format]\r\n              if (this.getOrientation() === 'landscape')\r\n                size = [size[1], size[0]]\r\n              var position = [\r\n                (size[0] - w) / 2,\r\n                (size[1] - h) / 2\r\n              ]\r\n              this.dispatchEvent({\r\n                type: 'print',\r\n                print: {\r\n                  legend: true,\r\n                  format: format,\r\n                  orientation: this.getOrientation(),\r\n                  unit: 'mm',\r\n                  size: this.paperSize[format],\r\n                  position: position,\r\n                  imageWidth: w,\r\n                  imageHeight: h\r\n                },\r\n                image: image,\r\n                imageType: this.formats[saveLegend.value].imageType,\r\n                pdf: this.formats[saveLegend.value].pdf,\r\n                quality: this.formats[saveLegend.value].quality,\r\n                canvas: canvas\r\n              })\r\n            } catch (err) { /* error */ }\r\n          }\r\n          saveLegend.value = ''\r\n        }.bind(this)\r\n      },\r\n      parent: li\r\n    })\r\n    ol_ext_element.create('OPTION', {\r\n      html: this.i18n('saveLegend'),\r\n      style: { display: 'none' },\r\n      value: '',\r\n      parent: saveLegend\r\n    })\r\n    this.formats.forEach(function (format, i) {\r\n      ol_ext_element.create('OPTION', {\r\n        html: this.i18n(format.title),\r\n        value: i,\r\n        parent: saveLegend\r\n      })\r\n    }.bind(this))\r\n\r\n    // Print\r\n    var prButtons = ol_ext_element.create('DIV', {\r\n      className: 'ol-ext-buttons',\r\n      parent: param\r\n    })\r\n    ol_ext_element.create('BUTTON', {\r\n      html: this.i18n('printBt'),\r\n      type: 'submit',\r\n      click: function (e) {\r\n        e.preventDefault()\r\n        window.print()\r\n      },\r\n      parent: prButtons\r\n    })\r\n    ol_ext_element.create('BUTTON', {\r\n      html: this.i18n('cancel'),\r\n      type: 'button',\r\n      click: function () { printDialog.hide() },\r\n      parent: prButtons\r\n    })\r\n    ol_ext_element.create('DIV', {\r\n      html: this.i18n('errorMsg'),\r\n      className: 'ol-error',\r\n      parent: param\r\n    })\r\n\r\n    // Handle dialog show/hide\r\n    var originalTarget\r\n    var originalSize\r\n    var scalelistener\r\n    var extraCtrl = {}\r\n    printDialog.on('show', function () {\r\n      // Dialog is showing\r\n      this.dispatchEvent({ type: 'show', userElement: userElt, dialog: this._printDialog, page: this.getPage() })\r\n      //\r\n      var map = this.getMap()\r\n      if (!map)\r\n        return\r\n      // Print document\r\n      document.body.classList.add('ol-print-document')\r\n      originalTarget = map.getTargetElement()\r\n      originalSize = map.getSize()\r\n      if (typeof (this.getSize()) === 'string') {\r\n        this.setSize(this.getSize())\r\n      } else {\r\n        this.setSize(originalSize)\r\n      }\r\n      map.setTarget(printMap)\r\n      // Refresh on move end\r\n      if (scalelistener) ol_Observable_unByKey(scalelistener)\r\n      scalelistener = map.on('moveend', function () {\r\n        this.setScale(ol_sphere_getMapScale(map))\r\n      }.bind(this))\r\n      this.setScale(ol_sphere_getMapScale(map))\r\n      // Get extra controls\r\n      extraCtrl = {}\r\n      this.getMap().getControls().forEach(function (c) {\r\n        if (c instanceof ol_control_Legend) {\r\n          extraCtrl.legend = { control: c }\r\n        }\r\n        if (c instanceof ol_control_CanvasTitle) {\r\n          extraCtrl.title = { control: c }\r\n        }\r\n        if (c instanceof ol_control_Compass) {\r\n          if (extraCtrl.compass) {\r\n            c.element.classList.remove('ol-print-compass')\r\n          } else {\r\n            if (this._input.north.checked)\r\n              c.element.classList.add('ol-print-compass')\r\n            else\r\n              c.element.classList.remove('ol-print-compass')\r\n            this._compass = c\r\n            extraCtrl.compass = { control: c }\r\n          }\r\n        }\r\n      }.bind(this))\r\n      // Show hide title\r\n      if (extraCtrl.title) {\r\n        title.checked = extraCtrl.title.isVisible = extraCtrl.title.control.getVisible()\r\n        titleText.value = extraCtrl.title.control.getTitle()\r\n        title.parentNode.parentNode.classList.remove('hidden')\r\n      } else {\r\n        title.parentNode.parentNode.classList.add('hidden')\r\n      }\r\n      // Show hide legend\r\n      if (extraCtrl.legend) {\r\n        extraCtrl.legend.ison = extraCtrl.legend.control.onCanvas()\r\n        extraCtrl.legend.collapsed = extraCtrl.legend.control.isCollapsed()\r\n        extraCtrl.legend.control.collapse(false)\r\n        saveLegend.parentNode.classList.remove('hidden')\r\n        legend.parentNode.parentNode.classList.remove('hidden')\r\n        legend.checked = !extraCtrl.legend.collapsed\r\n        extraCtrl.legend.control.setCanvas(!extraCtrl.legend.collapsed)\r\n      } else {\r\n        saveLegend.parentNode.classList.add('hidden')\r\n        legend.parentNode.parentNode.classList.add('hidden')\r\n      }\r\n    }.bind(this))\r\n\r\n    printDialog.on('hide', function () {\r\n      // No print\r\n      document.body.classList.remove('ol-print-document')\r\n      if (!originalTarget) return\r\n      this.getMap().setTarget(originalTarget)\r\n      originalTarget = null\r\n      if (scalelistener) ol_Observable_unByKey(scalelistener)\r\n      // restore\r\n      if (extraCtrl.title) {\r\n        extraCtrl.title.control.setVisible(extraCtrl.title.isVisible)\r\n      }\r\n      if (extraCtrl.legend) {\r\n        extraCtrl.legend.control.setCanvas(extraCtrl.legend.ison)\r\n        extraCtrl.legend.control.collapse(extraCtrl.legend.collapsed)\r\n      }\r\n      this.dispatchEvent({ type: 'hide' })\r\n    }.bind(this))\r\n\r\n    // Update preview on resize\r\n    window.addEventListener('resize', function () {\r\n      this.setSize()\r\n    }.bind(this))\r\n\r\n    // Save or print\r\n    if (options.saveAs) {\r\n      this.on('print', function (e) {\r\n        if (!e.pdf) {\r\n          // Save image as file\r\n          e.canvas.toBlob(function (blob) {\r\n            var name = (e.print.legend ? 'legend.' : 'map.') + e.imageType.replace('image/', '')\r\n            options.saveAs(blob, name)\r\n          }, e.imageType, e.quality)\r\n        }\r\n      })\r\n    }\r\n    // Save or print\r\n    if (options.jsPDF) {\r\n      this.on('print', function (e) {\r\n        if (e.pdf) {\r\n          // Export pdf using the print info\r\n          var pdf = new options.jsPDF({\r\n            orientation: e.print.orientation,\r\n            unit: e.print.unit,\r\n            format: e.print.size\r\n          })\r\n          pdf.addImage(e.image, 'JPEG', e.print.position[0], e.print.position[0], e.print.imageWidth, e.print.imageHeight)\r\n          pdf.save(e.print.legend ? 'legend.pdf' : 'map.pdf')\r\n        }\r\n      })\r\n    }\r\n  }\r\n  /** Add a new language\r\n   * @param {string} lang lang id\r\n   * @param {Objetct} labels\r\n   */\r\n  static addLang(lang, labels) {\r\n    ol_control_PrintDialog.prototype._labels[lang] = labels\r\n  }\r\n  /** Check if the dialog is oprn\r\n   * @return {boolean}\r\n   */\r\n  isOpen() {\r\n    return this._printDialog.isOpen()\r\n  }\r\n  /** Translate\r\n   * @param {string} what\r\n   * @returns {string}\r\n   */\r\n  i18n(what) {\r\n    var rep = this._labels.en[what] || what;\r\n    if (this._labels[this._lang] && this._labels[this._lang][what]) {\r\n      rep = this._labels[this._lang][what]\r\n    }\r\n    return rep\r\n  }\r\n  /** Get print orientation\r\n   * @returns {string}\r\n   */\r\n  getOrientation() {\r\n    return this._orientation || 'portrait'\r\n  }\r\n  /** Set print orientation\r\n   * @param {string} ori landscape or portrait\r\n   */\r\n  setOrientation(ori) {\r\n    this._orientation = (ori === 'landscape' ? 'landscape' : 'portrait')\r\n    this._printDialog.element.dataset.orientation = this._orientation\r\n    this._input.orientation[this._orientation].checked = true\r\n    this.setSize()\r\n  }\r\n  /** Get print margin\r\n   * @returns {number}\r\n   */\r\n  getMargin() {\r\n    return this._margin || 0\r\n  }\r\n  /** Set print margin\r\n   * @param {number}\r\n   */\r\n  setMargin(margin) {\r\n    this._margin = margin\r\n    this._input.margin.value = margin\r\n    this.setSize()\r\n  }\r\n  /** Get print size\r\n   * @returns {ol.size}\r\n   */\r\n  getSize() {\r\n    return this._size\r\n  }\r\n  /** Set map print size\r\n   * @param {ol/size|string} size map size as ol/size or A4, etc.\r\n   */\r\n  setSize(size) {\r\n    // reset status\r\n    this._printDialog.getContentElement().dataset.status = ''\r\n\r\n    if (size) {\r\n      this._size = size\r\n    } else {\r\n      size = this._size\r\n    }\r\n    if (!size) return\r\n\r\n    if (typeof (size) === 'string') {\r\n      // Test uppercase\r\n      for (var k in this.paperSize) {\r\n        if (k && new RegExp(k, 'i').test(size)) {\r\n          size = k\r\n        }\r\n      }\r\n      // Default\r\n      if (!this.paperSize[size])\r\n        size = this._size = 'A4'\r\n      this._input.size.value = size\r\n      size = [\r\n        Math.trunc(this.paperSize[size][0] * 96 / 25.4),\r\n        Math.trunc(this.paperSize[size][1] * 96 / 25.4)\r\n      ]\r\n      if (this.getOrientation() === 'landscape') {\r\n        size = [size[1], size[0]]\r\n      }\r\n      this.getPage().classList.remove('margin')\r\n    } else {\r\n      this._input.size.value = ''\r\n      this.getPage().classList.add('margin')\r\n    }\r\n\r\n    var printElement = this.getPage()\r\n    var s = printElement.parentNode.getBoundingClientRect()\r\n    var scx = (s.width - 40) / size[0]\r\n    var scy = (s.height - 40) / size[1]\r\n    var sc = Math.min(scx, scy, 1)\r\n    printElement.style.width = size[0] + 'px'\r\n    printElement.style.height = size[1] + 'px'\r\n    printElement.style['-webkit-transform'] =\r\n      printElement.style.transform = 'translate(-50%,-50%) scale(' + sc + ')'\r\n    var px = Math.round(5 / sc)\r\n    printElement.style['-webkit-box-shadow'] =\r\n      printElement.style['box-shadow'] = px + 'px ' + px + 'px ' + px + 'px rgba(0,0,0,.6)'\r\n    printElement.style['padding'] = (this.getMargin() * 96 / 25.4) + 'px'\r\n\r\n    if (this.getMap()) {\r\n      this.getMap().updateSize()\r\n    }\r\n\r\n    this.dispatchEvent({ type: 'dialog:refresh' })\r\n  }\r\n  /** Dispatch print events\r\n   * @private\r\n   */\r\n  _printing(e) {\r\n    this._printDialog.getContentElement().dataset.status = e.type\r\n    if (!e.clipboard) {\r\n      this.dispatchEvent(e)\r\n    }\r\n  }\r\n  /** Copy map to clipboard\r\n   * @param {string} format\r\n   * @return {boolean} if copy\r\n   * @private\r\n   */\r\n  _copyMap(format) {\r\n    var copied = this._printDialog.element.querySelector('.ol-clipboard-copy')\r\n    this._printCtrl.copyMap(this.formats[format], function (isok) {\r\n      if (isok) {\r\n        copied.classList.add('visible')\r\n        setTimeout(function () { copied.classList.remove('visible') }, 1000)\r\n      }\r\n    })\r\n    return true\r\n  }\r\n  /** Get dialog content element\r\n   * @return {Element}\r\n   */\r\n  getContentElement() {\r\n    return this._printDialog.getContentElement()\r\n  }\r\n  /** Get dialog user element\r\n   * @return {Element}\r\n   */\r\n  getUserElement() {\r\n    return this._printDialog.getContentElement().querySelector('.ol-user-param')\r\n  }\r\n  /** Get page element\r\n   * @return {Element}\r\n   */\r\n  getPage() {\r\n    return this._pages[0]\r\n  }\r\n  /**\r\n   * Remove the control from its current map and attach it to the new map.\r\n   * Subclasses may set up event handlers to get notified about changes to\r\n   * the map here.\r\n   * @param {ol.Map} map Map.\r\n   * @api stable\r\n   */\r\n  setMap(map) {\r\n    if (this.getMap()) {\r\n      this.getMap().removeControl(this._compass)\r\n      this.getMap().removeControl(this._printCtrl)\r\n      this.getMap().removeControl(this._printDialog)\r\n    }\r\n    super.setMap(map)\r\n    if (this.getMap()) {\r\n      this.getMap().addControl(this._compass)\r\n      this.getMap().addControl(this._printCtrl)\r\n      this.getMap().addControl(this._printDialog)\r\n    }\r\n  }\r\n  /** Set the current scale (will change the scale of the map)\r\n   * @param {number|string} value the scale factor or a scale string as 1/xxx\r\n   */\r\n  setScale(value) {\r\n    ol_sphere_setMapScale(this.getMap(), value)\r\n    this._input.scale.value = ' ' + (Math.round(value / 100) * 100)\r\n  }\r\n  /** Get the current map scale factor\r\n   * @return {number}\r\n   */\r\n  getScale() {\r\n    return ol_sphere_getMapScale(this.getMap())\r\n  }\r\n  /** Show print dialog\r\n   * @param {*}\r\n   *  @param {ol/size|string} options.size map size as ol/size or A4, etc.\r\n   *  @param {number|string} options.value the scale factor or a scale string as 1/xxx\r\n   *  @param {string} options.orientation landscape or portrait\r\n   *  @param {number} options.margin\r\n   */\r\n  print(options) {\r\n    options = options || {}\r\n    if (options.size) this.setSize(options.size)\r\n    if (options.scale) this.setScale(options.scale)\r\n    if (options.orientation) this.setOrientation(options.orientation)\r\n    if (options.margin) this.setMargin(options.margin)\r\n    this._printDialog.show()\r\n  }\r\n  /** Get print control\r\n   * @returns {ol_control_Print}\r\n   */\r\n  getPrintControl() {\r\n    return this._printCtrl\r\n  }\r\n}\r\n\r\n/** Print dialog labels (for customisation) */\r\nol_control_PrintDialog.prototype._labels = {\r\n  en: {\r\n    title: 'Print',\r\n    orientation: 'Orientation',\r\n    portrait: 'Portrait',\r\n    landscape: 'Landscape',\r\n    size: 'Page size',\r\n    custom: 'screen size',\r\n    margin: 'Margin',\r\n    scale: 'Scale',\r\n    legend: 'Legend',\r\n    north: 'North arrow',\r\n    mapTitle: 'Map title',\r\n    saveas: 'Save as...',\r\n    saveLegend: 'Save legend...',\r\n    copied: '✔ Copied to clipboard',\r\n    errorMsg: 'Can\\'t save map canvas...',\r\n    printBt: 'Print...',\r\n    clipboardFormat: 'copy to clipboard...',\r\n    jpegFormat: 'save as jpeg',\r\n    pngFormat: 'save as png',\r\n    pdfFormat: 'save as pdf',\r\n    none: 'none',\r\n    small: 'small',\r\n    large: 'large',  \r\n    cancel: 'cancel'\r\n  },\r\n  fr: {\r\n    title: 'Imprimer',\r\n    orientation: 'Orientation',\r\n    portrait: 'Portrait',\r\n    landscape: 'Paysage',\r\n    size: 'Taille du papier',\r\n    custom: 'taille écran',\r\n    margin: 'Marges',\r\n    scale: 'Echelle',\r\n    legend: 'Légende',\r\n    north: 'Flèche du nord',\r\n    mapTitle: 'Titre de la carte',\r\n    saveas: 'Enregistrer sous...',\r\n    saveLegend: 'Enregistrer la légende...',\r\n    copied: '✔ Carte copiée',\r\n    errorMsg: 'Impossible d\\'enregistrer la carte',\r\n    printBt: 'Imprimer',\r\n    clipboardFormat: 'copier dans le presse-papier...',\r\n    jpegFormat: 'enregistrer un jpeg',\r\n    pngFormat: 'enregistrer un png',\r\n    pdfFormat: 'enregistrer un pdf',\r\n    none: 'aucune',\r\n    small: 'petites',\r\n    large: 'larges',  \r\n    cancel: 'annuler'\r\n  },\r\n  de: {\r\n    title: 'Drucken',\r\n    orientation: 'Ausrichtung',\r\n    portrait: 'Hochformat',\r\n    landscape: 'Querformat',\r\n    size: 'Papierformat',\r\n    custom: 'Bildschirmgröße',\r\n    margin: 'Rand',\r\n    scale: 'Maßstab',\r\n    legend: 'Legende',\r\n    north: 'Nordpfeil',\r\n    mapTitle: 'Kartentitel',\r\n    saveas: 'Speichern als...',\r\n    saveLegend: 'Legende speichern...',\r\n    copied: '✔ In die Zwischenablage kopiert',\r\n    errorMsg: 'Kann Karte nicht speichern...',\r\n    printBt: 'Drucken...',\r\n    clipboardFormat: 'in die Zwischenablage kopieren...',\r\n    jpegFormat: 'speichern als jpeg',\r\n    pngFormat: 'speichern als png',\r\n    pdfFormat: 'speichern als pdf',\r\n    none: 'kein',\r\n    small: 'klein',\r\n    large: 'groß',  \r\n    cancel: 'abbrechen'\r\n  },\r\n  zh:{\r\n    title: '打印',\r\n    orientation: '方向',\r\n    portrait: '纵向',\r\n    landscape: '横向',\r\n    size: '页面大小',\r\n    custom: '屏幕大小',\r\n    margin: '外边距',\r\n    scale: '尺度',\r\n    legend: '图例',\r\n    north: '指北针',\r\n    mapTitle: '地图名字',\r\n    saveas: '保存为...',\r\n    saveLegend: '保存图例为...',\r\n    copied: '✔ 已复制到剪贴板',\r\n    errorMsg: '无法保存地图...',\r\n    printBt: '打印...',\r\n    cancel: '取消'\r\n  },\r\n  it: {\r\n    title: 'Stampa',\r\n    orientation: 'Orientamento',\r\n    portrait: 'Verticale',\r\n    landscape: 'Orizzontale',\r\n    size: 'Formato pagina',\r\n    custom: 'Dimensione schermo',\r\n    margin: 'Margini',\r\n    scale: 'Scala',\r\n    legend: 'Legenda',\r\n    north: 'Freccia nord',\r\n    mapTitle: 'Titolo della mappa',\r\n    saveas: 'Salva con nome...',\r\n    saveLegend: 'Salva legenda...',\r\n    copied: '✔ Copiato negli appunti',\r\n    errorMsg: 'Impossibile salvare la mappa',\r\n    printBt: 'Stampa',\r\n    clipboardFormat: 'Copia negli appunti...',\r\n    jpegFormat: 'salva come jpeg',\r\n    pngFormat: 'salva come png',\r\n    pdfFormat: 'salva come pdf',\r\n    none: 'nessuno',\r\n    small: 'piccolo',\r\n    large: 'grande',\r\n    cancel: 'annulla'\r\n  }\r\n};\r\n\r\n/** List of paper size */\r\nol_control_PrintDialog.prototype.paperSize = {\r\n  '': null,\r\n  'A0': [841,1189],\r\n  'A1': [594,841],\r\n  'A2': [420,594],\r\n  'A3': [297,420],\r\n  'A4': [210,297],\r\n  'US Letter': [215.9,279.4],\r\n  'A5': [148,210],\r\n  'B4': [257,364],\r\n  'B5': [182,257]\r\n};\r\n\r\n/** List of margin size */\r\nol_control_PrintDialog.prototype.marginSize = {\r\n  none: 0,\r\n  small: 5,\r\n  large: 10\r\n};\r\n\r\n/** List of legeng options * /\r\nol_control_PrintDialog.prototype.legendOptions = {\r\n  off: 'Hide legend',\r\n  on: 'Show legend'\r\n};\r\n\r\n/** List of print image file formats */\r\nol_control_PrintDialog.prototype.formats = [{\r\n    title: 'clipboardFormat',\r\n    imageType: 'image/png',\r\n    clipboard: true\r\n  }, {\r\n    title: 'jpegFormat',\r\n    imageType: 'image/jpeg',\r\n    quality: .8\r\n  }, {\r\n    title: 'pngFormat',\r\n    imageType: 'image/png',\r\n    quality: .8\r\n  }, {\r\n    title: 'pdfFormat',\r\n    imageType: 'image/jpeg',\r\n    pdf: true\r\n  }\r\n];\r\n\r\n/** List of print scale */\r\nol_control_PrintDialog.prototype.scales = {\r\n  ' 5000': '1/5.000',\r\n  ' 10000': '1/10.000',\r\n  ' 25000': '1/25.000',\r\n  ' 50000': '1/50.000',\r\n  ' 100000': '1/100.000',\r\n  ' 250000': '1/250.000',\r\n  ' 1000000': '1/1.000.000'\r\n};\r\n\r\nexport default ol_control_PrintDialog\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}