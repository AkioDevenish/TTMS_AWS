{"ast":null,"code":"import _classCallCheck from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.function.bind.js\";\n/**\n * @module ol/webgl/BaseTileRepresentation\n */\n\nimport EventTarget from '../events/Target.js';\nimport EventType from '../events/EventType.js';\nimport ImageTile from '../ImageTile.js';\nimport TileState from '../TileState.js';\nimport { abstract as _abstract } from '../util.js';\n\n/**\n * @typedef {import(\"../Tile.js\").default} BaseTileType\n */\n\n/**\n * @template {BaseTileType} TileType\n * @typedef {Object} TileRepresentationOptions\n * @property {TileType} tile The tile.\n * @property {import(\"../tilegrid/TileGrid.js\").default} grid Tile grid.\n * @property {import(\"../webgl/Helper.js\").default} helper WebGL helper.\n * @property {number} [gutter=0] The size in pixels of the gutter around image tiles to ignore.\n */\n\n/**\n * @classdesc\n * Base class for representing a tile in a webgl context\n * @template {import(\"../Tile.js\").default} TileType\n * @abstract\n */\nvar BaseTileRepresentation = /*#__PURE__*/function (_EventTarget) {\n  /**\n   * @param {TileRepresentationOptions<TileType>} options The tile representation options.\n   */\n  function BaseTileRepresentation(options) {\n    var _this;\n    _classCallCheck(this, BaseTileRepresentation);\n    _this = _callSuper(this, BaseTileRepresentation);\n\n    /**\n     * @type {TileType}\n     */\n    _this.tile;\n    _this.handleTileChange_ = _this.handleTileChange_.bind(_this);\n\n    /**\n     * @type {number}\n     * @protected\n     */\n    _this.gutter_ = options.gutter || 0;\n\n    /**\n     * @type {import(\"../webgl/Helper.js\").default}\n     * @protected\n     */\n    _this.helper_ = options.helper;\n    _this.loaded = false;\n    _this.ready = false;\n    return _this;\n  }\n\n  /**\n   * @param {TileType} tile Tile.\n   */\n  _inherits(BaseTileRepresentation, _EventTarget);\n  return _createClass(BaseTileRepresentation, [{\n    key: \"setTile\",\n    value: function setTile(tile) {\n      if (tile !== this.tile) {\n        if (this.tile) {\n          this.tile.removeEventListener(EventType.CHANGE, this.handleTileChange_);\n        }\n        this.tile = tile;\n        this.loaded = tile.getState() === TileState.LOADED;\n        if (this.loaded) {\n          this.uploadTile();\n        } else {\n          if (tile instanceof ImageTile) {\n            var image = tile.getImage();\n            if (image instanceof Image && !image.crossOrigin) {\n              image.crossOrigin = 'anonymous';\n            }\n          }\n          tile.addEventListener(EventType.CHANGE, this.handleTileChange_);\n        }\n      }\n    }\n\n    /**\n     * @abstract\n     * @protected\n     */\n  }, {\n    key: \"uploadTile\",\n    value: function uploadTile() {\n      _abstract();\n    }\n  }, {\n    key: \"setReady\",\n    value: function setReady() {\n      this.ready = true;\n      this.dispatchEvent(EventType.CHANGE);\n    }\n  }, {\n    key: \"handleTileChange_\",\n    value: function handleTileChange_() {\n      if (this.tile.getState() === TileState.LOADED) {\n        this.loaded = true;\n        this.uploadTile();\n      }\n    }\n  }, {\n    key: \"disposeInternal\",\n    value: function disposeInternal() {\n      this.tile.removeEventListener(EventType.CHANGE, this.handleTileChange_);\n    }\n  }]);\n}(EventTarget);\nexport default BaseTileRepresentation;","map":{"version":3,"names":["EventTarget","EventType","ImageTile","TileState","abstract","BaseTileRepresentation","_EventTarget","options","_this","_classCallCheck","_callSuper","tile","handleTileChange_","bind","gutter_","gutter","helper_","helper","loaded","ready","_inherits","_createClass","key","value","setTile","removeEventListener","CHANGE","getState","LOADED","uploadTile","image","getImage","Image","crossOrigin","addEventListener","setReady","dispatchEvent","disposeInternal"],"sources":["/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/ol/webgl/BaseTileRepresentation.js"],"sourcesContent":["/**\n * @module ol/webgl/BaseTileRepresentation\n */\n\nimport EventTarget from '../events/Target.js';\nimport EventType from '../events/EventType.js';\nimport ImageTile from '../ImageTile.js';\nimport TileState from '../TileState.js';\nimport {abstract} from '../util.js';\n\n/**\n * @typedef {import(\"../Tile.js\").default} BaseTileType\n */\n\n/**\n * @template {BaseTileType} TileType\n * @typedef {Object} TileRepresentationOptions\n * @property {TileType} tile The tile.\n * @property {import(\"../tilegrid/TileGrid.js\").default} grid Tile grid.\n * @property {import(\"../webgl/Helper.js\").default} helper WebGL helper.\n * @property {number} [gutter=0] The size in pixels of the gutter around image tiles to ignore.\n */\n\n/**\n * @classdesc\n * Base class for representing a tile in a webgl context\n * @template {import(\"../Tile.js\").default} TileType\n * @abstract\n */\nclass BaseTileRepresentation extends EventTarget {\n  /**\n   * @param {TileRepresentationOptions<TileType>} options The tile representation options.\n   */\n  constructor(options) {\n    super();\n\n    /**\n     * @type {TileType}\n     */\n    this.tile;\n    this.handleTileChange_ = this.handleTileChange_.bind(this);\n\n    /**\n     * @type {number}\n     * @protected\n     */\n    this.gutter_ = options.gutter || 0;\n\n    /**\n     * @type {import(\"../webgl/Helper.js\").default}\n     * @protected\n     */\n    this.helper_ = options.helper;\n\n    this.loaded = false;\n    this.ready = false;\n  }\n\n  /**\n   * @param {TileType} tile Tile.\n   */\n  setTile(tile) {\n    if (tile !== this.tile) {\n      if (this.tile) {\n        this.tile.removeEventListener(EventType.CHANGE, this.handleTileChange_);\n      }\n      this.tile = tile;\n      this.loaded = tile.getState() === TileState.LOADED;\n      if (this.loaded) {\n        this.uploadTile();\n      } else {\n        if (tile instanceof ImageTile) {\n          const image = tile.getImage();\n          if (image instanceof Image && !image.crossOrigin) {\n            image.crossOrigin = 'anonymous';\n          }\n        }\n        tile.addEventListener(EventType.CHANGE, this.handleTileChange_);\n      }\n    }\n  }\n\n  /**\n   * @abstract\n   * @protected\n   */\n  uploadTile() {\n    abstract();\n  }\n\n  setReady() {\n    this.ready = true;\n    this.dispatchEvent(EventType.CHANGE);\n  }\n\n  handleTileChange_() {\n    if (this.tile.getState() === TileState.LOADED) {\n      this.loaded = true;\n      this.uploadTile();\n    }\n  }\n\n  disposeInternal() {\n    this.tile.removeEventListener(EventType.CHANGE, this.handleTileChange_);\n  }\n}\n\nexport default BaseTileRepresentation;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}