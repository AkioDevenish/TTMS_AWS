{"ast":null,"code":"import _classCallCheck from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _superPropGet from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/superPropGet.js\";\nimport _inherits from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.function.bind.js\";\n/**\n * @module ol/renderer/Composite\n */\nimport MapRenderer from './Map.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport RenderEvent from '../render/Event.js';\nimport RenderEventType from '../render/EventType.js';\nimport { CLASS_UNSELECTABLE } from '../css.js';\nimport { checkedFonts } from '../render/canvas.js';\nimport { inView } from '../layer/Layer.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { replaceChildren } from '../dom.js';\n\n/**\n * @classdesc\n * Canvas map renderer.\n * @api\n */\nvar CompositeMapRenderer = /*#__PURE__*/function (_MapRenderer) {\n  /**\n   * @param {import(\"../Map.js\").default} map Map.\n   */\n  function CompositeMapRenderer(map) {\n    var _this;\n    _classCallCheck(this, CompositeMapRenderer);\n    _this = _callSuper(this, CompositeMapRenderer, [map]);\n\n    /**\n     * @type {import(\"../events.js\").EventsKey}\n     */\n    _this.fontChangeListenerKey_ = listen(checkedFonts, ObjectEventType.PROPERTYCHANGE, map.redrawText.bind(map));\n\n    /**\n     * @private\n     * @type {HTMLDivElement}\n     */\n    _this.element_ = document.createElement('div');\n    var style = _this.element_.style;\n    style.position = 'absolute';\n    style.width = '100%';\n    style.height = '100%';\n    style.zIndex = '0';\n    _this.element_.className = CLASS_UNSELECTABLE + ' ol-layers';\n    var container = map.getViewport();\n    container.insertBefore(_this.element_, container.firstChild || null);\n\n    /**\n     * @private\n     * @type {Array<HTMLElement>}\n     */\n    _this.children_ = [];\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _this.renderedVisible_ = true;\n\n    /**\n     * @type {Array<import(\"../layer/BaseVector.js\").default>}\n     */\n    _this.declutterLayers_ = [];\n    return _this;\n  }\n\n  /**\n   * @param {import(\"../render/EventType.js\").default} type Event type.\n   * @param {import(\"../Map.js\").FrameState} frameState Frame state.\n   */\n  _inherits(CompositeMapRenderer, _MapRenderer);\n  return _createClass(CompositeMapRenderer, [{\n    key: \"dispatchRenderEvent\",\n    value: function dispatchRenderEvent(type, frameState) {\n      var map = this.getMap();\n      if (map.hasListener(type)) {\n        var event = new RenderEvent(type, undefined, frameState);\n        map.dispatchEvent(event);\n      }\n    }\n  }, {\n    key: \"disposeInternal\",\n    value: function disposeInternal() {\n      unlistenByKey(this.fontChangeListenerKey_);\n      this.element_.parentNode.removeChild(this.element_);\n      _superPropGet(CompositeMapRenderer, \"disposeInternal\", this, 3)([]);\n    }\n\n    /**\n     * Render.\n     * @param {?import(\"../Map.js\").FrameState} frameState Frame state.\n     */\n  }, {\n    key: \"renderFrame\",\n    value: function renderFrame(frameState) {\n      if (!frameState) {\n        if (this.renderedVisible_) {\n          this.element_.style.display = 'none';\n          this.renderedVisible_ = false;\n        }\n        return;\n      }\n      this.calculateMatrices2D(frameState);\n      this.dispatchRenderEvent(RenderEventType.PRECOMPOSE, frameState);\n      var layerStatesArray = frameState.layerStatesArray.sort(function (a, b) {\n        return a.zIndex - b.zIndex;\n      });\n      var viewState = frameState.viewState;\n      this.children_.length = 0;\n      var declutterLayers = this.declutterLayers_;\n      declutterLayers.length = 0;\n      var previousElement = null;\n      for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n        var layerState = layerStatesArray[i];\n        frameState.layerIndex = i;\n        var layer = layerState.layer;\n        var sourceState = layer.getSourceState();\n        if (!inView(layerState, viewState) || sourceState != 'ready' && sourceState != 'undefined') {\n          layer.unrender();\n          continue;\n        }\n        var element = layer.render(frameState, previousElement);\n        if (!element) {\n          continue;\n        }\n        if (element !== previousElement) {\n          this.children_.push(element);\n          previousElement = element;\n        }\n        if ('getDeclutter' in layer) {\n          declutterLayers.push(/** @type {import(\"../layer/BaseVector.js\").default} */layer);\n        }\n      }\n      this.flushDeclutterItems(frameState);\n      replaceChildren(this.element_, this.children_);\n      this.dispatchRenderEvent(RenderEventType.POSTCOMPOSE, frameState);\n      if (!this.renderedVisible_) {\n        this.element_.style.display = '';\n        this.renderedVisible_ = true;\n      }\n      this.scheduleExpireIconCache(frameState);\n    }\n\n    /**\n     * @param {import(\"../Map.js\").FrameState} frameState Frame state.\n     */\n  }, {\n    key: \"flushDeclutterItems\",\n    value: function flushDeclutterItems(frameState) {\n      var layers = this.declutterLayers_;\n      for (var i = layers.length - 1; i >= 0; --i) {\n        layers[i].renderDeclutter(frameState);\n      }\n      layers.length = 0;\n    }\n  }]);\n}(MapRenderer);\nexport default CompositeMapRenderer;","map":{"version":3,"names":["MapRenderer","ObjectEventType","RenderEvent","RenderEventType","CLASS_UNSELECTABLE","checkedFonts","inView","listen","unlistenByKey","replaceChildren","CompositeMapRenderer","_MapRenderer","map","_this","_classCallCheck","_callSuper","fontChangeListenerKey_","PROPERTYCHANGE","redrawText","bind","element_","document","createElement","style","position","width","height","zIndex","className","container","getViewport","insertBefore","firstChild","children_","renderedVisible_","declutterLayers_","_inherits","_createClass","key","value","dispatchRenderEvent","type","frameState","getMap","hasListener","event","undefined","dispatchEvent","disposeInternal","parentNode","removeChild","_superPropGet","renderFrame","display","calculateMatrices2D","PRECOMPOSE","layerStatesArray","sort","a","b","viewState","length","declutterLayers","previousElement","i","ii","layerState","layerIndex","layer","sourceState","getSourceState","unrender","element","render","push","flushDeclutterItems","POSTCOMPOSE","scheduleExpireIconCache","layers","renderDeclutter"],"sources":["/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/ol/renderer/Composite.js"],"sourcesContent":["/**\n * @module ol/renderer/Composite\n */\nimport MapRenderer from './Map.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport RenderEvent from '../render/Event.js';\nimport RenderEventType from '../render/EventType.js';\nimport {CLASS_UNSELECTABLE} from '../css.js';\nimport {checkedFonts} from '../render/canvas.js';\nimport {inView} from '../layer/Layer.js';\nimport {listen, unlistenByKey} from '../events.js';\nimport {replaceChildren} from '../dom.js';\n\n/**\n * @classdesc\n * Canvas map renderer.\n * @api\n */\nclass CompositeMapRenderer extends MapRenderer {\n  /**\n   * @param {import(\"../Map.js\").default} map Map.\n   */\n  constructor(map) {\n    super(map);\n\n    /**\n     * @type {import(\"../events.js\").EventsKey}\n     */\n    this.fontChangeListenerKey_ = listen(\n      checkedFonts,\n      ObjectEventType.PROPERTYCHANGE,\n      map.redrawText.bind(map)\n    );\n\n    /**\n     * @private\n     * @type {HTMLDivElement}\n     */\n    this.element_ = document.createElement('div');\n    const style = this.element_.style;\n    style.position = 'absolute';\n    style.width = '100%';\n    style.height = '100%';\n    style.zIndex = '0';\n\n    this.element_.className = CLASS_UNSELECTABLE + ' ol-layers';\n\n    const container = map.getViewport();\n    container.insertBefore(this.element_, container.firstChild || null);\n\n    /**\n     * @private\n     * @type {Array<HTMLElement>}\n     */\n    this.children_ = [];\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.renderedVisible_ = true;\n\n    /**\n     * @type {Array<import(\"../layer/BaseVector.js\").default>}\n     */\n    this.declutterLayers_ = [];\n  }\n\n  /**\n   * @param {import(\"../render/EventType.js\").default} type Event type.\n   * @param {import(\"../Map.js\").FrameState} frameState Frame state.\n   */\n  dispatchRenderEvent(type, frameState) {\n    const map = this.getMap();\n    if (map.hasListener(type)) {\n      const event = new RenderEvent(type, undefined, frameState);\n      map.dispatchEvent(event);\n    }\n  }\n\n  disposeInternal() {\n    unlistenByKey(this.fontChangeListenerKey_);\n    this.element_.parentNode.removeChild(this.element_);\n    super.disposeInternal();\n  }\n\n  /**\n   * Render.\n   * @param {?import(\"../Map.js\").FrameState} frameState Frame state.\n   */\n  renderFrame(frameState) {\n    if (!frameState) {\n      if (this.renderedVisible_) {\n        this.element_.style.display = 'none';\n        this.renderedVisible_ = false;\n      }\n      return;\n    }\n\n    this.calculateMatrices2D(frameState);\n    this.dispatchRenderEvent(RenderEventType.PRECOMPOSE, frameState);\n\n    const layerStatesArray = frameState.layerStatesArray.sort(function (a, b) {\n      return a.zIndex - b.zIndex;\n    });\n    const viewState = frameState.viewState;\n\n    this.children_.length = 0;\n\n    const declutterLayers = this.declutterLayers_;\n    declutterLayers.length = 0;\n\n    let previousElement = null;\n    for (let i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n      const layerState = layerStatesArray[i];\n      frameState.layerIndex = i;\n\n      const layer = layerState.layer;\n      const sourceState = layer.getSourceState();\n      if (\n        !inView(layerState, viewState) ||\n        (sourceState != 'ready' && sourceState != 'undefined')\n      ) {\n        layer.unrender();\n        continue;\n      }\n\n      const element = layer.render(frameState, previousElement);\n      if (!element) {\n        continue;\n      }\n      if (element !== previousElement) {\n        this.children_.push(element);\n        previousElement = element;\n      }\n      if ('getDeclutter' in layer) {\n        declutterLayers.push(\n          /** @type {import(\"../layer/BaseVector.js\").default} */ (layer)\n        );\n      }\n    }\n    this.flushDeclutterItems(frameState);\n\n    replaceChildren(this.element_, this.children_);\n\n    this.dispatchRenderEvent(RenderEventType.POSTCOMPOSE, frameState);\n\n    if (!this.renderedVisible_) {\n      this.element_.style.display = '';\n      this.renderedVisible_ = true;\n    }\n\n    this.scheduleExpireIconCache(frameState);\n  }\n\n  /**\n   * @param {import(\"../Map.js\").FrameState} frameState Frame state.\n   */\n  flushDeclutterItems(frameState) {\n    const layers = this.declutterLayers_;\n    for (let i = layers.length - 1; i >= 0; --i) {\n      layers[i].renderDeclutter(frameState);\n    }\n    layers.length = 0;\n  }\n}\n\nexport default CompositeMapRenderer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}