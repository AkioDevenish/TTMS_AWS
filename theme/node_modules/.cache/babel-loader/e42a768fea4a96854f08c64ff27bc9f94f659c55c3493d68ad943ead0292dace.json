{"ast":null,"code":"import _classCallCheck from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _superPropGet from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/superPropGet.js\";\nimport _inherits from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.function.bind.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.timers.js\";\nimport ol_Object from 'ol/Object.js';\nimport { unByKey as ol_Observable_unByKey } from 'ol/Observable.js';\nimport ol_Collection from 'ol/Collection.js';\nimport { DEVICE_PIXEL_RATIO as ol_has_DEVICE_PIXEL_RATIO } from 'ol/has.js';\nimport { toContext as ol_render_toContext } from 'ol/render.js';\nimport { asString as ol_color_asString } from 'ol/color.js';\nimport ol_Feature from 'ol/Feature.js';\nimport ol_geom_Point from 'ol/geom/Point.js';\nimport ol_geom_LineString from 'ol/geom/LineString.js';\nimport ol_geom_Polygon from 'ol/geom/Polygon.js';\nimport { extend as ol_extent_extend } from 'ol/extent.js';\nimport ol_ext_element from '../util/element.js';\nimport ol_style_Text from 'ol/style/Text.js';\nimport ol_style_Fill from 'ol/style/Fill.js';\nimport ol_legend_Item from './Item.js';\nimport ol_legend_Image from './Image.js';\n\n/** Legend class to draw features in a legend element\r\n * @constructor\r\n * @fires select\r\n * @fires refresh\r\n * @param {*} options\r\n *  @param {String} options.title Legend title\r\n *  @param {number} [options.maxWidth] maximum legend width\r\n *  @param {ol.size} [options.size] Size of the symboles in the legend, default [40, 25]\r\n *  @param {number} [options.margin=10] Size of the symbole's margin, default 10\r\n *  @param { ol.layer.Base } [layer] layer associated with the legend\r\n *  @param { ol.style.Text} [options.textStyle='16px sans-serif'] a text style for the legend, default 16px sans-serif\r\n *  @param { ol.style.Text} [options.titleStyle='bold 16px sans-serif'] a text style for the legend title, default textStyle + bold\r\n *  @param { ol.style.Style | Array<ol.style.Style> | ol.StyleFunction | undefined\t} options.style a style or a style function to use with features\r\n */\nvar ol_legend_Legend = /*#__PURE__*/function (_ol_Object) {\n  function ollegendLegend(options) {\n    var _this;\n    _classCallCheck(this, ollegendLegend);\n    _this = _callSuper(this, ollegendLegend);\n    options = options || {};\n\n    // Handle item collection\n    _this._items = new ol_Collection();\n    var listeners = [];\n    var tout;\n    _this._items.on('add', function (e) {\n      listeners.push({\n        item: e.element,\n        on: e.element.on('change', function () {\n          this.refresh();\n        }.bind(this))\n      });\n      if (tout) {\n        clearTimeout(tout);\n        tout = null;\n      }\n      tout = setTimeout(function () {\n        this.refresh();\n      }.bind(this), 0);\n    }.bind(_this));\n    _this._items.on('remove', function (e) {\n      for (var i = 0; i < listeners; i++) {\n        if (e.element === listeners[i].item) {\n          ol_Observable_unByKey(listeners[i].on);\n          listeners.splice(i, 1);\n          break;\n        }\n      }\n      if (tout) {\n        clearTimeout(tout);\n        tout = null;\n      }\n      tout = setTimeout(function () {\n        this.refresh();\n      }.bind(this), 0);\n    }.bind(_this));\n\n    // List item element\n    _this._listElement = ol_ext_element.create('UL', {\n      className: 'ol-legend'\n    });\n    // Legend canvas\n    _this._canvas = document.createElement('canvas');\n    // Set layer\n    _this.setLayer(options.layer);\n\n    // Properties\n    _this.set('maxWidth', options.maxWidth, true);\n    _this.set('size', options.size || [40, 25], true);\n    _this.set('margin', options.margin === 0 ? 0 : options.margin || 10, true);\n    _this._textStyle = options.textStyle || new ol_style_Text({\n      font: '16px sans-serif',\n      fill: new ol_style_Fill({\n        color: '#333'\n      }),\n      backgroundFill: new ol_style_Fill({\n        color: 'rgba(255,255,255,.8)'\n      })\n    });\n    _this._title = new ol_legend_Item({\n      title: options.title || '',\n      className: 'ol-title'\n    });\n    if (options.titleStyle) {\n      _this._titleStyle = options.titleStyle;\n    } else {\n      _this._titleStyle = _this._textStyle.clone();\n      _this._titleStyle.setFont('bold ' + _this._titleStyle.getFont());\n    }\n    _this.setStyle(options.style);\n    if (options.items instanceof Array) {\n      options.items.forEach(function (item) {\n        this.addItem(item);\n      }.bind(_this));\n    }\n    _this.refresh();\n    return _this;\n  }\n  /** Get a symbol image for a given legend item\r\n   * @param {olLegendItemOptions} item\r\n   * @param {Canvas|undefined} canvas a canvas to draw in, if none creat one\r\n   * @param {int|undefined} offsetY Y offset to draw in canvas, default 0\r\n   */\n  _inherits(ollegendLegend, _ol_Object);\n  return _createClass(ollegendLegend, [{\n    key: \"setTitle\",\n    value:\n    /** Set legend title\r\n     * @param {string} title\r\n     */\n    function setTitle(title) {\n      this._title.setTitle(title);\n      this.refresh();\n    }\n    /** Get legend title\r\n     * @returns {string}\r\n     */\n  }, {\n    key: \"getTitle\",\n    value: function getTitle() {\n      return this._title.get('title');\n    }\n    /** Set the layer associated with the legend\r\n     * @param {ol.layer.Layer} [layer]\r\n     */\n  }, {\n    key: \"setLayer\",\n    value: function setLayer(layer) {\n      if (this._layerListener) ol_Observable_unByKey(this._layerListener);\n      this._layer = layer;\n      if (layer) {\n        this._layerListener = layer.on('change:visible', function () {\n          this.refresh();\n        }.bind(this));\n      } else {\n        this._layerListener = null;\n      }\n    }\n    /** Get text Style\r\n     * @returns {ol_style_Text}\r\n     */\n  }, {\n    key: \"getTextStyle\",\n    value: function getTextStyle() {\n      return this._textStyle;\n    }\n    /** Set legend size\r\n     * @param {ol.size} size\r\n     */\n  }, {\n    key: \"set\",\n    value: function set(key, value, opt_silent) {\n      _superPropGet(ollegendLegend, \"set\", this, 3)([key, value, opt_silent]);\n      if (!opt_silent) this.refresh();\n    }\n    /** Get legend list element\r\n     * @returns {Element}\r\n     */\n  }, {\n    key: \"getListElement\",\n    value: function getListElement() {\n      return this._listElement;\n    }\n    /** Get legend canvas\r\n     * @returns {HTMLCanvasElement}\r\n     */\n  }, {\n    key: \"getCanvas\",\n    value: function getCanvas() {\n      return this._canvas;\n    }\n    /** Set the style\r\n     * @param { ol.style.Style | Array<ol.style.Style> | ol.StyleFunction | undefined\t} style a style or a style function to use with features\r\n     */\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      this._style = style;\n      this.refresh();\n    }\n    /** Add a new item to the legend\r\n     * @param {olLegendItemOptions|ol_legend_Item} item\r\n     */\n  }, {\n    key: \"addItem\",\n    value: function addItem(item) {\n      if (item instanceof ol_legend_Legend) {\n        this._items.push(item);\n        item.on('refresh', function () {\n          this.refresh(true);\n        }.bind(this));\n      } else if (item instanceof ol_legend_Item || item instanceof ol_legend_Image) {\n        this._items.push(item);\n      } else {\n        this._items.push(new ol_legend_Item(item));\n      }\n    }\n    /** Remove an item at index\r\n     * @param {ol_legend_Item} item\r\n     */\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(item) {\n      this._items.remove(item);\n    }\n    /** Remove an item at index\r\n     * @param {number} index\r\n     */\n  }, {\n    key: \"removeItemAt\",\n    value: function removeItemAt(index) {\n      this._items.removeAt(index);\n    }\n    /** Get item collection\r\n     * @param {ol_Collection}\r\n     */\n  }, {\n    key: \"getItems\",\n    value: function getItems() {\n      return this._items;\n    }\n    /** Draw legend text\r\n     * @private\r\n     */\n  }, {\n    key: \"_drawText\",\n    value: function _drawText(ctx, text, x, y) {\n      ctx.save();\n      ctx.scale(ol_has_DEVICE_PIXEL_RATIO, ol_has_DEVICE_PIXEL_RATIO);\n      text = text || '';\n      var txt = text.split('\\n');\n      if (txt.length === 1) {\n        ctx.fillText(text, x, y);\n      } else {\n        ctx.textBaseline = 'bottom';\n        ctx.fillText(txt[0], x, y);\n        ctx.textBaseline = 'top';\n        ctx.fillText(txt[1], x, y);\n      }\n      ctx.restore();\n    }\n    /** Draw legend text\r\n     * @private\r\n     */\n  }, {\n    key: \"_measureText\",\n    value: function _measureText(ctx, text) {\n      var txt = (text || '').split('\\n');\n      if (txt.length === 1) {\n        return ctx.measureText(text);\n      } else {\n        var m1 = ctx.measureText(txt[0]);\n        var m2 = ctx.measureText(txt[1]);\n        return {\n          width: Math.max(m1.width, m2.width),\n          height: m1.height + m2.height\n        };\n      }\n    }\n    /** Refresh the legend\r\n     */\n  }, {\n    key: \"refresh\",\n    value: function refresh(opt_silent) {\n      var table = this._listElement;\n      if (!table) return;\n      table.innerHTML = '';\n      var margin = this.get('margin');\n      var width = this.get('size')[0] + 2 * margin;\n      var height = this.get('lineHeight') || this.get('size')[1] + 2 * margin;\n      var canvas = this.getCanvas();\n      var ctx = canvas.getContext('2d');\n      ctx.textAlign = 'left';\n      ctx.textBaseline = 'middle';\n      var ratio = ol_has_DEVICE_PIXEL_RATIO;\n\n      // Canvas size\n      var w = Math.min(this.getWidth(), this.get('maxWidth') || Infinity);\n      var h = this.getHeight();\n      canvas.width = w * ratio;\n      canvas.height = h * ratio;\n      canvas.style.height = h + 'px';\n      ctx.textBaseline = 'middle';\n      ctx.fillStyle = ol_color_asString(this._textStyle.getFill().getColor());\n\n      // Add Title\n      if (this.getTitle()) {\n        table.appendChild(this._title.getElement([width, height], function (b) {\n          this.dispatchEvent({\n            type: 'select',\n            index: -1,\n            symbol: b,\n            item: this._title\n          });\n        }.bind(this)));\n        ctx.font = this._titleStyle.getFont();\n        ctx.textAlign = 'center';\n        this._drawText(ctx, this.getTitle(), canvas.width / ratio / 2, height / 2);\n      }\n      // Add items\n      var offsetY = 0;\n      if (this.getTitle()) offsetY = height;\n      var nb = 0;\n      this._items.forEach(function (r, i) {\n        if (r instanceof ol_legend_Legend) {\n          if ((!r._layer || r._layer.getVisible()) && r.getCanvas().height) {\n            ctx.drawImage(r.getCanvas(), 0, offsetY * ratio);\n            var list = r._listElement.querySelectorAll('li');\n            for (var l = 0; l < list.length; l++) {\n              var li = list[l].cloneNode();\n              li.innerHTML = list[l].innerHTML;\n              table.appendChild(li);\n              nb++;\n            }\n            offsetY += r.getHeight();\n          }\n        } else {\n          if (r instanceof ol_legend_Image) {\n            // Title\n            if (r.get('title')) {\n              table.appendChild(this._title.getElement([width, height], function (b) {\n                this.dispatchEvent({\n                  type: 'select',\n                  index: -1,\n                  symbol: b,\n                  item: this._title\n                });\n              }.bind(this)));\n              ctx.font = r.get('textStyle') ? r.get('textStyle').getFont() : this._titleStyle.getFont();\n              if (/\\bcenter\\b/.test(r.get('className'))) {\n                ctx.textAlign = 'center';\n                this._drawText(ctx, r.get('title'), canvas.width / ratio / 2, offsetY + height / 2);\n              } else {\n                this._drawText(ctx, r.get('title'), margin, offsetY + height / 2);\n              }\n              offsetY += height;\n            }\n            // Image\n            var img = r.getImage();\n            try {\n              ctx.drawImage(img, 0, 0, img.naturalWidth, img.naturalHeight, 0, offsetY * ratio, r.getWidth() * ratio, r.getHeight() * ratio);\n            } catch (e) {/* ok */}\n            offsetY += r.getHeight();\n          } else {\n            var item = r.getProperties();\n            var h = item.height || height;\n            ctx.textAlign = 'left';\n            if (item.feature || item.typeGeom) {\n              canvas = this.getLegendImage(item, canvas, offsetY);\n              ctx.font = r.get('textStyle') ? r.get('textStyle').getFont() : this._textStyle.getFont();\n              this._drawText(ctx, r.get('title'), width + margin, offsetY + h / 2);\n            } else {\n              ctx.font = r.get('textStyle') ? r.get('textStyle').getFont() : this._titleStyle.getFont();\n              if (/\\bcenter\\b/.test(item.className)) {\n                ctx.textAlign = 'center';\n                this._drawText(ctx, r.get('title'), canvas.width / ratio / 2, offsetY + h / 2);\n              } else {\n                this._drawText(ctx, r.get('title'), margin, offsetY + h / 2);\n              }\n            }\n            offsetY += h;\n          }\n          table.appendChild(r.getElement([width, height], function (b) {\n            this.dispatchEvent({\n              type: 'select',\n              index: i,\n              symbol: b,\n              item: r\n            });\n          }.bind(this)));\n          nb++;\n        }\n      }.bind(this));\n      this.set('items', nb, true);\n      this.dispatchEvent({\n        type: 'items',\n        nb: nb\n      });\n\n      // Done\n      if (!opt_silent) {\n        this.dispatchEvent({\n          type: 'refresh',\n          width: width,\n          height: (this._items.length + 1) * height\n        });\n      }\n    }\n    /** Calculate the legend height\r\n     * @return {number}\r\n     */\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      // default item height\n      var margin = this.get('margin');\n      var hitem = this.get('lineHeight') || this.get('size')[1] + 2 * margin;\n      var height = this.getTitle() ? hitem : 0;\n      this._items.forEach(function (r) {\n        if (r instanceof ol_legend_Legend) {\n          if (!r._layer || r._layer.getVisible()) {\n            height += r.getHeight();\n          }\n        } else if (r instanceof ol_legend_Image) {\n          if (r.get('title')) height += hitem;\n          height += r.getHeight();\n        } else {\n          if (r.get('height')) height += r.get('height') + 2 * margin;else height += hitem;\n        }\n      });\n      return height;\n    }\n    /** Calculate the legend height\r\n     * @return {number}\r\n     */\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      var canvas = this.getCanvas();\n      var ctx = canvas.getContext('2d');\n      var margin = this.get('margin');\n      var width = this.get('size')[0] + 2 * margin;\n      ctx.font = this._titleStyle.getFont();\n      var textWidth = this._measureText(ctx, this.getTitle('title')).width;\n      this._items.forEach(function (r) {\n        if (r instanceof ol_legend_Legend) {\n          if (!r._layer || r._layer.getVisible()) {\n            textWidth = Math.max(textWidth, r.getWidth());\n          }\n        } else if (r instanceof ol_legend_Image) {\n          textWidth = Math.max(textWidth, r.getWidth());\n          if (r.get('title')) {\n            ctx.font = r.get('textStyle') ? r.get('textStyle').getFont() : this._titleStyle.getFont();\n            textWidth = Math.max(textWidth, this._measureText(ctx, r.get('title')).width);\n          }\n        } else {\n          if (r.get('feature') || r.get('typeGeom')) {\n            ctx.font = r.get('textStyle') ? r.get('textStyle').getFont() : this._textStyle.getFont();\n            textWidth = Math.max(textWidth, this._measureText(ctx, r.get('title')).width + width);\n          } else {\n            ctx.font = r.get('textStyle') ? r.get('textStyle').getFont() : this._titleStyle.getFont();\n            textWidth = Math.max(textWidth, this._measureText(ctx, r.get('title')).width);\n          }\n        }\n      }.bind(this));\n      return textWidth + 2 * margin;\n    }\n    /** Get the image for a style \r\n     * @param {olLegendItemOptions} item \r\n     * @param {Canvas|undefined} canvas a canvas to draw in, if none create one\r\n     * @param {int|undefined} offsetY Y offset to draw in canvas, default 0\r\n     * @return {CanvasElement}\r\n     */\n  }, {\n    key: \"getLegendImage\",\n    value: function getLegendImage(options, canvas, offsetY) {\n      options = options || {};\n      var size = this.get('size');\n      return ol_legend_Legend.getLegendImage({\n        className: options.className,\n        feature: options.feature,\n        typeGeom: options.typeGeom,\n        style: options.style || this._style,\n        properties: options.properties,\n        margin: options.margin || this.get('margin'),\n        size: [options.width || size[0], options.height || size[1]],\n        lineHeight: options.lineHeight || this.get('lineHeight'),\n        onload: function () {\n          // Force refresh\n          this.refresh();\n        }.bind(this)\n      }, canvas, offsetY);\n    }\n  }], [{\n    key: \"getLegendImage\",\n    value: function getLegendImage(item, canvas, offsetY) {\n      item = item || {};\n      if (typeof item.margin === 'undefined') {\n        item.margin = 10;\n      }\n      var size = item.size || [40, 25];\n      if (item.width) size[0] = item.width;\n      if (item.heigth) size[1] = item.heigth;\n      item.onload = item.onload || function () {\n        setTimeout(function () {\n          ol_legend_Legend.getLegendImage(item, canvas, offsetY);\n        }, 100);\n      };\n      var width = size[0] + 2 * item.margin;\n      var height = item.lineHeight || size[1] + 2 * item.margin;\n      var ratio = item.pixelratio || ol_has_DEVICE_PIXEL_RATIO;\n      if (!canvas) {\n        offsetY = 0;\n        canvas = document.createElement('canvas');\n        canvas.width = width * ratio;\n        canvas.height = height * ratio;\n      }\n      var ctx = canvas.getContext('2d');\n      ctx.save();\n      var vectorContext = ol_render_toContext(ctx, {\n        pixelRatio: ratio\n      });\n      var typeGeom = item.typeGeom;\n      var style;\n      var feature = item.feature;\n      if (!feature && typeGeom) {\n        if (/Point/.test(typeGeom)) {\n          feature = new ol_Feature(new ol_geom_Point([0, 0]));\n        } else if (/LineString/.test(typeGeom)) {\n          feature = new ol_Feature(new ol_geom_LineString([0, 0]));\n        } else {\n          feature = new ol_Feature(new ol_geom_Polygon([[0, 0]]));\n        }\n        if (item.properties) {\n          feature.setProperties(item.properties);\n        }\n      }\n      if (feature) {\n        style = feature.getStyle();\n        if (typeof style === 'function') style = style(feature);\n        if (!style) {\n          style = typeof item.style === 'function' ? item.style(feature) : item.style || [];\n        }\n        typeGeom = feature.getGeometry().getType();\n      } else {\n        style = [];\n      }\n      if (!(style instanceof Array)) style = [style];\n      var cx = width / 2;\n      var cy = height / 2;\n      var sx = size[0] / 2;\n      var sy = size[1] / 2;\n      var i, s;\n      // Get point offset\n      if (typeGeom === 'Point') {\n        var extent = null;\n        for (i = 0; s = style[i]; i++) {\n          var img = s.getImage();\n          // Refresh legend on image load\n          if (img) {\n            var imgElt = img.getPhoto ? img.getPhoto() : img.getImage();\n            // Check image is loaded\n            if (imgElt && imgElt instanceof HTMLImageElement && !imgElt.naturalWidth) {\n              if (typeof item.onload === 'function') {\n                imgElt.addEventListener('load', function () {\n                  setTimeout(function () {\n                    item.onload();\n                  }, 100);\n                });\n              }\n              img.load();\n            }\n            // Check anchor to center the image\n            if (img.getAnchor) {\n              var anchor = img.getAnchor();\n              if (anchor) {\n                var si = img.getSize();\n                var dx = anchor[0] - si[0];\n                var dy = anchor[1] - si[1];\n                if (!extent) {\n                  extent = [dx, dy, dx + si[0], dy + si[1]];\n                } else {\n                  ol_extent_extend(extent, [dx, dy, dx + si[0], dy + si[1]]);\n                }\n              }\n            }\n          }\n        }\n        if (extent) {\n          cx = cx + (extent[2] + extent[0]) / 2;\n          cy = cy + (extent[3] + extent[1]) / 2;\n        }\n      }\n\n      // Draw image\n      cy += offsetY || 0;\n      for (i = 0; s = style[i]; i++) {\n        vectorContext.setStyle(s);\n        ctx.save();\n        var geom;\n        switch (typeGeom) {\n          case ol_geom_Point:\n          case 'Point':\n          case 'MultiPoint':\n            {\n              geom = new ol_geom_Point([cx, cy]);\n              break;\n            }\n          case ol_geom_LineString:\n          case 'LineString':\n          case 'MultiLineString':\n            {\n              // Clip lines\n              ctx.rect(item.margin * ratio, 0, size[0] * ratio, canvas.height);\n              ctx.clip();\n              geom = new ol_geom_LineString([[cx - sx, cy], [cx + sx, cy]]);\n              break;\n            }\n          case ol_geom_Polygon:\n          case 'Polygon':\n          case 'MultiPolygon':\n            {\n              geom = new ol_geom_Polygon([[[cx - sx, cy - sy], [cx + sx, cy - sy], [cx + sx, cy + sy], [cx - sx, cy + sy], [cx - sx, cy - sy]]]);\n              break;\n            }\n        }\n        // Geometry function?\n        if (s.getGeometryFunction()) {\n          geom = s.getGeometryFunction()(new ol_Feature(geom));\n        }\n        vectorContext.drawGeometry(geom);\n        ctx.restore();\n      }\n      ctx.restore();\n      return canvas;\n    }\n  }]);\n}(ol_Object);\nexport default ol_legend_Legend;","map":{"version":3,"names":["ol_Object","unByKey","ol_Observable_unByKey","ol_Collection","DEVICE_PIXEL_RATIO","ol_has_DEVICE_PIXEL_RATIO","toContext","ol_render_toContext","asString","ol_color_asString","ol_Feature","ol_geom_Point","ol_geom_LineString","ol_geom_Polygon","extend","ol_extent_extend","ol_ext_element","ol_style_Text","ol_style_Fill","ol_legend_Item","ol_legend_Image","ol_legend_Legend","_ol_Object","ollegendLegend","options","_this","_classCallCheck","_callSuper","_items","listeners","tout","on","e","push","item","element","refresh","bind","clearTimeout","setTimeout","i","splice","_listElement","create","className","_canvas","document","createElement","setLayer","layer","set","maxWidth","size","margin","_textStyle","textStyle","font","fill","color","backgroundFill","_title","title","titleStyle","_titleStyle","clone","setFont","getFont","setStyle","style","items","Array","forEach","addItem","_inherits","_createClass","key","value","setTitle","getTitle","get","_layerListener","_layer","getTextStyle","opt_silent","_superPropGet","getListElement","getCanvas","_style","removeItem","remove","removeItemAt","index","removeAt","getItems","_drawText","ctx","text","x","y","save","scale","txt","split","length","fillText","textBaseline","restore","_measureText","measureText","m1","m2","width","Math","max","height","table","innerHTML","canvas","getContext","textAlign","ratio","w","min","getWidth","Infinity","h","getHeight","fillStyle","getFill","getColor","appendChild","getElement","b","dispatchEvent","type","symbol","offsetY","nb","r","getVisible","drawImage","list","querySelectorAll","l","li","cloneNode","test","img","getImage","naturalWidth","naturalHeight","getProperties","feature","typeGeom","getLegendImage","hitem","textWidth","properties","lineHeight","onload","heigth","pixelratio","vectorContext","pixelRatio","setProperties","getStyle","getGeometry","getType","cx","cy","sx","sy","s","extent","imgElt","getPhoto","HTMLImageElement","addEventListener","load","getAnchor","anchor","si","getSize","dx","dy","geom","rect","clip","getGeometryFunction","drawGeometry"],"sources":["/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/ol-ext/legend/Legend.js"],"sourcesContent":["import ol_Object from 'ol/Object.js'\r\nimport {unByKey as ol_Observable_unByKey} from 'ol/Observable.js'\r\nimport ol_Collection from 'ol/Collection.js'\r\nimport {DEVICE_PIXEL_RATIO as ol_has_DEVICE_PIXEL_RATIO} from 'ol/has.js'\r\nimport {toContext as ol_render_toContext} from 'ol/render.js'\r\nimport {asString as ol_color_asString} from 'ol/color.js'\r\nimport ol_Feature from 'ol/Feature.js'\r\nimport ol_geom_Point from 'ol/geom/Point.js'\r\nimport ol_geom_LineString from 'ol/geom/LineString.js';\r\nimport ol_geom_Polygon from 'ol/geom/Polygon.js'\r\nimport {extend as ol_extent_extend} from 'ol/extent.js'\r\nimport ol_ext_element from '../util/element.js'\r\nimport ol_style_Text from 'ol/style/Text.js'\r\nimport ol_style_Fill from 'ol/style/Fill.js'\r\nimport ol_legend_Item from './Item.js'\r\nimport ol_legend_Image from './Image.js'\r\n\r\n/** Legend class to draw features in a legend element\r\n * @constructor\r\n * @fires select\r\n * @fires refresh\r\n * @param {*} options\r\n *  @param {String} options.title Legend title\r\n *  @param {number} [options.maxWidth] maximum legend width\r\n *  @param {ol.size} [options.size] Size of the symboles in the legend, default [40, 25]\r\n *  @param {number} [options.margin=10] Size of the symbole's margin, default 10\r\n *  @param { ol.layer.Base } [layer] layer associated with the legend\r\n *  @param { ol.style.Text} [options.textStyle='16px sans-serif'] a text style for the legend, default 16px sans-serif\r\n *  @param { ol.style.Text} [options.titleStyle='bold 16px sans-serif'] a text style for the legend title, default textStyle + bold\r\n *  @param { ol.style.Style | Array<ol.style.Style> | ol.StyleFunction | undefined\t} options.style a style or a style function to use with features\r\n */\r\nvar ol_legend_Legend = class ollegendLegend extends ol_Object {\r\n  constructor(options) {\r\n    super()\r\n    options = options || {}\r\n\r\n    // Handle item collection\r\n    this._items = new ol_Collection()\r\n    var listeners = []\r\n    var tout\r\n    this._items.on('add', function (e) {\r\n      listeners.push({\r\n        item: e.element,\r\n        on: e.element.on('change', function () {\r\n          this.refresh()\r\n        }.bind(this))\r\n      })\r\n      if (tout) {\r\n        clearTimeout(tout)\r\n        tout = null\r\n      }\r\n      tout = setTimeout(function () { this.refresh() }.bind(this), 0)\r\n    }.bind(this))\r\n    this._items.on('remove', function (e) {\r\n      for (var i = 0; i < listeners; i++) {\r\n        if (e.element === listeners[i].item) {\r\n          ol_Observable_unByKey(listeners[i].on)\r\n          listeners.splice(i, 1)\r\n          break\r\n        }\r\n      }\r\n      if (tout) {\r\n        clearTimeout(tout)\r\n        tout = null\r\n      }\r\n      tout = setTimeout(function () { this.refresh() }.bind(this), 0)\r\n    }.bind(this))\r\n\r\n    // List item element\r\n    this._listElement = ol_ext_element.create('UL', {\r\n      className: 'ol-legend'\r\n    })\r\n    // Legend canvas\r\n    this._canvas = document.createElement('canvas')\r\n    // Set layer\r\n    this.setLayer(options.layer)\r\n\r\n    // Properties\r\n    this.set('maxWidth', options.maxWidth, true)\r\n    this.set('size', options.size || [40, 25], true)\r\n    this.set('margin', options.margin === 0 ? 0 : options.margin || 10, true)\r\n    this._textStyle = options.textStyle || new ol_style_Text({\r\n      font: '16px sans-serif',\r\n      fill: new ol_style_Fill({\r\n        color: '#333'\r\n      }),\r\n      backgroundFill: new ol_style_Fill({\r\n        color: 'rgba(255,255,255,.8)'\r\n      })\r\n    })\r\n    this._title = new ol_legend_Item({ title: options.title || '', className: 'ol-title' })\r\n\r\n    if (options.titleStyle) {\r\n      this._titleStyle = options.titleStyle\r\n    } else {\r\n      this._titleStyle = this._textStyle.clone()\r\n      this._titleStyle.setFont('bold ' + this._titleStyle.getFont())\r\n    }\r\n\r\n    this.setStyle(options.style)\r\n\r\n    if (options.items instanceof Array) {\r\n      options.items.forEach(function (item) {\r\n        this.addItem(item)\r\n      }.bind(this))\r\n    }\r\n\r\n    this.refresh()\r\n  }\r\n  /** Get a symbol image for a given legend item\r\n   * @param {olLegendItemOptions} item\r\n   * @param {Canvas|undefined} canvas a canvas to draw in, if none creat one\r\n   * @param {int|undefined} offsetY Y offset to draw in canvas, default 0\r\n   */\r\n  static getLegendImage(item, canvas, offsetY) {\r\n    item = item || {}\r\n    if (typeof (item.margin) === 'undefined'){\r\n      item.margin = 10\r\n    }\r\n    var size = item.size || [40, 25]\r\n    if (item.width) size[0] = item.width\r\n    if (item.heigth) size[1] = item.heigth\r\n    item.onload = item.onload || function () {\r\n      setTimeout(function () {\r\n        ol_legend_Legend.getLegendImage(item, canvas, offsetY)\r\n      }, 100)\r\n    }\r\n    var width = size[0] + 2 * item.margin\r\n    var height = item.lineHeight || (size[1] + 2 * item.margin)\r\n    var ratio = item.pixelratio || ol_has_DEVICE_PIXEL_RATIO\r\n    if (!canvas) {\r\n      offsetY = 0\r\n      canvas = document.createElement('canvas')\r\n      canvas.width = width * ratio\r\n      canvas.height = height * ratio\r\n    }\r\n\r\n    var ctx = canvas.getContext('2d')\r\n    ctx.save()\r\n    var vectorContext = ol_render_toContext(ctx, { pixelRatio: ratio })\r\n\r\n    var typeGeom = item.typeGeom\r\n    var style\r\n    var feature = item.feature\r\n    if (!feature && typeGeom) {\r\n      if (/Point/.test(typeGeom)){\r\n        feature = new ol_Feature(new ol_geom_Point([0, 0]))\r\n      } else if (/LineString/.test(typeGeom)) {\r\n        feature = new ol_Feature(new ol_geom_LineString([0, 0]))\r\n      } else {\r\n        feature = new ol_Feature(new ol_geom_Polygon([[0, 0]]))\r\n      }\r\n      if (item.properties) {\r\n        feature.setProperties(item.properties)\r\n      }\r\n    }\r\n    if (feature) {\r\n      style = feature.getStyle()\r\n      if (typeof (style) === 'function')\r\n        style = style(feature)\r\n      if (!style) {\r\n        style = typeof (item.style) === 'function' ? item.style(feature) : item.style || []\r\n      }\r\n      typeGeom = feature.getGeometry().getType()\r\n    } else {\r\n      style = []\r\n    }\r\n    if (!(style instanceof Array)) style = [style]\r\n\r\n    var cx = width / 2\r\n    var cy = height / 2\r\n    var sx = size[0] / 2\r\n    var sy = size[1] / 2\r\n\r\n    var i, s\r\n    // Get point offset\r\n    if (typeGeom === 'Point') {\r\n      var extent = null\r\n      for (i = 0; s = style[i]; i++) {\r\n        var img = s.getImage()\r\n        // Refresh legend on image load\r\n        if (img) {\r\n          var imgElt = img.getPhoto ? img.getPhoto() : img.getImage()\r\n          // Check image is loaded\r\n          if (imgElt && imgElt instanceof HTMLImageElement && !imgElt.naturalWidth) {\r\n            if (typeof (item.onload) === 'function') {\r\n              imgElt.addEventListener('load', function () {\r\n                setTimeout(function () {\r\n                  item.onload()\r\n                }, 100)\r\n              })\r\n            }\r\n            img.load()\r\n          }\r\n          // Check anchor to center the image\r\n          if (img.getAnchor) {\r\n            var anchor = img.getAnchor()\r\n            if (anchor) {\r\n              var si = img.getSize()\r\n              var dx = anchor[0] - si[0]\r\n              var dy = anchor[1] - si[1]\r\n              if (!extent) {\r\n                extent = [dx, dy, dx + si[0], dy + si[1]]\r\n              } else {\r\n                ol_extent_extend(extent, [dx, dy, dx + si[0], dy + si[1]])\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (extent) {\r\n        cx = cx + (extent[2] + extent[0]) / 2\r\n        cy = cy + (extent[3] + extent[1]) / 2\r\n      }\r\n    }\r\n\r\n    // Draw image\r\n    cy += offsetY || 0\r\n    for (i = 0; s = style[i]; i++) {\r\n      vectorContext.setStyle(s)\r\n      ctx.save()\r\n      var geom\r\n      switch (typeGeom) {\r\n        case ol_geom_Point:\r\n        case 'Point':\r\n        case 'MultiPoint': {\r\n          geom = new ol_geom_Point([cx, cy])\r\n          break\r\n        }\r\n        case ol_geom_LineString:\r\n        case 'LineString':\r\n        case 'MultiLineString': {\r\n          // Clip lines\r\n          ctx.rect(item.margin * ratio, 0, size[0] * ratio, canvas.height)\r\n          ctx.clip()\r\n          geom = new ol_geom_LineString([[cx - sx, cy], [cx + sx, cy]])\r\n          break\r\n        }\r\n        case ol_geom_Polygon:\r\n        case 'Polygon':\r\n        case 'MultiPolygon': {\r\n          geom = new ol_geom_Polygon([[[cx - sx, cy - sy], [cx + sx, cy - sy], [cx + sx, cy + sy], [cx - sx, cy + sy], [cx - sx, cy - sy]]])\r\n          break\r\n        }\r\n      }\r\n      // Geometry function?\r\n      if (s.getGeometryFunction()) {\r\n        geom = s.getGeometryFunction()(new ol_Feature(geom))\r\n      }\r\n      vectorContext.drawGeometry(geom)\r\n      ctx.restore()\r\n    }\r\n\r\n    ctx.restore()\r\n\r\n    return canvas\r\n  }\r\n  /** Set legend title\r\n   * @param {string} title\r\n   */\r\n  setTitle(title) {\r\n    this._title.setTitle(title)\r\n    this.refresh()\r\n  }\r\n  /** Get legend title\r\n   * @returns {string}\r\n   */\r\n  getTitle() {\r\n    return this._title.get('title')\r\n  }\r\n  /** Set the layer associated with the legend\r\n   * @param {ol.layer.Layer} [layer]\r\n   */\r\n  setLayer(layer) {\r\n    if (this._layerListener) ol_Observable_unByKey(this._layerListener)\r\n    this._layer = layer;\r\n    if (layer) {\r\n      this._layerListener = layer.on('change:visible', function() {\r\n        this.refresh();\r\n      }.bind(this))\r\n    } else {\r\n      this._layerListener = null;\r\n    }\r\n  }\r\n  /** Get text Style\r\n   * @returns {ol_style_Text}\r\n   */\r\n  getTextStyle() {\r\n    return this._textStyle\r\n  }\r\n  /** Set legend size\r\n   * @param {ol.size} size\r\n   */\r\n  set(key, value, opt_silent) {\r\n    super.set(key, value, opt_silent)\r\n    if (!opt_silent) this.refresh()\r\n  }\r\n  /** Get legend list element\r\n   * @returns {Element}\r\n   */\r\n  getListElement() {\r\n    return this._listElement\r\n  }\r\n  /** Get legend canvas\r\n   * @returns {HTMLCanvasElement}\r\n   */\r\n  getCanvas() {\r\n    return this._canvas\r\n  }\r\n  /** Set the style\r\n   * @param { ol.style.Style | Array<ol.style.Style> | ol.StyleFunction | undefined\t} style a style or a style function to use with features\r\n   */\r\n  setStyle(style) {\r\n    this._style = style\r\n    this.refresh()\r\n  }\r\n  /** Add a new item to the legend\r\n   * @param {olLegendItemOptions|ol_legend_Item} item\r\n   */\r\n  addItem(item) {\r\n    if (item instanceof ol_legend_Legend) {\r\n      this._items.push(item)\r\n      item.on('refresh', function() { this.refresh(true) }.bind(this))\r\n    } else if (item instanceof ol_legend_Item || item instanceof ol_legend_Image) {\r\n      this._items.push(item)\r\n    } else {\r\n      this._items.push(new ol_legend_Item(item))\r\n    }\r\n  }\r\n  /** Remove an item at index\r\n   * @param {ol_legend_Item} item\r\n   */\r\n  removeItem(item) {\r\n    this._items.remove(item)\r\n  }\r\n  /** Remove an item at index\r\n   * @param {number} index\r\n   */\r\n  removeItemAt(index) {\r\n    this._items.removeAt(index)\r\n  }\r\n  /** Get item collection\r\n   * @param {ol_Collection}\r\n   */\r\n  getItems() {\r\n    return this._items\r\n  }\r\n  /** Draw legend text\r\n   * @private\r\n   */\r\n  _drawText(ctx, text, x, y) {\r\n    ctx.save()\r\n    ctx.scale(ol_has_DEVICE_PIXEL_RATIO, ol_has_DEVICE_PIXEL_RATIO)\r\n    text = text || ''\r\n    var txt = text.split('\\n')\r\n    if (txt.length === 1) {\r\n      ctx.fillText(text, x, y)\r\n    } else {\r\n      ctx.textBaseline = 'bottom'\r\n      ctx.fillText(txt[0], x, y)\r\n      ctx.textBaseline = 'top'\r\n      ctx.fillText(txt[1], x, y)\r\n    }\r\n    ctx.restore()\r\n  }\r\n  /** Draw legend text\r\n   * @private\r\n   */\r\n  _measureText(ctx, text) {\r\n    var txt = (text || '').split('\\n')\r\n    if (txt.length === 1) {\r\n      return ctx.measureText(text)\r\n    } else {\r\n      var m1 = ctx.measureText(txt[0])\r\n      var m2 = ctx.measureText(txt[1])\r\n      return { width: Math.max(m1.width, m2.width), height: m1.height + m2.height }\r\n    }\r\n  }\r\n  /** Refresh the legend\r\n   */\r\n  refresh(opt_silent) {\r\n    var table = this._listElement\r\n    if (!table) return;\r\n    table.innerHTML = ''\r\n    var margin = this.get('margin')\r\n    var width = this.get('size')[0] + 2 * margin\r\n    var height = this.get('lineHeight') || this.get('size')[1] + 2 * margin\r\n\r\n    var canvas = this.getCanvas()\r\n    var ctx = canvas.getContext('2d')\r\n    ctx.textAlign = 'left'\r\n    ctx.textBaseline = 'middle'\r\n    var ratio = ol_has_DEVICE_PIXEL_RATIO\r\n\r\n    // Canvas size\r\n    var w = Math.min(this.getWidth(), this.get('maxWidth') || Infinity);\r\n    var h = this.getHeight()\r\n    canvas.width = w * ratio\r\n    canvas.height = h * ratio\r\n    canvas.style.height = h + 'px'\r\n\r\n    ctx.textBaseline = 'middle'\r\n    ctx.fillStyle = ol_color_asString(this._textStyle.getFill().getColor())\r\n\r\n    // Add Title\r\n    if (this.getTitle()) {\r\n      table.appendChild(this._title.getElement([width, height], function (b) {\r\n        this.dispatchEvent({\r\n          type: 'select',\r\n          index: -1,\r\n          symbol: b,\r\n          item: this._title\r\n        })\r\n      }.bind(this)))\r\n      ctx.font = this._titleStyle.getFont()\r\n      ctx.textAlign = 'center'\r\n      this._drawText(ctx, this.getTitle(), canvas.width / ratio / 2, height / 2)\r\n    }\r\n    // Add items\r\n    var offsetY = 0;\r\n    if (this.getTitle()) offsetY = height;\r\n    var nb = 0;\r\n    this._items.forEach(function (r, i) {\r\n      if (r instanceof ol_legend_Legend) {\r\n        if ((!r._layer || r._layer.getVisible()) && r.getCanvas().height) {\r\n          ctx.drawImage(r.getCanvas(), 0, offsetY * ratio)\r\n          var list = r._listElement.querySelectorAll('li')\r\n          for (var l=0; l<list.length; l++) {\r\n            var li = list[l].cloneNode();\r\n            li.innerHTML = list[l].innerHTML;\r\n            table.appendChild(li);\r\n            nb++;\r\n          }\r\n          offsetY += r.getHeight();\r\n        }\r\n      } else {\r\n        if (r instanceof ol_legend_Image) {\r\n          // Title\r\n          if (r.get('title')) {\r\n            table.appendChild(this._title.getElement([width, height], function (b) {\r\n              this.dispatchEvent({\r\n                type: 'select',\r\n                index: -1,\r\n                symbol: b,\r\n                item: this._title\r\n              })\r\n            }.bind(this)))\r\n            ctx.font = r.get('textStyle') ? r.get('textStyle').getFont() : this._titleStyle.getFont()\r\n            if (/\\bcenter\\b/.test(r.get('className'))) {\r\n              ctx.textAlign = 'center'\r\n              this._drawText(ctx, r.get('title'), canvas.width / ratio / 2, offsetY + height / 2)\r\n            } else {\r\n              this._drawText(ctx, r.get('title'), margin, offsetY + height / 2)\r\n            }\r\n            offsetY += height;\r\n          }\r\n          // Image\r\n          var img = r.getImage()\r\n          try {\r\n            ctx.drawImage(img, 0,0,img.naturalWidth, img.naturalHeight, 0, offsetY * ratio, r.getWidth() * ratio, r.getHeight() * ratio)\r\n          } catch(e) { /* ok */ }\r\n          offsetY += r.getHeight();\r\n        } else {\r\n          var item = r.getProperties()\r\n          var h = item.height || height;\r\n          ctx.textAlign = 'left'\r\n          if (item.feature || item.typeGeom) {\r\n            canvas = this.getLegendImage(item, canvas, offsetY)\r\n            ctx.font = r.get('textStyle') ? r.get('textStyle').getFont() : this._textStyle.getFont()\r\n            this._drawText(ctx, r.get('title'), width + margin, offsetY + h / 2)\r\n          } else {\r\n            ctx.font = r.get('textStyle') ? r.get('textStyle').getFont() : this._titleStyle.getFont()\r\n            if (/\\bcenter\\b/.test(item.className)) {\r\n              ctx.textAlign = 'center'\r\n              this._drawText(ctx, r.get('title'), canvas.width / ratio / 2, offsetY + h / 2)\r\n            } else {\r\n              this._drawText(ctx, r.get('title'), margin, offsetY + h / 2)\r\n            }\r\n          }\r\n          offsetY += h;\r\n        }\r\n        table.appendChild(r.getElement([width, height], function (b) {\r\n          this.dispatchEvent({\r\n            type: 'select',\r\n            index: i,\r\n            symbol: b,\r\n            item: r\r\n          })\r\n        }.bind(this)))\r\n        nb++;\r\n      }\r\n    }.bind(this))\r\n\r\n    this.set('items', nb, true)\r\n    this.dispatchEvent({\r\n      type: 'items',\r\n      nb: nb\r\n    })\r\n\r\n    // Done\r\n    if (!opt_silent) {\r\n      this.dispatchEvent({\r\n        type: 'refresh',\r\n        width: width,\r\n        height: (this._items.length + 1) * height\r\n      })\r\n    }\r\n  }\r\n  /** Calculate the legend height\r\n   * @return {number}\r\n   */\r\n  getHeight() {\r\n    // default item height\r\n    var margin = this.get('margin')\r\n    var hitem = this.get('lineHeight') || this.get('size')[1] + 2 * margin\r\n    var height = this.getTitle() ? hitem : 0;\r\n    this._items.forEach(function (r) {\r\n      if (r instanceof ol_legend_Legend) {\r\n        if (!r._layer || r._layer.getVisible()) {\r\n          height += r.getHeight()\r\n        }\r\n      } else if (r instanceof ol_legend_Image) {\r\n        if (r.get('title')) height += hitem; \r\n        height += r.getHeight()\r\n      } else {\r\n        if (r.get('height')) height += r.get('height') + 2 * margin; \r\n        else height += hitem\r\n      }\r\n    })\r\n    return height\r\n  }\r\n  /** Calculate the legend height\r\n   * @return {number}\r\n   */\r\n  getWidth() {\r\n    var canvas = this.getCanvas()\r\n    var ctx = canvas.getContext('2d')\r\n    var margin = this.get('margin');\r\n    var width = this.get('size')[0] + 2 * margin\r\n\r\n    ctx.font = this._titleStyle.getFont()\r\n    var textWidth = this._measureText(ctx, this.getTitle('title')).width\r\n    this._items.forEach(function (r) {\r\n      if (r instanceof ol_legend_Legend) {\r\n        if (!r._layer || r._layer.getVisible()) {\r\n          textWidth = Math.max(textWidth, r.getWidth())\r\n        }\r\n      } else if (r instanceof ol_legend_Image) {\r\n        textWidth = Math.max(textWidth, r.getWidth())\r\n        if (r.get('title')) {\r\n          ctx.font = r.get('textStyle') ? r.get('textStyle').getFont() : this._titleStyle.getFont()\r\n          textWidth = Math.max(textWidth, this._measureText(ctx, r.get('title')).width)\r\n        }\r\n      } else {\r\n        if (r.get('feature') || r.get('typeGeom')) {\r\n          ctx.font = r.get('textStyle') ? r.get('textStyle').getFont() : this._textStyle.getFont()\r\n          textWidth = Math.max(textWidth, this._measureText(ctx, r.get('title')).width + width)\r\n        } else {\r\n          ctx.font = r.get('textStyle') ? r.get('textStyle').getFont() : this._titleStyle.getFont()\r\n          textWidth = Math.max(textWidth, this._measureText(ctx, r.get('title')).width)\r\n        }\r\n      }\r\n    }.bind(this))\r\n    return textWidth + 2 * margin\r\n  }\r\n  /** Get the image for a style \r\n   * @param {olLegendItemOptions} item \r\n   * @param {Canvas|undefined} canvas a canvas to draw in, if none create one\r\n   * @param {int|undefined} offsetY Y offset to draw in canvas, default 0\r\n   * @return {CanvasElement}\r\n   */\r\n  getLegendImage(options, canvas, offsetY) {\r\n    options = options || {};\r\n    var size = this.get('size');\r\n    return ol_legend_Legend.getLegendImage({\r\n      className: options.className,\r\n      feature: options.feature,\r\n      typeGeom: options.typeGeom,\r\n      style: options.style || this._style,\r\n      properties: options.properties,\r\n      margin: options.margin || this.get('margin'),\r\n      size: [ options.width || size[0], options.height || size[1]],\r\n      lineHeight: options.lineHeight || this.get('lineHeight'),\r\n      onload: function() {\r\n        // Force refresh\r\n        this.refresh();\r\n      }.bind(this)\r\n    }, canvas, offsetY);\r\n  }\r\n}\r\nexport default ol_legend_Legend\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}