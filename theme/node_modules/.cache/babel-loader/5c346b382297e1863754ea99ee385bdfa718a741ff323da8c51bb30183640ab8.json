{"ast":null,"code":"import _slicedToArray from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regeneratorRuntime from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { BaseClient, BaseResponse } from './base.js';\nimport { AbortError } from '../../utils.js';\nvar XHRResponse = /*#__PURE__*/function (_BaseResponse) {\n  /**\n   * BaseResponse facade for XMLHttpRequest\n   * @param {XMLHttpRequest} xhr\n   * @param {ArrayBuffer} data\n   */\n  function XHRResponse(xhr, data) {\n    var _this;\n    _classCallCheck(this, XHRResponse);\n    _this = _callSuper(this, XHRResponse);\n    _this.xhr = xhr;\n    _this.data = data;\n    return _this;\n  }\n  _inherits(XHRResponse, _BaseResponse);\n  return _createClass(XHRResponse, [{\n    key: \"status\",\n    get: function get() {\n      return this.xhr.status;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(name) {\n      return this.xhr.getResponseHeader(name);\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", this.data);\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n      return getData;\n    }()\n  }]);\n}(BaseResponse);\nexport var XHRClient = /*#__PURE__*/function (_BaseClient) {\n  function XHRClient() {\n    _classCallCheck(this, XHRClient);\n    return _callSuper(this, XHRClient, arguments);\n  }\n  _inherits(XHRClient, _BaseClient);\n  return _createClass(XHRClient, [{\n    key: \"constructRequest\",\n    value: function constructRequest(headers, signal) {\n      var _this2 = this;\n      return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', _this2.url);\n        xhr.responseType = 'arraybuffer';\n        for (var _i = 0, _Object$entries = Object.entries(headers); _i < _Object$entries.length; _i++) {\n          var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n            key = _Object$entries$_i[0],\n            value = _Object$entries$_i[1];\n          xhr.setRequestHeader(key, value);\n        }\n\n        // hook signals\n        xhr.onload = function () {\n          var data = xhr.response;\n          resolve(new XHRResponse(xhr, data));\n        };\n        xhr.onerror = reject;\n        xhr.onabort = function () {\n          return reject(new AbortError('Request aborted'));\n        };\n        xhr.send();\n        if (signal) {\n          if (signal.aborted) {\n            xhr.abort();\n          }\n          signal.addEventListener('abort', function () {\n            return xhr.abort();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _ref,\n          headers,\n          signal,\n          response,\n          _args2 = arguments;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, headers = _ref.headers, signal = _ref.signal;\n              _context2.next = 3;\n              return this.constructRequest(headers, signal);\n            case 3:\n              response = _context2.sent;\n              return _context2.abrupt(\"return\", response);\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function request() {\n        return _request.apply(this, arguments);\n      }\n      return request;\n    }()\n  }]);\n}(BaseClient);","map":{"version":3,"names":["BaseClient","BaseResponse","AbortError","XHRResponse","_BaseResponse","xhr","data","_this","_classCallCheck","_callSuper","_inherits","_createClass","key","get","status","value","getHeader","name","getResponseHeader","_getData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","stop","getData","apply","arguments","XHRClient","_BaseClient","constructRequest","headers","signal","_this2","Promise","resolve","reject","XMLHttpRequest","open","url","responseType","_i","_Object$entries","Object","entries","length","_Object$entries$_i","_slicedToArray","setRequestHeader","onload","response","onerror","onabort","send","aborted","abort","addEventListener","_request","_callee2","_ref","_args2","_callee2$","_context2","undefined","sent","request"],"sources":["/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/geotiff/dist-module/source/client/xhr.js"],"sourcesContent":["import { BaseClient, BaseResponse } from './base.js';\nimport { AbortError } from '../../utils.js';\n\nclass XHRResponse extends BaseResponse {\n  /**\n   * BaseResponse facade for XMLHttpRequest\n   * @param {XMLHttpRequest} xhr\n   * @param {ArrayBuffer} data\n   */\n  constructor(xhr, data) {\n    super();\n    this.xhr = xhr;\n    this.data = data;\n  }\n\n  get status() {\n    return this.xhr.status;\n  }\n\n  getHeader(name) {\n    return this.xhr.getResponseHeader(name);\n  }\n\n  async getData() {\n    return this.data;\n  }\n}\n\nexport class XHRClient extends BaseClient {\n  constructRequest(headers, signal) {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', this.url);\n      xhr.responseType = 'arraybuffer';\n      for (const [key, value] of Object.entries(headers)) {\n        xhr.setRequestHeader(key, value);\n      }\n\n      // hook signals\n      xhr.onload = () => {\n        const data = xhr.response;\n        resolve(new XHRResponse(xhr, data));\n      };\n      xhr.onerror = reject;\n      xhr.onabort = () => reject(new AbortError('Request aborted'));\n      xhr.send();\n\n      if (signal) {\n        if (signal.aborted) {\n          xhr.abort();\n        }\n        signal.addEventListener('abort', () => xhr.abort());\n      }\n    });\n  }\n\n  async request({ headers, signal } = {}) {\n    const response = await this.constructRequest(headers, signal);\n    return response;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}