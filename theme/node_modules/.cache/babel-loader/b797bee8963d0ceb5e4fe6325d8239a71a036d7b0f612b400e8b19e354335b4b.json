{"ast":null,"code":"import _superPropGet from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/superPropGet.js\";\nimport _createClass from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _callSuper from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.last-index-of.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.function.bind.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n/**\n * @module ol/interaction/Select\n */\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport Event from '../events/Event.js';\nimport Feature from '../Feature.js';\nimport Interaction from './Interaction.js';\nimport VectorLayer from '../layer/Vector.js';\nimport { TRUE } from '../functions.js';\nimport { clear } from '../obj.js';\nimport { createEditingStyle } from '../style/Style.js';\nimport { extend } from '../array.js';\nimport { getUid } from '../util.js';\nimport { never, shiftKeyOnly, singleClick } from '../events/condition.js';\n\n/**\n * @enum {string}\n */\nvar SelectEventType = {\n  /**\n   * Triggered when feature(s) has been (de)selected.\n   * @event SelectEvent#select\n   * @api\n   */\n  SELECT: 'select'\n};\n\n/**\n * A function that takes an {@link module:ol/Feature~Feature} and returns `true` if the feature may be\n * selected or `false` otherwise.\n * @typedef {function(import(\"../Feature.js\").default, import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>):boolean} FilterFunction\n */\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [addCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * By default, this is {@link module:ol/events/condition.never}. Use this if you\n * want to use different events for add and remove instead of `toggle`.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. This is the event\n * for the selected features as a whole. By default, this is\n * {@link module:ol/events/condition.singleClick}. Clicking on a feature selects that\n * feature and removes any that were in the selection. Clicking outside any\n * feature removes all from the selection.\n * See `toggle`, `add`, `remove` options for adding/removing extra features to/\n * from the selection.\n * @property {Array<import(\"../layer/Layer.js\").default>|function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean} [layers]\n * A list of layers from which features should be selected. Alternatively, a\n * filter function can be provided. The function will be called for each layer\n * in the map and should return `true` for layers that you want to be\n * selectable. If the option is absent, all visible layers will be considered\n * selectable.\n * @property {import(\"../style/Style.js\").StyleLike|null} [style]\n * Style for the selected features. By default the default edit style is used\n * (see {@link module:ol/style/Style~Style}). Set to `null` if this interaction should not apply\n * any style changes for selected features.\n * If set to a falsey value, the selected feature's style will not change.\n * @property {import(\"../events/condition.js\").Condition} [removeCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * By default, this is {@link module:ol/events/condition.never}. Use this if you\n * want to use different events for add and remove instead of `toggle`.\n * @property {import(\"../events/condition.js\").Condition} [toggleCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. This is in addition\n * to the `condition` event. By default,\n * {@link module:ol/events/condition.shiftKeyOnly}, i.e. pressing `shift` as\n * well as the `condition` event, adds that feature to the current selection if\n * it is not currently selected, and removes it if it is. See `add` and `remove`\n * if you want to use different events instead of a toggle.\n * @property {boolean} [multi=false] A boolean that determines if the default\n * behaviour should select only single features or all (overlapping) features at\n * the clicked map position. The default of `false` means single select.\n * @property {Collection<Feature>} [features]\n * Collection where the interaction will place selected features. Optional. If\n * not set the interaction will create a collection. In any case the collection\n * used by the interaction is returned by\n * {@link module:ol/interaction/Select~Select#getFeatures}.\n * @property {FilterFunction} [filter] A function\n * that takes an {@link module:ol/Feature~Feature} and an\n * {@link module:ol/layer/Layer~Layer} and returns `true` if the feature may be\n * selected or `false` otherwise.\n * @property {number} [hitTolerance=0] Hit-detection tolerance. Pixels inside\n * the radius around the given position will be checked for features.\n */\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/interaction/Select~Select} instances are instances of\n * this type.\n */\nexport var SelectEvent = /*#__PURE__*/function (_Event) {\n  /**\n   * @param {SelectEventType} type The event type.\n   * @param {Array<import(\"../Feature.js\").default>} selected Selected features.\n   * @param {Array<import(\"../Feature.js\").default>} deselected Deselected features.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Associated\n   *     {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n   */\n  function SelectEvent(type, selected, deselected, mapBrowserEvent) {\n    var _this;\n    _classCallCheck(this, SelectEvent);\n    _this = _callSuper(this, SelectEvent, [type]);\n\n    /**\n     * Selected features array.\n     * @type {Array<import(\"../Feature.js\").default>}\n     * @api\n     */\n    _this.selected = selected;\n\n    /**\n     * Deselected features array.\n     * @type {Array<import(\"../Feature.js\").default>}\n     * @api\n     */\n    _this.deselected = deselected;\n\n    /**\n     * Associated {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n     * @type {import(\"../MapBrowserEvent.js\").default}\n     * @api\n     */\n    _this.mapBrowserEvent = mapBrowserEvent;\n    return _this;\n  }\n  _inherits(SelectEvent, _Event);\n  return _createClass(SelectEvent);\n}(Event);\n\n/**\n * Original feature styles to reset to when features are no longer selected.\n * @type {Object<number, import(\"../style/Style.js\").default|Array<import(\"../style/Style.js\").default>|import(\"../style/Style.js\").StyleFunction>}\n */\nvar originalFeatureStyles = {};\n\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:active', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<'select', SelectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     'change:active'|'select', Return>} SelectOnSignature\n */\n\n/**\n * @classdesc\n * Interaction for selecting vector features. By default, selected features are\n * styled differently, so this interaction can be used for visual highlighting,\n * as well as selecting features for other actions, such as modification or\n * output. There are three ways of controlling which features are selected:\n * using the browser event as defined by the `condition` and optionally the\n * `toggle`, `add`/`remove`, and `multi` options; a `layers` filter; and a\n * further feature filter using the `filter` option.\n *\n * @fires SelectEvent\n * @api\n */\nvar Select = /*#__PURE__*/function (_Interaction) {\n  /**\n   * @param {Options} [options] Options.\n   */\n  function Select(options) {\n    var _this2;\n    _classCallCheck(this, Select);\n    _this2 = _callSuper(this, Select);\n\n    /***\n     * @type {SelectOnSignature<import(\"../events\").EventsKey>}\n     */\n    _this2.on;\n\n    /***\n     * @type {SelectOnSignature<import(\"../events\").EventsKey>}\n     */\n    _this2.once;\n\n    /***\n     * @type {SelectOnSignature<void>}\n     */\n    _this2.un;\n    options = options ? options : {};\n\n    /**\n     * @private\n     */\n    _this2.boundAddFeature_ = _this2.addFeature_.bind(_this2);\n\n    /**\n     * @private\n     */\n    _this2.boundRemoveFeature_ = _this2.removeFeature_.bind(_this2);\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    _this2.condition_ = options.condition ? options.condition : singleClick;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    _this2.addCondition_ = options.addCondition ? options.addCondition : never;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    _this2.removeCondition_ = options.removeCondition ? options.removeCondition : never;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    _this2.toggleCondition_ = options.toggleCondition ? options.toggleCondition : shiftKeyOnly;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _this2.multi_ = options.multi ? options.multi : false;\n\n    /**\n     * @private\n     * @type {FilterFunction}\n     */\n    _this2.filter_ = options.filter ? options.filter : TRUE;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this2.hitTolerance_ = options.hitTolerance ? options.hitTolerance : 0;\n\n    /**\n     * @private\n     * @type {import(\"../style/Style.js\").default|Array<import(\"../style/Style.js\").default>|import(\"../style/Style.js\").StyleFunction|null}\n     */\n    _this2.style_ = options.style !== undefined ? options.style : getDefaultStyleFunction();\n\n    /**\n     * @private\n     * @type {Collection<Feature>}\n     */\n    _this2.features_ = options.features || new Collection();\n\n    /** @type {function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean} */\n    var layerFilter;\n    if (options.layers) {\n      if (typeof options.layers === 'function') {\n        layerFilter = options.layers;\n      } else {\n        var layers = options.layers;\n        layerFilter = function layerFilter(layer) {\n          return layers.includes(layer);\n        };\n      }\n    } else {\n      layerFilter = TRUE;\n    }\n\n    /**\n     * @private\n     * @type {function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean}\n     */\n    _this2.layerFilter_ = layerFilter;\n\n    /**\n     * An association between selected feature (key)\n     * and layer (value)\n     * @private\n     * @type {Object<string, import(\"../layer/Layer.js\").default>}\n     */\n    _this2.featureLayerAssociation_ = {};\n    return _this2;\n  }\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   * @param {import(\"../layer/Layer.js\").default} layer Layer.\n   * @private\n   */\n  _inherits(Select, _Interaction);\n  return _createClass(Select, [{\n    key: \"addFeatureLayerAssociation_\",\n    value: function addFeatureLayerAssociation_(feature, layer) {\n      this.featureLayerAssociation_[getUid(feature)] = layer;\n    }\n\n    /**\n     * Get the selected features.\n     * @return {Collection<Feature>} Features collection.\n     * @api\n     */\n  }, {\n    key: \"getFeatures\",\n    value: function getFeatures() {\n      return this.features_;\n    }\n\n    /**\n     * Returns the Hit-detection tolerance.\n     * @return {number} Hit tolerance in pixels.\n     * @api\n     */\n  }, {\n    key: \"getHitTolerance\",\n    value: function getHitTolerance() {\n      return this.hitTolerance_;\n    }\n\n    /**\n     * Returns the associated {@link module:ol/layer/Vector~VectorLayer vector layer} of\n     * a selected feature.\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @return {import('../layer/Vector.js').default} Layer.\n     * @api\n     */\n  }, {\n    key: \"getLayer\",\n    value: function getLayer(feature) {\n      return /** @type {import('../layer/Vector.js').default} */this.featureLayerAssociation_[getUid(feature)];\n    }\n\n    /**\n     * Hit-detection tolerance. Pixels inside the radius around the given position\n     * will be checked for features.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @api\n     */\n  }, {\n    key: \"setHitTolerance\",\n    value: function setHitTolerance(hitTolerance) {\n      this.hitTolerance_ = hitTolerance;\n    }\n\n    /**\n     * Remove the interaction from its current map, if any,  and attach it to a new\n     * map, if any. Pass `null` to just remove the interaction from the current map.\n     * @param {import(\"../Map.js\").default|null} map Map.\n     * @api\n     */\n  }, {\n    key: \"setMap\",\n    value: function setMap(map) {\n      var currentMap = this.getMap();\n      if (currentMap && this.style_) {\n        this.features_.forEach(this.restorePreviousStyle_.bind(this));\n      }\n      _superPropGet(Select, \"setMap\", this, 3)([map]);\n      if (map) {\n        this.features_.addEventListener(CollectionEventType.ADD, this.boundAddFeature_);\n        this.features_.addEventListener(CollectionEventType.REMOVE, this.boundRemoveFeature_);\n        if (this.style_) {\n          this.features_.forEach(this.applySelectedStyle_.bind(this));\n        }\n      } else {\n        this.features_.removeEventListener(CollectionEventType.ADD, this.boundAddFeature_);\n        this.features_.removeEventListener(CollectionEventType.REMOVE, this.boundRemoveFeature_);\n      }\n    }\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent<Feature>} evt Event.\n     * @private\n     */\n  }, {\n    key: \"addFeature_\",\n    value: function addFeature_(evt) {\n      var feature = evt.element;\n      if (this.style_) {\n        this.applySelectedStyle_(feature);\n      }\n      if (!this.getLayer(feature)) {\n        var layer = /** @type {VectorLayer} */\n        this.getMap().getAllLayers().find(function (layer) {\n          if (layer instanceof VectorLayer && layer.getSource() && layer.getSource().hasFeature(feature)) {\n            return layer;\n          }\n        });\n        if (layer) {\n          this.addFeatureLayerAssociation_(feature, layer);\n        }\n      }\n    }\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent<Feature>} evt Event.\n     * @private\n     */\n  }, {\n    key: \"removeFeature_\",\n    value: function removeFeature_(evt) {\n      if (this.style_) {\n        this.restorePreviousStyle_(evt.element);\n      }\n    }\n\n    /**\n     * @return {import(\"../style/Style.js\").StyleLike|null} Select style.\n     */\n  }, {\n    key: \"getStyle\",\n    value: function getStyle() {\n      return this.style_;\n    }\n\n    /**\n     * @param {Feature} feature Feature\n     * @private\n     */\n  }, {\n    key: \"applySelectedStyle_\",\n    value: function applySelectedStyle_(feature) {\n      var key = getUid(feature);\n      if (!(key in originalFeatureStyles)) {\n        originalFeatureStyles[key] = feature.getStyle();\n      }\n      feature.setStyle(this.style_);\n    }\n\n    /**\n     * @param {Feature} feature Feature\n     * @private\n     */\n  }, {\n    key: \"restorePreviousStyle_\",\n    value: function restorePreviousStyle_(feature) {\n      var interactions = this.getMap().getInteractions().getArray();\n      for (var i = interactions.length - 1; i >= 0; --i) {\n        var interaction = interactions[i];\n        if (interaction !== this && interaction instanceof Select && interaction.getStyle() && interaction.getFeatures().getArray().lastIndexOf(feature) !== -1) {\n          feature.setStyle(interaction.getStyle());\n          return;\n        }\n      }\n      var key = getUid(feature);\n      feature.setStyle(originalFeatureStyles[key]);\n      delete originalFeatureStyles[key];\n    }\n\n    /**\n     * @param {Feature} feature Feature.\n     * @private\n     */\n  }, {\n    key: \"removeFeatureLayerAssociation_\",\n    value: function removeFeatureLayerAssociation_(feature) {\n      delete this.featureLayerAssociation_[getUid(feature)];\n    }\n\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} and may change the\n     * selected state of features.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     */\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(mapBrowserEvent) {\n      var _this3 = this;\n      if (!this.condition_(mapBrowserEvent)) {\n        return true;\n      }\n      var add = this.addCondition_(mapBrowserEvent);\n      var remove = this.removeCondition_(mapBrowserEvent);\n      var toggle = this.toggleCondition_(mapBrowserEvent);\n      var set = !add && !remove && !toggle;\n      var map = mapBrowserEvent.map;\n      var features = this.getFeatures();\n\n      /**\n       * @type {Array<Feature>}\n       */\n      var deselected = [];\n\n      /**\n       * @type {Array<Feature>}\n       */\n      var selected = [];\n      if (set) {\n        // Replace the currently selected feature(s) with the feature(s) at the\n        // pixel, or clear the selected feature(s) if there is no feature at\n        // the pixel.\n        clear(this.featureLayerAssociation_);\n        map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n        /**\n         * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../layer/Layer.js\").default} layer Layer.\n         * @return {boolean|undefined} Continue to iterate over the features.\n         */\n        function (feature, layer) {\n          if (!(feature instanceof Feature) || !_this3.filter_(feature, layer)) {\n            return;\n          }\n          _this3.addFeatureLayerAssociation_(feature, layer);\n          selected.push(feature);\n          return !_this3.multi_;\n        }, {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_\n        });\n        for (var i = features.getLength() - 1; i >= 0; --i) {\n          var feature = features.item(i);\n          var index = selected.indexOf(feature);\n          if (index > -1) {\n            // feature is already selected\n            selected.splice(index, 1);\n          } else {\n            features.remove(feature);\n            deselected.push(feature);\n          }\n        }\n        if (selected.length !== 0) {\n          features.extend(selected);\n        }\n      } else {\n        // Modify the currently selected feature(s).\n        map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n        /**\n         * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../layer/Layer.js\").default} layer Layer.\n         * @return {boolean|undefined} Continue to iterate over the features.\n         */\n        function (feature, layer) {\n          if (!(feature instanceof Feature) || !_this3.filter_(feature, layer)) {\n            return;\n          }\n          if ((add || toggle) && !features.getArray().includes(feature)) {\n            _this3.addFeatureLayerAssociation_(feature, layer);\n            selected.push(feature);\n          } else if ((remove || toggle) && features.getArray().includes(feature)) {\n            deselected.push(feature);\n            _this3.removeFeatureLayerAssociation_(feature);\n          }\n          return !_this3.multi_;\n        }, {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_\n        });\n        for (var j = deselected.length - 1; j >= 0; --j) {\n          features.remove(deselected[j]);\n        }\n        features.extend(selected);\n      }\n      if (selected.length > 0 || deselected.length > 0) {\n        this.dispatchEvent(new SelectEvent(SelectEventType.SELECT, selected, deselected, mapBrowserEvent));\n      }\n      return true;\n    }\n  }]);\n}(Interaction);\n/**\n * @return {import(\"../style/Style.js\").StyleFunction} Styles.\n */\nfunction getDefaultStyleFunction() {\n  var styles = createEditingStyle();\n  extend(styles['Polygon'], styles['LineString']);\n  extend(styles['GeometryCollection'], styles['LineString']);\n  return function (feature) {\n    if (!feature.getGeometry()) {\n      return null;\n    }\n    return styles[feature.getGeometry().getType()];\n  };\n}\nexport default Select;","map":{"version":3,"names":["Collection","CollectionEventType","Event","Feature","Interaction","VectorLayer","TRUE","clear","createEditingStyle","extend","getUid","never","shiftKeyOnly","singleClick","SelectEventType","SELECT","SelectEvent","_Event","type","selected","deselected","mapBrowserEvent","_this","_classCallCheck","_callSuper","_inherits","_createClass","originalFeatureStyles","Select","_Interaction","options","_this2","on","once","un","boundAddFeature_","addFeature_","bind","boundRemoveFeature_","removeFeature_","condition_","condition","addCondition_","addCondition","removeCondition_","removeCondition","toggleCondition_","toggleCondition","multi_","multi","filter_","filter","hitTolerance_","hitTolerance","style_","style","undefined","getDefaultStyleFunction","features_","features","layerFilter","layers","layer","includes","layerFilter_","featureLayerAssociation_","key","value","addFeatureLayerAssociation_","feature","getFeatures","getHitTolerance","getLayer","setHitTolerance","setMap","map","currentMap","getMap","forEach","restorePreviousStyle_","_superPropGet","addEventListener","ADD","REMOVE","applySelectedStyle_","removeEventListener","evt","element","getAllLayers","find","getSource","hasFeature","getStyle","setStyle","interactions","getInteractions","getArray","i","length","interaction","lastIndexOf","removeFeatureLayerAssociation_","handleEvent","_this3","add","remove","toggle","set","forEachFeatureAtPixel","pixel","push","getLength","item","index","indexOf","splice","j","dispatchEvent","styles","getGeometry","getType"],"sources":["/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/ol/interaction/Select.js"],"sourcesContent":["/**\n * @module ol/interaction/Select\n */\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport Event from '../events/Event.js';\nimport Feature from '../Feature.js';\nimport Interaction from './Interaction.js';\nimport VectorLayer from '../layer/Vector.js';\nimport {TRUE} from '../functions.js';\nimport {clear} from '../obj.js';\nimport {createEditingStyle} from '../style/Style.js';\nimport {extend} from '../array.js';\nimport {getUid} from '../util.js';\nimport {never, shiftKeyOnly, singleClick} from '../events/condition.js';\n\n/**\n * @enum {string}\n */\nconst SelectEventType = {\n  /**\n   * Triggered when feature(s) has been (de)selected.\n   * @event SelectEvent#select\n   * @api\n   */\n  SELECT: 'select',\n};\n\n/**\n * A function that takes an {@link module:ol/Feature~Feature} and returns `true` if the feature may be\n * selected or `false` otherwise.\n * @typedef {function(import(\"../Feature.js\").default, import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>):boolean} FilterFunction\n */\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [addCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * By default, this is {@link module:ol/events/condition.never}. Use this if you\n * want to use different events for add and remove instead of `toggle`.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. This is the event\n * for the selected features as a whole. By default, this is\n * {@link module:ol/events/condition.singleClick}. Clicking on a feature selects that\n * feature and removes any that were in the selection. Clicking outside any\n * feature removes all from the selection.\n * See `toggle`, `add`, `remove` options for adding/removing extra features to/\n * from the selection.\n * @property {Array<import(\"../layer/Layer.js\").default>|function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean} [layers]\n * A list of layers from which features should be selected. Alternatively, a\n * filter function can be provided. The function will be called for each layer\n * in the map and should return `true` for layers that you want to be\n * selectable. If the option is absent, all visible layers will be considered\n * selectable.\n * @property {import(\"../style/Style.js\").StyleLike|null} [style]\n * Style for the selected features. By default the default edit style is used\n * (see {@link module:ol/style/Style~Style}). Set to `null` if this interaction should not apply\n * any style changes for selected features.\n * If set to a falsey value, the selected feature's style will not change.\n * @property {import(\"../events/condition.js\").Condition} [removeCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * By default, this is {@link module:ol/events/condition.never}. Use this if you\n * want to use different events for add and remove instead of `toggle`.\n * @property {import(\"../events/condition.js\").Condition} [toggleCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. This is in addition\n * to the `condition` event. By default,\n * {@link module:ol/events/condition.shiftKeyOnly}, i.e. pressing `shift` as\n * well as the `condition` event, adds that feature to the current selection if\n * it is not currently selected, and removes it if it is. See `add` and `remove`\n * if you want to use different events instead of a toggle.\n * @property {boolean} [multi=false] A boolean that determines if the default\n * behaviour should select only single features or all (overlapping) features at\n * the clicked map position. The default of `false` means single select.\n * @property {Collection<Feature>} [features]\n * Collection where the interaction will place selected features. Optional. If\n * not set the interaction will create a collection. In any case the collection\n * used by the interaction is returned by\n * {@link module:ol/interaction/Select~Select#getFeatures}.\n * @property {FilterFunction} [filter] A function\n * that takes an {@link module:ol/Feature~Feature} and an\n * {@link module:ol/layer/Layer~Layer} and returns `true` if the feature may be\n * selected or `false` otherwise.\n * @property {number} [hitTolerance=0] Hit-detection tolerance. Pixels inside\n * the radius around the given position will be checked for features.\n */\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/interaction/Select~Select} instances are instances of\n * this type.\n */\nexport class SelectEvent extends Event {\n  /**\n   * @param {SelectEventType} type The event type.\n   * @param {Array<import(\"../Feature.js\").default>} selected Selected features.\n   * @param {Array<import(\"../Feature.js\").default>} deselected Deselected features.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Associated\n   *     {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n   */\n  constructor(type, selected, deselected, mapBrowserEvent) {\n    super(type);\n\n    /**\n     * Selected features array.\n     * @type {Array<import(\"../Feature.js\").default>}\n     * @api\n     */\n    this.selected = selected;\n\n    /**\n     * Deselected features array.\n     * @type {Array<import(\"../Feature.js\").default>}\n     * @api\n     */\n    this.deselected = deselected;\n\n    /**\n     * Associated {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n     * @type {import(\"../MapBrowserEvent.js\").default}\n     * @api\n     */\n    this.mapBrowserEvent = mapBrowserEvent;\n  }\n}\n\n/**\n * Original feature styles to reset to when features are no longer selected.\n * @type {Object<number, import(\"../style/Style.js\").default|Array<import(\"../style/Style.js\").default>|import(\"../style/Style.js\").StyleFunction>}\n */\nconst originalFeatureStyles = {};\n\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:active', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<'select', SelectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     'change:active'|'select', Return>} SelectOnSignature\n */\n\n/**\n * @classdesc\n * Interaction for selecting vector features. By default, selected features are\n * styled differently, so this interaction can be used for visual highlighting,\n * as well as selecting features for other actions, such as modification or\n * output. There are three ways of controlling which features are selected:\n * using the browser event as defined by the `condition` and optionally the\n * `toggle`, `add`/`remove`, and `multi` options; a `layers` filter; and a\n * further feature filter using the `filter` option.\n *\n * @fires SelectEvent\n * @api\n */\nclass Select extends Interaction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    super();\n\n    /***\n     * @type {SelectOnSignature<import(\"../events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {SelectOnSignature<import(\"../events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {SelectOnSignature<void>}\n     */\n    this.un;\n\n    options = options ? options : {};\n\n    /**\n     * @private\n     */\n    this.boundAddFeature_ = this.addFeature_.bind(this);\n\n    /**\n     * @private\n     */\n    this.boundRemoveFeature_ = this.removeFeature_.bind(this);\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.condition ? options.condition : singleClick;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.addCondition_ = options.addCondition ? options.addCondition : never;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.removeCondition_ = options.removeCondition\n      ? options.removeCondition\n      : never;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.toggleCondition_ = options.toggleCondition\n      ? options.toggleCondition\n      : shiftKeyOnly;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.multi_ = options.multi ? options.multi : false;\n\n    /**\n     * @private\n     * @type {FilterFunction}\n     */\n    this.filter_ = options.filter ? options.filter : TRUE;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.hitTolerance_ = options.hitTolerance ? options.hitTolerance : 0;\n\n    /**\n     * @private\n     * @type {import(\"../style/Style.js\").default|Array<import(\"../style/Style.js\").default>|import(\"../style/Style.js\").StyleFunction|null}\n     */\n    this.style_ =\n      options.style !== undefined ? options.style : getDefaultStyleFunction();\n\n    /**\n     * @private\n     * @type {Collection<Feature>}\n     */\n    this.features_ = options.features || new Collection();\n\n    /** @type {function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean} */\n    let layerFilter;\n    if (options.layers) {\n      if (typeof options.layers === 'function') {\n        layerFilter = options.layers;\n      } else {\n        const layers = options.layers;\n        layerFilter = function (layer) {\n          return layers.includes(layer);\n        };\n      }\n    } else {\n      layerFilter = TRUE;\n    }\n\n    /**\n     * @private\n     * @type {function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean}\n     */\n    this.layerFilter_ = layerFilter;\n\n    /**\n     * An association between selected feature (key)\n     * and layer (value)\n     * @private\n     * @type {Object<string, import(\"../layer/Layer.js\").default>}\n     */\n    this.featureLayerAssociation_ = {};\n  }\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   * @param {import(\"../layer/Layer.js\").default} layer Layer.\n   * @private\n   */\n  addFeatureLayerAssociation_(feature, layer) {\n    this.featureLayerAssociation_[getUid(feature)] = layer;\n  }\n\n  /**\n   * Get the selected features.\n   * @return {Collection<Feature>} Features collection.\n   * @api\n   */\n  getFeatures() {\n    return this.features_;\n  }\n\n  /**\n   * Returns the Hit-detection tolerance.\n   * @return {number} Hit tolerance in pixels.\n   * @api\n   */\n  getHitTolerance() {\n    return this.hitTolerance_;\n  }\n\n  /**\n   * Returns the associated {@link module:ol/layer/Vector~VectorLayer vector layer} of\n   * a selected feature.\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @return {import('../layer/Vector.js').default} Layer.\n   * @api\n   */\n  getLayer(feature) {\n    return /** @type {import('../layer/Vector.js').default} */ (\n      this.featureLayerAssociation_[getUid(feature)]\n    );\n  }\n\n  /**\n   * Hit-detection tolerance. Pixels inside the radius around the given position\n   * will be checked for features.\n   * @param {number} hitTolerance Hit tolerance in pixels.\n   * @api\n   */\n  setHitTolerance(hitTolerance) {\n    this.hitTolerance_ = hitTolerance;\n  }\n\n  /**\n   * Remove the interaction from its current map, if any,  and attach it to a new\n   * map, if any. Pass `null` to just remove the interaction from the current map.\n   * @param {import(\"../Map.js\").default|null} map Map.\n   * @api\n   */\n  setMap(map) {\n    const currentMap = this.getMap();\n    if (currentMap && this.style_) {\n      this.features_.forEach(this.restorePreviousStyle_.bind(this));\n    }\n    super.setMap(map);\n    if (map) {\n      this.features_.addEventListener(\n        CollectionEventType.ADD,\n        this.boundAddFeature_\n      );\n      this.features_.addEventListener(\n        CollectionEventType.REMOVE,\n        this.boundRemoveFeature_\n      );\n\n      if (this.style_) {\n        this.features_.forEach(this.applySelectedStyle_.bind(this));\n      }\n    } else {\n      this.features_.removeEventListener(\n        CollectionEventType.ADD,\n        this.boundAddFeature_\n      );\n      this.features_.removeEventListener(\n        CollectionEventType.REMOVE,\n        this.boundRemoveFeature_\n      );\n    }\n  }\n\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent<Feature>} evt Event.\n   * @private\n   */\n  addFeature_(evt) {\n    const feature = evt.element;\n    if (this.style_) {\n      this.applySelectedStyle_(feature);\n    }\n    if (!this.getLayer(feature)) {\n      const layer = /** @type {VectorLayer} */ (\n        this.getMap()\n          .getAllLayers()\n          .find(function (layer) {\n            if (\n              layer instanceof VectorLayer &&\n              layer.getSource() &&\n              layer.getSource().hasFeature(feature)\n            ) {\n              return layer;\n            }\n          })\n      );\n      if (layer) {\n        this.addFeatureLayerAssociation_(feature, layer);\n      }\n    }\n  }\n\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent<Feature>} evt Event.\n   * @private\n   */\n  removeFeature_(evt) {\n    if (this.style_) {\n      this.restorePreviousStyle_(evt.element);\n    }\n  }\n\n  /**\n   * @return {import(\"../style/Style.js\").StyleLike|null} Select style.\n   */\n  getStyle() {\n    return this.style_;\n  }\n\n  /**\n   * @param {Feature} feature Feature\n   * @private\n   */\n  applySelectedStyle_(feature) {\n    const key = getUid(feature);\n    if (!(key in originalFeatureStyles)) {\n      originalFeatureStyles[key] = feature.getStyle();\n    }\n    feature.setStyle(this.style_);\n  }\n\n  /**\n   * @param {Feature} feature Feature\n   * @private\n   */\n  restorePreviousStyle_(feature) {\n    const interactions = this.getMap().getInteractions().getArray();\n    for (let i = interactions.length - 1; i >= 0; --i) {\n      const interaction = interactions[i];\n      if (\n        interaction !== this &&\n        interaction instanceof Select &&\n        interaction.getStyle() &&\n        interaction.getFeatures().getArray().lastIndexOf(feature) !== -1\n      ) {\n        feature.setStyle(interaction.getStyle());\n        return;\n      }\n    }\n\n    const key = getUid(feature);\n    feature.setStyle(originalFeatureStyles[key]);\n    delete originalFeatureStyles[key];\n  }\n\n  /**\n   * @param {Feature} feature Feature.\n   * @private\n   */\n  removeFeatureLayerAssociation_(feature) {\n    delete this.featureLayerAssociation_[getUid(feature)];\n  }\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} and may change the\n   * selected state of features.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   */\n  handleEvent(mapBrowserEvent) {\n    if (!this.condition_(mapBrowserEvent)) {\n      return true;\n    }\n    const add = this.addCondition_(mapBrowserEvent);\n    const remove = this.removeCondition_(mapBrowserEvent);\n    const toggle = this.toggleCondition_(mapBrowserEvent);\n    const set = !add && !remove && !toggle;\n    const map = mapBrowserEvent.map;\n    const features = this.getFeatures();\n\n    /**\n     * @type {Array<Feature>}\n     */\n    const deselected = [];\n\n    /**\n     * @type {Array<Feature>}\n     */\n    const selected = [];\n\n    if (set) {\n      // Replace the currently selected feature(s) with the feature(s) at the\n      // pixel, or clear the selected feature(s) if there is no feature at\n      // the pixel.\n      clear(this.featureLayerAssociation_);\n      map.forEachFeatureAtPixel(\n        mapBrowserEvent.pixel,\n        /**\n         * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../layer/Layer.js\").default} layer Layer.\n         * @return {boolean|undefined} Continue to iterate over the features.\n         */\n        (feature, layer) => {\n          if (!(feature instanceof Feature) || !this.filter_(feature, layer)) {\n            return;\n          }\n          this.addFeatureLayerAssociation_(feature, layer);\n          selected.push(feature);\n          return !this.multi_;\n        },\n        {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_,\n        }\n      );\n      for (let i = features.getLength() - 1; i >= 0; --i) {\n        const feature = features.item(i);\n        const index = selected.indexOf(feature);\n        if (index > -1) {\n          // feature is already selected\n          selected.splice(index, 1);\n        } else {\n          features.remove(feature);\n          deselected.push(feature);\n        }\n      }\n      if (selected.length !== 0) {\n        features.extend(selected);\n      }\n    } else {\n      // Modify the currently selected feature(s).\n      map.forEachFeatureAtPixel(\n        mapBrowserEvent.pixel,\n        /**\n         * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../layer/Layer.js\").default} layer Layer.\n         * @return {boolean|undefined} Continue to iterate over the features.\n         */\n        (feature, layer) => {\n          if (!(feature instanceof Feature) || !this.filter_(feature, layer)) {\n            return;\n          }\n          if ((add || toggle) && !features.getArray().includes(feature)) {\n            this.addFeatureLayerAssociation_(feature, layer);\n            selected.push(feature);\n          } else if (\n            (remove || toggle) &&\n            features.getArray().includes(feature)\n          ) {\n            deselected.push(feature);\n            this.removeFeatureLayerAssociation_(feature);\n          }\n          return !this.multi_;\n        },\n        {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_,\n        }\n      );\n      for (let j = deselected.length - 1; j >= 0; --j) {\n        features.remove(deselected[j]);\n      }\n      features.extend(selected);\n    }\n    if (selected.length > 0 || deselected.length > 0) {\n      this.dispatchEvent(\n        new SelectEvent(\n          SelectEventType.SELECT,\n          selected,\n          deselected,\n          mapBrowserEvent\n        )\n      );\n    }\n    return true;\n  }\n}\n\n/**\n * @return {import(\"../style/Style.js\").StyleFunction} Styles.\n */\nfunction getDefaultStyleFunction() {\n  const styles = createEditingStyle();\n  extend(styles['Polygon'], styles['LineString']);\n  extend(styles['GeometryCollection'], styles['LineString']);\n\n  return function (feature) {\n    if (!feature.getGeometry()) {\n      return null;\n    }\n    return styles[feature.getGeometry().getType()];\n  };\n}\n\nexport default Select;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}