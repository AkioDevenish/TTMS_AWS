{"ast":null,"code":"import _objectSpread from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport http from 'http';\nimport https from 'https';\nimport urlMod from 'url';\nimport { BaseClient, BaseResponse } from './base.js';\nimport { AbortError } from '../../utils.js';\nvar HttpResponse = /*#__PURE__*/function (_BaseResponse) {\n  /**\n   * BaseResponse facade for node HTTP/HTTPS API Response\n   * @param {http.ServerResponse} response\n   */\n  function HttpResponse(response, dataPromise) {\n    var _this;\n    _classCallCheck(this, HttpResponse);\n    _this = _callSuper(this, HttpResponse);\n    _this.response = response;\n    _this.dataPromise = dataPromise;\n    return _this;\n  }\n  _inherits(HttpResponse, _BaseResponse);\n  return _createClass(HttpResponse, [{\n    key: \"status\",\n    get: function get() {\n      return this.response.statusCode;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(name) {\n      return this.response.headers[name];\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.dataPromise;\n            case 2:\n              data = _context.sent;\n              return _context.abrupt(\"return\", data);\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n      return getData;\n    }()\n  }]);\n}(BaseResponse);\nexport var HttpClient = /*#__PURE__*/function (_BaseClient) {\n  function HttpClient(url) {\n    var _this2;\n    _classCallCheck(this, HttpClient);\n    _this2 = _callSuper(this, HttpClient, [url]);\n    _this2.parsedUrl = urlMod.parse(_this2.url);\n    _this2.httpApi = _this2.parsedUrl.protocol === 'http:' ? http : https;\n    return _this2;\n  }\n  _inherits(HttpClient, _BaseClient);\n  return _createClass(HttpClient, [{\n    key: \"constructRequest\",\n    value: function constructRequest(headers, signal) {\n      var _this3 = this;\n      return new Promise(function (resolve, reject) {\n        var request = _this3.httpApi.get(_objectSpread(_objectSpread({}, _this3.parsedUrl), {}, {\n          headers: headers\n        }), function (response) {\n          var dataPromise = new Promise(function (resolveData) {\n            var chunks = [];\n\n            // collect chunks\n            response.on('data', function (chunk) {\n              chunks.push(chunk);\n            });\n\n            // concatenate all chunks and resolve the promise with the resulting buffer\n            response.on('end', function () {\n              var data = Buffer.concat(chunks).buffer;\n              resolveData(data);\n            });\n            response.on('error', reject);\n          });\n          resolve(new HttpResponse(response, dataPromise));\n        });\n        request.on('error', reject);\n        if (signal) {\n          if (signal.aborted) {\n            request.destroy(new AbortError('Request aborted'));\n          }\n          signal.addEventListener('abort', function () {\n            return request.destroy(new AbortError('Request aborted'));\n          });\n        }\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _ref,\n          headers,\n          signal,\n          response,\n          _args2 = arguments;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, headers = _ref.headers, signal = _ref.signal;\n              _context2.next = 3;\n              return this.constructRequest(headers, signal);\n            case 3:\n              response = _context2.sent;\n              return _context2.abrupt(\"return\", response);\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function request() {\n        return _request.apply(this, arguments);\n      }\n      return request;\n    }()\n  }]);\n}(BaseClient);","map":{"version":3,"names":["http","https","urlMod","BaseClient","BaseResponse","AbortError","HttpResponse","_BaseResponse","response","dataPromise","_this","_classCallCheck","_callSuper","_inherits","_createClass","key","get","statusCode","value","getHeader","name","headers","_getData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","sent","abrupt","stop","getData","apply","arguments","HttpClient","_BaseClient","url","_this2","parsedUrl","parse","httpApi","protocol","constructRequest","signal","_this3","Promise","resolve","reject","request","_objectSpread","resolveData","chunks","on","chunk","push","Buffer","concat","buffer","aborted","destroy","addEventListener","_request","_callee2","_ref","_args2","_callee2$","_context2","length","undefined"],"sources":["/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/geotiff/dist-module/source/client/http.js"],"sourcesContent":["import http from 'http';\nimport https from 'https';\nimport urlMod from 'url';\n\nimport { BaseClient, BaseResponse } from './base.js';\nimport { AbortError } from '../../utils.js';\n\nclass HttpResponse extends BaseResponse {\n  /**\n   * BaseResponse facade for node HTTP/HTTPS API Response\n   * @param {http.ServerResponse} response\n   */\n  constructor(response, dataPromise) {\n    super();\n    this.response = response;\n    this.dataPromise = dataPromise;\n  }\n\n  get status() {\n    return this.response.statusCode;\n  }\n\n  getHeader(name) {\n    return this.response.headers[name];\n  }\n\n  async getData() {\n    const data = await this.dataPromise;\n    return data;\n  }\n}\n\nexport class HttpClient extends BaseClient {\n  constructor(url) {\n    super(url);\n    this.parsedUrl = urlMod.parse(this.url);\n    this.httpApi = (this.parsedUrl.protocol === 'http:' ? http : https);\n  }\n\n  constructRequest(headers, signal) {\n    return new Promise((resolve, reject) => {\n      const request = this.httpApi.get(\n        {\n          ...this.parsedUrl,\n          headers,\n        },\n        (response) => {\n          const dataPromise = new Promise((resolveData) => {\n            const chunks = [];\n\n            // collect chunks\n            response.on('data', (chunk) => {\n              chunks.push(chunk);\n            });\n\n            // concatenate all chunks and resolve the promise with the resulting buffer\n            response.on('end', () => {\n              const data = Buffer.concat(chunks).buffer;\n              resolveData(data);\n            });\n            response.on('error', reject);\n          });\n          resolve(new HttpResponse(response, dataPromise));\n        },\n      );\n      request.on('error', reject);\n\n      if (signal) {\n        if (signal.aborted) {\n          request.destroy(new AbortError('Request aborted'));\n        }\n        signal.addEventListener('abort', () => request.destroy(new AbortError('Request aborted')));\n      }\n    });\n  }\n\n  async request({ headers, signal } = {}) {\n    const response = await this.constructRequest(headers, signal);\n    return response;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}