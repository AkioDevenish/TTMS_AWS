{"ast":null,"code":"import _regeneratorRuntime from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport fs from 'fs';\nimport { BaseSource } from './basesource.js';\nfunction closeAsync(fd) {\n  return new Promise(function (resolve, reject) {\n    fs.close(fd, function (err) {\n      if (err) {\n        reject(err);\n      } else {\n        resolve();\n      }\n    });\n  });\n}\nfunction openAsync(path, flags) {\n  var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n  return new Promise(function (resolve, reject) {\n    fs.open(path, flags, mode, function (err, fd) {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(fd);\n      }\n    });\n  });\n}\nfunction readAsync() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return new Promise(function (resolve, reject) {\n    fs.read.apply(fs, args.concat([function (err, bytesRead, buffer) {\n      if (err) {\n        reject(err);\n      } else {\n        resolve({\n          bytesRead: bytesRead,\n          buffer: buffer\n        });\n      }\n    }]));\n  });\n}\nvar FileSource = /*#__PURE__*/function (_BaseSource) {\n  function FileSource(path) {\n    var _this;\n    _classCallCheck(this, FileSource);\n    _this = _callSuper(this, FileSource);\n    _this.path = path;\n    _this.openRequest = openAsync(path, 'r');\n    return _this;\n  }\n  _inherits(FileSource, _BaseSource);\n  return _createClass(FileSource, [{\n    key: \"fetchSlice\",\n    value: function () {\n      var _fetchSlice = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(slice) {\n        var fd, _yield$readAsync, buffer;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.openRequest;\n            case 2:\n              fd = _context.sent;\n              _context.next = 5;\n              return readAsync(fd, Buffer.alloc(slice.length), 0, slice.length, slice.offset);\n            case 5:\n              _yield$readAsync = _context.sent;\n              buffer = _yield$readAsync.buffer;\n              return _context.abrupt(\"return\", buffer.buffer);\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function fetchSlice(_x) {\n        return _fetchSlice.apply(this, arguments);\n      }\n      return fetchSlice;\n    }()\n  }, {\n    key: \"close\",\n    value: function () {\n      var _close = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var fd;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.openRequest;\n            case 2:\n              fd = _context2.sent;\n              _context2.next = 5;\n              return closeAsync(fd);\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function close() {\n        return _close.apply(this, arguments);\n      }\n      return close;\n    }()\n  }]);\n}(BaseSource);\nexport function makeFileSource(path) {\n  return new FileSource(path);\n}","map":{"version":3,"names":["fs","BaseSource","closeAsync","fd","Promise","resolve","reject","close","err","openAsync","path","flags","mode","arguments","length","undefined","open","readAsync","_len","args","Array","_key","read","apply","concat","bytesRead","buffer","FileSource","_BaseSource","_this","_classCallCheck","_callSuper","openRequest","_inherits","_createClass","key","value","_fetchSlice","_asyncToGenerator","_regeneratorRuntime","mark","_callee","slice","_yield$readAsync","wrap","_callee$","_context","prev","next","sent","Buffer","alloc","offset","abrupt","stop","fetchSlice","_x","_close","_callee2","_callee2$","_context2","makeFileSource"],"sources":["/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/geotiff/dist-module/source/file.js"],"sourcesContent":["import fs from 'fs';\nimport { BaseSource } from './basesource.js';\n\nfunction closeAsync(fd) {\n  return new Promise((resolve, reject) => {\n    fs.close(fd, (err) => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve();\n      }\n    });\n  });\n}\n\nfunction openAsync(path, flags, mode = undefined) {\n  return new Promise((resolve, reject) => {\n    fs.open(path, flags, mode, (err, fd) => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(fd);\n      }\n    });\n  });\n}\n\nfunction readAsync(...args) {\n  return new Promise((resolve, reject) => {\n    fs.read(...args, (err, bytesRead, buffer) => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve({ bytesRead, buffer });\n      }\n    });\n  });\n}\n\nclass FileSource extends BaseSource {\n  constructor(path) {\n    super();\n    this.path = path;\n    this.openRequest = openAsync(path, 'r');\n  }\n\n  async fetchSlice(slice) {\n    // TODO: use `signal`\n    const fd = await this.openRequest;\n    const { buffer } = await readAsync(\n      fd,\n      Buffer.alloc(slice.length),\n      0,\n      slice.length,\n      slice.offset,\n    );\n    return buffer.buffer;\n  }\n\n  async close() {\n    const fd = await this.openRequest;\n    await closeAsync(fd);\n  }\n}\n\nexport function makeFileSource(path) {\n  return new FileSource(path);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}