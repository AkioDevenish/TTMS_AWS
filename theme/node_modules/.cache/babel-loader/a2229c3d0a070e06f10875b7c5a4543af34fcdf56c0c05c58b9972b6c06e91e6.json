{"ast":null,"code":"import _classCallCheck from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/esnext.iterator.reduce.js\";\n/**\n * @module ol/render/canvas/Immediate\n */\n// FIXME test, especially polygons with holes and multipolygons\n// FIXME need to handle large thick features (where pixel size matters)\n// FIXME add offset and end to ol/geom/flat/transform~transform2D?\n\nimport VectorContext from '../VectorContext.js';\nimport { asColorLike } from '../../colorlike.js';\nimport { compose as composeTransform, create as createTransform } from '../../transform.js';\nimport { defaultFillStyle, defaultFont, defaultLineCap, defaultLineDash, defaultLineDashOffset, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultStrokeStyle, defaultTextAlign, defaultTextBaseline } from '../canvas.js';\nimport { equals } from '../../array.js';\nimport { intersects } from '../../extent.js';\nimport { toFixed } from '../../math.js';\nimport { transform2D } from '../../geom/flat/transform.js';\nimport { transformGeom2D } from '../../geom/SimpleGeometry.js';\n\n/**\n * @classdesc\n * A concrete subclass of {@link module:ol/render/VectorContext~VectorContext} that implements\n * direct rendering of features and geometries to an HTML5 Canvas context.\n * Instances of this class are created internally by the library and\n * provided to application code as vectorContext member of the\n * {@link module:ol/render/Event~RenderEvent} object associated with postcompose, precompose and\n * render events emitted by layers and maps.\n */\nvar CanvasImmediateRenderer = /*#__PURE__*/function (_VectorContext) {\n  /**\n   * @param {CanvasRenderingContext2D} context Context.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @param {import(\"../../transform.js\").Transform} transform Transform.\n   * @param {number} viewRotation View rotation.\n   * @param {number} [squaredTolerance] Optional squared tolerance for simplification.\n   * @param {import(\"../../proj.js\").TransformFunction} [userTransform] Transform from user to view projection.\n   */\n  function CanvasImmediateRenderer(context, pixelRatio, extent, transform, viewRotation, squaredTolerance, userTransform) {\n    var _this;\n    _classCallCheck(this, CanvasImmediateRenderer);\n    _this = _callSuper(this, CanvasImmediateRenderer);\n\n    /**\n     * @private\n     * @type {CanvasRenderingContext2D}\n     */\n    _this.context_ = context;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.pixelRatio_ = pixelRatio;\n\n    /**\n     * @private\n     * @type {import(\"../../extent.js\").Extent}\n     */\n    _this.extent_ = extent;\n\n    /**\n     * @private\n     * @type {import(\"../../transform.js\").Transform}\n     */\n    _this.transform_ = transform;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.transformRotation_ = transform ? toFixed(Math.atan2(transform[1], transform[0]), 10) : 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.viewRotation_ = viewRotation;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.squaredTolerance_ = squaredTolerance;\n\n    /**\n     * @private\n     * @type {import(\"../../proj.js\").TransformFunction}\n     */\n    _this.userTransform_ = userTransform;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").FillState}\n     */\n    _this.contextFillState_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").StrokeState}\n     */\n    _this.contextStrokeState_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").TextState}\n     */\n    _this.contextTextState_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").FillState}\n     */\n    _this.fillState_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").StrokeState}\n     */\n    _this.strokeState_ = null;\n\n    /**\n     * @private\n     * @type {import('../../DataTile.js').ImageLike}\n     */\n    _this.image_ = null;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.imageAnchorX_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.imageAnchorY_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.imageHeight_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.imageOpacity_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.imageOriginX_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.imageOriginY_ = 0;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _this.imageRotateWithView_ = false;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.imageRotation_ = 0;\n\n    /**\n     * @private\n     * @type {import(\"../../size.js\").Size}\n     */\n    _this.imageScale_ = [0, 0];\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.imageWidth_ = 0;\n\n    /**\n     * @private\n     * @type {string}\n     */\n    _this.text_ = '';\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.textOffsetX_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.textOffsetY_ = 0;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _this.textRotateWithView_ = false;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.textRotation_ = 0;\n\n    /**\n     * @private\n     * @type {import(\"../../size.js\").Size}\n     */\n    _this.textScale_ = [0, 0];\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").FillState}\n     */\n    _this.textFillState_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").StrokeState}\n     */\n    _this.textStrokeState_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").TextState}\n     */\n    _this.textState_ = null;\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    _this.pixelCoordinates_ = [];\n\n    /**\n     * @private\n     * @type {import(\"../../transform.js\").Transform}\n     */\n    _this.tmpLocalTransform_ = createTransform();\n    return _this;\n  }\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @private\n   */\n  _inherits(CanvasImmediateRenderer, _VectorContext);\n  return _createClass(CanvasImmediateRenderer, [{\n    key: \"drawImages_\",\n    value: function drawImages_(flatCoordinates, offset, end, stride) {\n      if (!this.image_) {\n        return;\n      }\n      var pixelCoordinates = transform2D(flatCoordinates, offset, end, stride, this.transform_, this.pixelCoordinates_);\n      var context = this.context_;\n      var localTransform = this.tmpLocalTransform_;\n      var alpha = context.globalAlpha;\n      if (this.imageOpacity_ != 1) {\n        context.globalAlpha = alpha * this.imageOpacity_;\n      }\n      var rotation = this.imageRotation_;\n      if (this.transformRotation_ === 0) {\n        rotation -= this.viewRotation_;\n      }\n      if (this.imageRotateWithView_) {\n        rotation += this.viewRotation_;\n      }\n      for (var i = 0, ii = pixelCoordinates.length; i < ii; i += 2) {\n        var x = pixelCoordinates[i] - this.imageAnchorX_;\n        var y = pixelCoordinates[i + 1] - this.imageAnchorY_;\n        if (rotation !== 0 || this.imageScale_[0] != 1 || this.imageScale_[1] != 1) {\n          var centerX = x + this.imageAnchorX_;\n          var centerY = y + this.imageAnchorY_;\n          composeTransform(localTransform, centerX, centerY, 1, 1, rotation, -centerX, -centerY);\n          context.save();\n          context.transform.apply(context, localTransform);\n          context.translate(centerX, centerY);\n          context.scale(this.imageScale_[0], this.imageScale_[1]);\n          context.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_, this.imageWidth_, this.imageHeight_, -this.imageAnchorX_, -this.imageAnchorY_, this.imageWidth_, this.imageHeight_);\n          context.restore();\n        } else {\n          context.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_, this.imageWidth_, this.imageHeight_, x, y, this.imageWidth_, this.imageHeight_);\n        }\n      }\n      if (this.imageOpacity_ != 1) {\n        context.globalAlpha = alpha;\n      }\n    }\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     */\n  }, {\n    key: \"drawText_\",\n    value: function drawText_(flatCoordinates, offset, end, stride) {\n      if (!this.textState_ || this.text_ === '') {\n        return;\n      }\n      if (this.textFillState_) {\n        this.setContextFillState_(this.textFillState_);\n      }\n      if (this.textStrokeState_) {\n        this.setContextStrokeState_(this.textStrokeState_);\n      }\n      this.setContextTextState_(this.textState_);\n      var pixelCoordinates = transform2D(flatCoordinates, offset, end, stride, this.transform_, this.pixelCoordinates_);\n      var context = this.context_;\n      var rotation = this.textRotation_;\n      if (this.transformRotation_ === 0) {\n        rotation -= this.viewRotation_;\n      }\n      if (this.textRotateWithView_) {\n        rotation += this.viewRotation_;\n      }\n      for (; offset < end; offset += stride) {\n        var x = pixelCoordinates[offset] + this.textOffsetX_;\n        var y = pixelCoordinates[offset + 1] + this.textOffsetY_;\n        if (rotation !== 0 || this.textScale_[0] != 1 || this.textScale_[1] != 1) {\n          context.save();\n          context.translate(x - this.textOffsetX_, y - this.textOffsetY_);\n          context.rotate(rotation);\n          context.translate(this.textOffsetX_, this.textOffsetY_);\n          context.scale(this.textScale_[0], this.textScale_[1]);\n          if (this.textStrokeState_) {\n            context.strokeText(this.text_, 0, 0);\n          }\n          if (this.textFillState_) {\n            context.fillText(this.text_, 0, 0);\n          }\n          context.restore();\n        } else {\n          if (this.textStrokeState_) {\n            context.strokeText(this.text_, x, y);\n          }\n          if (this.textFillState_) {\n            context.fillText(this.text_, x, y);\n          }\n        }\n      }\n    }\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @param {boolean} close Close.\n     * @private\n     * @return {number} end End.\n     */\n  }, {\n    key: \"moveToLineTo_\",\n    value: function moveToLineTo_(flatCoordinates, offset, end, stride, close) {\n      var context = this.context_;\n      var pixelCoordinates = transform2D(flatCoordinates, offset, end, stride, this.transform_, this.pixelCoordinates_);\n      context.moveTo(pixelCoordinates[0], pixelCoordinates[1]);\n      var length = pixelCoordinates.length;\n      if (close) {\n        length -= 2;\n      }\n      for (var i = 2; i < length; i += 2) {\n        context.lineTo(pixelCoordinates[i], pixelCoordinates[i + 1]);\n      }\n      if (close) {\n        context.closePath();\n      }\n      return end;\n    }\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} End.\n     */\n  }, {\n    key: \"drawRings_\",\n    value: function drawRings_(flatCoordinates, offset, ends, stride) {\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        offset = this.moveToLineTo_(flatCoordinates, offset, ends[i], stride, true);\n      }\n      return offset;\n    }\n\n    /**\n     * Render a circle geometry into the canvas.  Rendering is immediate and uses\n     * the current fill and stroke styles.\n     *\n     * @param {import(\"../../geom/Circle.js\").default} geometry Circle geometry.\n     * @api\n     */\n  }, {\n    key: \"drawCircle\",\n    value: function drawCircle(geometry) {\n      if (this.squaredTolerance_) {\n        geometry = /** @type {import(\"../../geom/Circle.js\").default} */\n        geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_);\n      }\n      if (!intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      if (this.fillState_ || this.strokeState_) {\n        if (this.fillState_) {\n          this.setContextFillState_(this.fillState_);\n        }\n        if (this.strokeState_) {\n          this.setContextStrokeState_(this.strokeState_);\n        }\n        var pixelCoordinates = transformGeom2D(geometry, this.transform_, this.pixelCoordinates_);\n        var dx = pixelCoordinates[2] - pixelCoordinates[0];\n        var dy = pixelCoordinates[3] - pixelCoordinates[1];\n        var radius = Math.sqrt(dx * dx + dy * dy);\n        var context = this.context_;\n        context.beginPath();\n        context.arc(pixelCoordinates[0], pixelCoordinates[1], radius, 0, 2 * Math.PI);\n        if (this.fillState_) {\n          context.fill();\n        }\n        if (this.strokeState_) {\n          context.stroke();\n        }\n      }\n      if (this.text_ !== '') {\n        this.drawText_(geometry.getCenter(), 0, 2, 2);\n      }\n    }\n\n    /**\n     * Set the rendering style.  Note that since this is an immediate rendering API,\n     * any `zIndex` on the provided style will be ignored.\n     *\n     * @param {import(\"../../style/Style.js\").default} style The rendering style.\n     * @api\n     */\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      this.setFillStrokeStyle(style.getFill(), style.getStroke());\n      this.setImageStyle(style.getImage());\n      this.setTextStyle(style.getText());\n    }\n\n    /**\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     */\n  }, {\n    key: \"setTransform\",\n    value: function setTransform(transform) {\n      this.transform_ = transform;\n    }\n\n    /**\n     * Render a geometry into the canvas.  Call\n     * {@link module:ol/render/canvas/Immediate~CanvasImmediateRenderer#setStyle renderer.setStyle()} first to set the rendering style.\n     *\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry The geometry to render.\n     * @api\n     */\n  }, {\n    key: \"drawGeometry\",\n    value: function drawGeometry(geometry) {\n      var type = geometry.getType();\n      switch (type) {\n        case 'Point':\n          this.drawPoint(/** @type {import(\"../../geom/Point.js\").default} */geometry);\n          break;\n        case 'LineString':\n          this.drawLineString(/** @type {import(\"../../geom/LineString.js\").default} */geometry);\n          break;\n        case 'Polygon':\n          this.drawPolygon(/** @type {import(\"../../geom/Polygon.js\").default} */geometry);\n          break;\n        case 'MultiPoint':\n          this.drawMultiPoint(/** @type {import(\"../../geom/MultiPoint.js\").default} */geometry);\n          break;\n        case 'MultiLineString':\n          this.drawMultiLineString(/** @type {import(\"../../geom/MultiLineString.js\").default} */\n          geometry);\n          break;\n        case 'MultiPolygon':\n          this.drawMultiPolygon(/** @type {import(\"../../geom/MultiPolygon.js\").default} */geometry);\n          break;\n        case 'GeometryCollection':\n          this.drawGeometryCollection(/** @type {import(\"../../geom/GeometryCollection.js\").default} */\n          geometry);\n          break;\n        case 'Circle':\n          this.drawCircle(/** @type {import(\"../../geom/Circle.js\").default} */geometry);\n          break;\n        default:\n      }\n    }\n\n    /**\n     * Render a feature into the canvas.  Note that any `zIndex` on the provided\n     * style will be ignored - features are rendered immediately in the order that\n     * this method is called.  If you need `zIndex` support, you should be using an\n     * {@link module:ol/layer/Vector~VectorLayer} instead.\n     *\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {import(\"../../style/Style.js\").default} style Style.\n     * @api\n     */\n  }, {\n    key: \"drawFeature\",\n    value: function drawFeature(feature, style) {\n      var geometry = style.getGeometryFunction()(feature);\n      if (!geometry) {\n        return;\n      }\n      this.setStyle(style);\n      this.drawGeometry(geometry);\n    }\n\n    /**\n     * Render a GeometryCollection to the canvas.  Rendering is immediate and\n     * uses the current styles appropriate for each geometry in the collection.\n     *\n     * @param {import(\"../../geom/GeometryCollection.js\").default} geometry Geometry collection.\n     */\n  }, {\n    key: \"drawGeometryCollection\",\n    value: function drawGeometryCollection(geometry) {\n      var geometries = geometry.getGeometriesArray();\n      for (var i = 0, ii = geometries.length; i < ii; ++i) {\n        this.drawGeometry(geometries[i]);\n      }\n    }\n\n    /**\n     * Render a Point geometry into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/Point.js\").default|import(\"../Feature.js\").default} geometry Point geometry.\n     */\n  }, {\n    key: \"drawPoint\",\n    value: function drawPoint(geometry) {\n      if (this.squaredTolerance_) {\n        geometry = /** @type {import(\"../../geom/Point.js\").default} */\n        geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_);\n      }\n      var flatCoordinates = geometry.getFlatCoordinates();\n      var stride = geometry.getStride();\n      if (this.image_) {\n        this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n      if (this.text_ !== '') {\n        this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n    }\n\n    /**\n     * Render a MultiPoint geometry  into the canvas.  Rendering is immediate and\n     * uses the current style.\n     *\n     * @param {import(\"../../geom/MultiPoint.js\").default|import(\"../Feature.js\").default} geometry MultiPoint geometry.\n     */\n  }, {\n    key: \"drawMultiPoint\",\n    value: function drawMultiPoint(geometry) {\n      if (this.squaredTolerance_) {\n        geometry = /** @type {import(\"../../geom/MultiPoint.js\").default} */\n        geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_);\n      }\n      var flatCoordinates = geometry.getFlatCoordinates();\n      var stride = geometry.getStride();\n      if (this.image_) {\n        this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n      if (this.text_ !== '') {\n        this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n    }\n\n    /**\n     * Render a LineString into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/LineString.js\").default|import(\"../Feature.js\").default} geometry LineString geometry.\n     */\n  }, {\n    key: \"drawLineString\",\n    value: function drawLineString(geometry) {\n      if (this.squaredTolerance_) {\n        geometry = /** @type {import(\"../../geom/LineString.js\").default} */\n        geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_);\n      }\n      if (!intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      if (this.strokeState_) {\n        this.setContextStrokeState_(this.strokeState_);\n        var context = this.context_;\n        var flatCoordinates = geometry.getFlatCoordinates();\n        context.beginPath();\n        this.moveToLineTo_(flatCoordinates, 0, flatCoordinates.length, geometry.getStride(), false);\n        context.stroke();\n      }\n      if (this.text_ !== '') {\n        var flatMidpoint = geometry.getFlatMidpoint();\n        this.drawText_(flatMidpoint, 0, 2, 2);\n      }\n    }\n\n    /**\n     * Render a MultiLineString geometry into the canvas.  Rendering is immediate\n     * and uses the current style.\n     *\n     * @param {import(\"../../geom/MultiLineString.js\").default|import(\"../Feature.js\").default} geometry MultiLineString geometry.\n     */\n  }, {\n    key: \"drawMultiLineString\",\n    value: function drawMultiLineString(geometry) {\n      if (this.squaredTolerance_) {\n        geometry = /** @type {import(\"../../geom/MultiLineString.js\").default} */\n        geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_);\n      }\n      var geometryExtent = geometry.getExtent();\n      if (!intersects(this.extent_, geometryExtent)) {\n        return;\n      }\n      if (this.strokeState_) {\n        this.setContextStrokeState_(this.strokeState_);\n        var context = this.context_;\n        var flatCoordinates = geometry.getFlatCoordinates();\n        var offset = 0;\n        var ends = /** @type {Array<number>} */geometry.getEnds();\n        var stride = geometry.getStride();\n        context.beginPath();\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n          offset = this.moveToLineTo_(flatCoordinates, offset, ends[i], stride, false);\n        }\n        context.stroke();\n      }\n      if (this.text_ !== '') {\n        var flatMidpoints = geometry.getFlatMidpoints();\n        this.drawText_(flatMidpoints, 0, flatMidpoints.length, 2);\n      }\n    }\n\n    /**\n     * Render a Polygon geometry into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/Polygon.js\").default|import(\"../Feature.js\").default} geometry Polygon geometry.\n     */\n  }, {\n    key: \"drawPolygon\",\n    value: function drawPolygon(geometry) {\n      if (this.squaredTolerance_) {\n        geometry = /** @type {import(\"../../geom/Polygon.js\").default} */\n        geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_);\n      }\n      if (!intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      if (this.strokeState_ || this.fillState_) {\n        if (this.fillState_) {\n          this.setContextFillState_(this.fillState_);\n        }\n        if (this.strokeState_) {\n          this.setContextStrokeState_(this.strokeState_);\n        }\n        var context = this.context_;\n        context.beginPath();\n        this.drawRings_(geometry.getOrientedFlatCoordinates(), 0, /** @type {Array<number>} */geometry.getEnds(), geometry.getStride());\n        if (this.fillState_) {\n          context.fill();\n        }\n        if (this.strokeState_) {\n          context.stroke();\n        }\n      }\n      if (this.text_ !== '') {\n        var flatInteriorPoint = geometry.getFlatInteriorPoint();\n        this.drawText_(flatInteriorPoint, 0, 2, 2);\n      }\n    }\n\n    /**\n     * Render MultiPolygon geometry into the canvas.  Rendering is immediate and\n     * uses the current style.\n     * @param {import(\"../../geom/MultiPolygon.js\").default} geometry MultiPolygon geometry.\n     */\n  }, {\n    key: \"drawMultiPolygon\",\n    value: function drawMultiPolygon(geometry) {\n      if (this.squaredTolerance_) {\n        geometry = /** @type {import(\"../../geom/MultiPolygon.js\").default} */\n        geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_);\n      }\n      if (!intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      if (this.strokeState_ || this.fillState_) {\n        if (this.fillState_) {\n          this.setContextFillState_(this.fillState_);\n        }\n        if (this.strokeState_) {\n          this.setContextStrokeState_(this.strokeState_);\n        }\n        var context = this.context_;\n        var flatCoordinates = geometry.getOrientedFlatCoordinates();\n        var offset = 0;\n        var endss = geometry.getEndss();\n        var stride = geometry.getStride();\n        context.beginPath();\n        for (var i = 0, ii = endss.length; i < ii; ++i) {\n          var ends = endss[i];\n          offset = this.drawRings_(flatCoordinates, offset, ends, stride);\n        }\n        if (this.fillState_) {\n          context.fill();\n        }\n        if (this.strokeState_) {\n          context.stroke();\n        }\n      }\n      if (this.text_ !== '') {\n        var flatInteriorPoints = geometry.getFlatInteriorPoints();\n        this.drawText_(flatInteriorPoints, 0, flatInteriorPoints.length, 2);\n      }\n    }\n\n    /**\n     * @param {import(\"../canvas.js\").FillState} fillState Fill state.\n     * @private\n     */\n  }, {\n    key: \"setContextFillState_\",\n    value: function setContextFillState_(fillState) {\n      var context = this.context_;\n      var contextFillState = this.contextFillState_;\n      if (!contextFillState) {\n        context.fillStyle = fillState.fillStyle;\n        this.contextFillState_ = {\n          fillStyle: fillState.fillStyle\n        };\n      } else {\n        if (contextFillState.fillStyle != fillState.fillStyle) {\n          contextFillState.fillStyle = fillState.fillStyle;\n          context.fillStyle = fillState.fillStyle;\n        }\n      }\n    }\n\n    /**\n     * @param {import(\"../canvas.js\").StrokeState} strokeState Stroke state.\n     * @private\n     */\n  }, {\n    key: \"setContextStrokeState_\",\n    value: function setContextStrokeState_(strokeState) {\n      var context = this.context_;\n      var contextStrokeState = this.contextStrokeState_;\n      if (!contextStrokeState) {\n        context.lineCap = strokeState.lineCap;\n        context.setLineDash(strokeState.lineDash);\n        context.lineDashOffset = strokeState.lineDashOffset;\n        context.lineJoin = strokeState.lineJoin;\n        context.lineWidth = strokeState.lineWidth;\n        context.miterLimit = strokeState.miterLimit;\n        context.strokeStyle = strokeState.strokeStyle;\n        this.contextStrokeState_ = {\n          lineCap: strokeState.lineCap,\n          lineDash: strokeState.lineDash,\n          lineDashOffset: strokeState.lineDashOffset,\n          lineJoin: strokeState.lineJoin,\n          lineWidth: strokeState.lineWidth,\n          miterLimit: strokeState.miterLimit,\n          strokeStyle: strokeState.strokeStyle\n        };\n      } else {\n        if (contextStrokeState.lineCap != strokeState.lineCap) {\n          contextStrokeState.lineCap = strokeState.lineCap;\n          context.lineCap = strokeState.lineCap;\n        }\n        if (!equals(contextStrokeState.lineDash, strokeState.lineDash)) {\n          context.setLineDash(contextStrokeState.lineDash = strokeState.lineDash);\n        }\n        if (contextStrokeState.lineDashOffset != strokeState.lineDashOffset) {\n          contextStrokeState.lineDashOffset = strokeState.lineDashOffset;\n          context.lineDashOffset = strokeState.lineDashOffset;\n        }\n        if (contextStrokeState.lineJoin != strokeState.lineJoin) {\n          contextStrokeState.lineJoin = strokeState.lineJoin;\n          context.lineJoin = strokeState.lineJoin;\n        }\n        if (contextStrokeState.lineWidth != strokeState.lineWidth) {\n          contextStrokeState.lineWidth = strokeState.lineWidth;\n          context.lineWidth = strokeState.lineWidth;\n        }\n        if (contextStrokeState.miterLimit != strokeState.miterLimit) {\n          contextStrokeState.miterLimit = strokeState.miterLimit;\n          context.miterLimit = strokeState.miterLimit;\n        }\n        if (contextStrokeState.strokeStyle != strokeState.strokeStyle) {\n          contextStrokeState.strokeStyle = strokeState.strokeStyle;\n          context.strokeStyle = strokeState.strokeStyle;\n        }\n      }\n    }\n\n    /**\n     * @param {import(\"../canvas.js\").TextState} textState Text state.\n     * @private\n     */\n  }, {\n    key: \"setContextTextState_\",\n    value: function setContextTextState_(textState) {\n      var context = this.context_;\n      var contextTextState = this.contextTextState_;\n      var textAlign = textState.textAlign ? textState.textAlign : defaultTextAlign;\n      if (!contextTextState) {\n        context.font = textState.font;\n        context.textAlign = textAlign;\n        context.textBaseline = textState.textBaseline;\n        this.contextTextState_ = {\n          font: textState.font,\n          textAlign: textAlign,\n          textBaseline: textState.textBaseline\n        };\n      } else {\n        if (contextTextState.font != textState.font) {\n          contextTextState.font = textState.font;\n          context.font = textState.font;\n        }\n        if (contextTextState.textAlign != textAlign) {\n          contextTextState.textAlign = textAlign;\n          context.textAlign = textAlign;\n        }\n        if (contextTextState.textBaseline != textState.textBaseline) {\n          contextTextState.textBaseline = textState.textBaseline;\n          context.textBaseline = textState.textBaseline;\n        }\n      }\n    }\n\n    /**\n     * Set the fill and stroke style for subsequent draw operations.  To clear\n     * either fill or stroke styles, pass null for the appropriate parameter.\n     *\n     * @param {import(\"../../style/Fill.js\").default} fillStyle Fill style.\n     * @param {import(\"../../style/Stroke.js\").default} strokeStyle Stroke style.\n     */\n  }, {\n    key: \"setFillStrokeStyle\",\n    value: function setFillStrokeStyle(fillStyle, strokeStyle) {\n      var _this2 = this;\n      if (!fillStyle) {\n        this.fillState_ = null;\n      } else {\n        var fillStyleColor = fillStyle.getColor();\n        this.fillState_ = {\n          fillStyle: asColorLike(fillStyleColor ? fillStyleColor : defaultFillStyle)\n        };\n      }\n      if (!strokeStyle) {\n        this.strokeState_ = null;\n      } else {\n        var strokeStyleColor = strokeStyle.getColor();\n        var strokeStyleLineCap = strokeStyle.getLineCap();\n        var strokeStyleLineDash = strokeStyle.getLineDash();\n        var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n        var strokeStyleLineJoin = strokeStyle.getLineJoin();\n        var strokeStyleWidth = strokeStyle.getWidth();\n        var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n        var lineDash = strokeStyleLineDash ? strokeStyleLineDash : defaultLineDash;\n        this.strokeState_ = {\n          lineCap: strokeStyleLineCap !== undefined ? strokeStyleLineCap : defaultLineCap,\n          lineDash: this.pixelRatio_ === 1 ? lineDash : lineDash.map(function (n) {\n            return n * _this2.pixelRatio_;\n          }),\n          lineDashOffset: (strokeStyleLineDashOffset ? strokeStyleLineDashOffset : defaultLineDashOffset) * this.pixelRatio_,\n          lineJoin: strokeStyleLineJoin !== undefined ? strokeStyleLineJoin : defaultLineJoin,\n          lineWidth: (strokeStyleWidth !== undefined ? strokeStyleWidth : defaultLineWidth) * this.pixelRatio_,\n          miterLimit: strokeStyleMiterLimit !== undefined ? strokeStyleMiterLimit : defaultMiterLimit,\n          strokeStyle: asColorLike(strokeStyleColor ? strokeStyleColor : defaultStrokeStyle)\n        };\n      }\n    }\n\n    /**\n     * Set the image style for subsequent draw operations.  Pass null to remove\n     * the image style.\n     *\n     * @param {import(\"../../style/Image.js\").default} imageStyle Image style.\n     */\n  }, {\n    key: \"setImageStyle\",\n    value: function setImageStyle(imageStyle) {\n      var imageSize;\n      if (!imageStyle || !(imageSize = imageStyle.getSize())) {\n        this.image_ = null;\n        return;\n      }\n      var imagePixelRatio = imageStyle.getPixelRatio(this.pixelRatio_);\n      var imageAnchor = imageStyle.getAnchor();\n      var imageOrigin = imageStyle.getOrigin();\n      this.image_ = imageStyle.getImage(this.pixelRatio_);\n      this.imageAnchorX_ = imageAnchor[0] * imagePixelRatio;\n      this.imageAnchorY_ = imageAnchor[1] * imagePixelRatio;\n      this.imageHeight_ = imageSize[1] * imagePixelRatio;\n      this.imageOpacity_ = imageStyle.getOpacity();\n      this.imageOriginX_ = imageOrigin[0];\n      this.imageOriginY_ = imageOrigin[1];\n      this.imageRotateWithView_ = imageStyle.getRotateWithView();\n      this.imageRotation_ = imageStyle.getRotation();\n      var imageScale = imageStyle.getScaleArray();\n      this.imageScale_ = [imageScale[0] * this.pixelRatio_ / imagePixelRatio, imageScale[1] * this.pixelRatio_ / imagePixelRatio];\n      this.imageWidth_ = imageSize[0] * imagePixelRatio;\n    }\n\n    /**\n     * Set the text style for subsequent draw operations.  Pass null to\n     * remove the text style.\n     *\n     * @param {import(\"../../style/Text.js\").default} textStyle Text style.\n     */\n  }, {\n    key: \"setTextStyle\",\n    value: function setTextStyle(textStyle) {\n      if (!textStyle) {\n        this.text_ = '';\n      } else {\n        var textFillStyle = textStyle.getFill();\n        if (!textFillStyle) {\n          this.textFillState_ = null;\n        } else {\n          var textFillStyleColor = textFillStyle.getColor();\n          this.textFillState_ = {\n            fillStyle: asColorLike(textFillStyleColor ? textFillStyleColor : defaultFillStyle)\n          };\n        }\n        var textStrokeStyle = textStyle.getStroke();\n        if (!textStrokeStyle) {\n          this.textStrokeState_ = null;\n        } else {\n          var textStrokeStyleColor = textStrokeStyle.getColor();\n          var textStrokeStyleLineCap = textStrokeStyle.getLineCap();\n          var textStrokeStyleLineDash = textStrokeStyle.getLineDash();\n          var textStrokeStyleLineDashOffset = textStrokeStyle.getLineDashOffset();\n          var textStrokeStyleLineJoin = textStrokeStyle.getLineJoin();\n          var textStrokeStyleWidth = textStrokeStyle.getWidth();\n          var textStrokeStyleMiterLimit = textStrokeStyle.getMiterLimit();\n          this.textStrokeState_ = {\n            lineCap: textStrokeStyleLineCap !== undefined ? textStrokeStyleLineCap : defaultLineCap,\n            lineDash: textStrokeStyleLineDash ? textStrokeStyleLineDash : defaultLineDash,\n            lineDashOffset: textStrokeStyleLineDashOffset ? textStrokeStyleLineDashOffset : defaultLineDashOffset,\n            lineJoin: textStrokeStyleLineJoin !== undefined ? textStrokeStyleLineJoin : defaultLineJoin,\n            lineWidth: textStrokeStyleWidth !== undefined ? textStrokeStyleWidth : defaultLineWidth,\n            miterLimit: textStrokeStyleMiterLimit !== undefined ? textStrokeStyleMiterLimit : defaultMiterLimit,\n            strokeStyle: asColorLike(textStrokeStyleColor ? textStrokeStyleColor : defaultStrokeStyle)\n          };\n        }\n        var textFont = textStyle.getFont();\n        var textOffsetX = textStyle.getOffsetX();\n        var textOffsetY = textStyle.getOffsetY();\n        var textRotateWithView = textStyle.getRotateWithView();\n        var textRotation = textStyle.getRotation();\n        var textScale = textStyle.getScaleArray();\n        var textText = textStyle.getText();\n        var textTextAlign = textStyle.getTextAlign();\n        var textTextBaseline = textStyle.getTextBaseline();\n        this.textState_ = {\n          font: textFont !== undefined ? textFont : defaultFont,\n          textAlign: textTextAlign !== undefined ? textTextAlign : defaultTextAlign,\n          textBaseline: textTextBaseline !== undefined ? textTextBaseline : defaultTextBaseline\n        };\n        this.text_ = textText !== undefined ? Array.isArray(textText) ? textText.reduce(function (acc, t, i) {\n          return acc += i % 2 ? ' ' : t;\n        }, '') : textText : '';\n        this.textOffsetX_ = textOffsetX !== undefined ? this.pixelRatio_ * textOffsetX : 0;\n        this.textOffsetY_ = textOffsetY !== undefined ? this.pixelRatio_ * textOffsetY : 0;\n        this.textRotateWithView_ = textRotateWithView !== undefined ? textRotateWithView : false;\n        this.textRotation_ = textRotation !== undefined ? textRotation : 0;\n        this.textScale_ = [this.pixelRatio_ * textScale[0], this.pixelRatio_ * textScale[1]];\n      }\n    }\n  }]);\n}(VectorContext);\nexport default CanvasImmediateRenderer;","map":{"version":3,"names":["VectorContext","asColorLike","compose","composeTransform","create","createTransform","defaultFillStyle","defaultFont","defaultLineCap","defaultLineDash","defaultLineDashOffset","defaultLineJoin","defaultLineWidth","defaultMiterLimit","defaultStrokeStyle","defaultTextAlign","defaultTextBaseline","equals","intersects","toFixed","transform2D","transformGeom2D","CanvasImmediateRenderer","_VectorContext","context","pixelRatio","extent","transform","viewRotation","squaredTolerance","userTransform","_this","_classCallCheck","_callSuper","context_","pixelRatio_","extent_","transform_","transformRotation_","Math","atan2","viewRotation_","squaredTolerance_","userTransform_","contextFillState_","contextStrokeState_","contextTextState_","fillState_","strokeState_","image_","imageAnchorX_","imageAnchorY_","imageHeight_","imageOpacity_","imageOriginX_","imageOriginY_","imageRotateWithView_","imageRotation_","imageScale_","imageWidth_","text_","textOffsetX_","textOffsetY_","textRotateWithView_","textRotation_","textScale_","textFillState_","textStrokeState_","textState_","pixelCoordinates_","tmpLocalTransform_","_inherits","_createClass","key","value","drawImages_","flatCoordinates","offset","end","stride","pixelCoordinates","localTransform","alpha","globalAlpha","rotation","i","ii","length","x","y","centerX","centerY","save","apply","translate","scale","drawImage","restore","drawText_","setContextFillState_","setContextStrokeState_","setContextTextState_","rotate","strokeText","fillText","moveToLineTo_","close","moveTo","lineTo","closePath","drawRings_","ends","drawCircle","geometry","simplifyTransformed","getExtent","dx","dy","radius","sqrt","beginPath","arc","PI","fill","stroke","getCenter","setStyle","style","setFillStrokeStyle","getFill","getStroke","setImageStyle","getImage","setTextStyle","getText","setTransform","drawGeometry","type","getType","drawPoint","drawLineString","drawPolygon","drawMultiPoint","drawMultiLineString","drawMultiPolygon","drawGeometryCollection","drawFeature","feature","getGeometryFunction","geometries","getGeometriesArray","getFlatCoordinates","getStride","flatMidpoint","getFlatMidpoint","geometryExtent","getEnds","flatMidpoints","getFlatMidpoints","getOrientedFlatCoordinates","flatInteriorPoint","getFlatInteriorPoint","endss","getEndss","flatInteriorPoints","getFlatInteriorPoints","fillState","contextFillState","fillStyle","strokeState","contextStrokeState","lineCap","setLineDash","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","strokeStyle","textState","contextTextState","textAlign","font","textBaseline","_this2","fillStyleColor","getColor","strokeStyleColor","strokeStyleLineCap","getLineCap","strokeStyleLineDash","getLineDash","strokeStyleLineDashOffset","getLineDashOffset","strokeStyleLineJoin","getLineJoin","strokeStyleWidth","getWidth","strokeStyleMiterLimit","getMiterLimit","undefined","map","n","imageStyle","imageSize","getSize","imagePixelRatio","getPixelRatio","imageAnchor","getAnchor","imageOrigin","getOrigin","getOpacity","getRotateWithView","getRotation","imageScale","getScaleArray","textStyle","textFillStyle","textFillStyleColor","textStrokeStyle","textStrokeStyleColor","textStrokeStyleLineCap","textStrokeStyleLineDash","textStrokeStyleLineDashOffset","textStrokeStyleLineJoin","textStrokeStyleWidth","textStrokeStyleMiterLimit","textFont","getFont","textOffsetX","getOffsetX","textOffsetY","getOffsetY","textRotateWithView","textRotation","textScale","textText","textTextAlign","getTextAlign","textTextBaseline","getTextBaseline","Array","isArray","reduce","acc","t"],"sources":["/Users/akio/Downloads/themeforest-veRyTIGn-mofi-vue-js-admin-template/theme/node_modules/ol/render/canvas/Immediate.js"],"sourcesContent":["/**\n * @module ol/render/canvas/Immediate\n */\n// FIXME test, especially polygons with holes and multipolygons\n// FIXME need to handle large thick features (where pixel size matters)\n// FIXME add offset and end to ol/geom/flat/transform~transform2D?\n\nimport VectorContext from '../VectorContext.js';\nimport {asColorLike} from '../../colorlike.js';\nimport {\n  compose as composeTransform,\n  create as createTransform,\n} from '../../transform.js';\nimport {\n  defaultFillStyle,\n  defaultFont,\n  defaultLineCap,\n  defaultLineDash,\n  defaultLineDashOffset,\n  defaultLineJoin,\n  defaultLineWidth,\n  defaultMiterLimit,\n  defaultStrokeStyle,\n  defaultTextAlign,\n  defaultTextBaseline,\n} from '../canvas.js';\nimport {equals} from '../../array.js';\nimport {intersects} from '../../extent.js';\nimport {toFixed} from '../../math.js';\nimport {transform2D} from '../../geom/flat/transform.js';\nimport {transformGeom2D} from '../../geom/SimpleGeometry.js';\n\n/**\n * @classdesc\n * A concrete subclass of {@link module:ol/render/VectorContext~VectorContext} that implements\n * direct rendering of features and geometries to an HTML5 Canvas context.\n * Instances of this class are created internally by the library and\n * provided to application code as vectorContext member of the\n * {@link module:ol/render/Event~RenderEvent} object associated with postcompose, precompose and\n * render events emitted by layers and maps.\n */\nclass CanvasImmediateRenderer extends VectorContext {\n  /**\n   * @param {CanvasRenderingContext2D} context Context.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @param {import(\"../../transform.js\").Transform} transform Transform.\n   * @param {number} viewRotation View rotation.\n   * @param {number} [squaredTolerance] Optional squared tolerance for simplification.\n   * @param {import(\"../../proj.js\").TransformFunction} [userTransform] Transform from user to view projection.\n   */\n  constructor(\n    context,\n    pixelRatio,\n    extent,\n    transform,\n    viewRotation,\n    squaredTolerance,\n    userTransform\n  ) {\n    super();\n\n    /**\n     * @private\n     * @type {CanvasRenderingContext2D}\n     */\n    this.context_ = context;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.pixelRatio_ = pixelRatio;\n\n    /**\n     * @private\n     * @type {import(\"../../extent.js\").Extent}\n     */\n    this.extent_ = extent;\n\n    /**\n     * @private\n     * @type {import(\"../../transform.js\").Transform}\n     */\n    this.transform_ = transform;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.transformRotation_ = transform\n      ? toFixed(Math.atan2(transform[1], transform[0]), 10)\n      : 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.viewRotation_ = viewRotation;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.squaredTolerance_ = squaredTolerance;\n\n    /**\n     * @private\n     * @type {import(\"../../proj.js\").TransformFunction}\n     */\n    this.userTransform_ = userTransform;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").FillState}\n     */\n    this.contextFillState_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").StrokeState}\n     */\n    this.contextStrokeState_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").TextState}\n     */\n    this.contextTextState_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").FillState}\n     */\n    this.fillState_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").StrokeState}\n     */\n    this.strokeState_ = null;\n\n    /**\n     * @private\n     * @type {import('../../DataTile.js').ImageLike}\n     */\n    this.image_ = null;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.imageAnchorX_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.imageAnchorY_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.imageHeight_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.imageOpacity_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.imageOriginX_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.imageOriginY_ = 0;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.imageRotateWithView_ = false;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.imageRotation_ = 0;\n\n    /**\n     * @private\n     * @type {import(\"../../size.js\").Size}\n     */\n    this.imageScale_ = [0, 0];\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.imageWidth_ = 0;\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.text_ = '';\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.textOffsetX_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.textOffsetY_ = 0;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.textRotateWithView_ = false;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.textRotation_ = 0;\n\n    /**\n     * @private\n     * @type {import(\"../../size.js\").Size}\n     */\n    this.textScale_ = [0, 0];\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").FillState}\n     */\n    this.textFillState_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").StrokeState}\n     */\n    this.textStrokeState_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../canvas.js\").TextState}\n     */\n    this.textState_ = null;\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.pixelCoordinates_ = [];\n\n    /**\n     * @private\n     * @type {import(\"../../transform.js\").Transform}\n     */\n    this.tmpLocalTransform_ = createTransform();\n  }\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @private\n   */\n  drawImages_(flatCoordinates, offset, end, stride) {\n    if (!this.image_) {\n      return;\n    }\n    const pixelCoordinates = transform2D(\n      flatCoordinates,\n      offset,\n      end,\n      stride,\n      this.transform_,\n      this.pixelCoordinates_\n    );\n    const context = this.context_;\n    const localTransform = this.tmpLocalTransform_;\n    const alpha = context.globalAlpha;\n    if (this.imageOpacity_ != 1) {\n      context.globalAlpha = alpha * this.imageOpacity_;\n    }\n    let rotation = this.imageRotation_;\n    if (this.transformRotation_ === 0) {\n      rotation -= this.viewRotation_;\n    }\n    if (this.imageRotateWithView_) {\n      rotation += this.viewRotation_;\n    }\n    for (let i = 0, ii = pixelCoordinates.length; i < ii; i += 2) {\n      const x = pixelCoordinates[i] - this.imageAnchorX_;\n      const y = pixelCoordinates[i + 1] - this.imageAnchorY_;\n      if (\n        rotation !== 0 ||\n        this.imageScale_[0] != 1 ||\n        this.imageScale_[1] != 1\n      ) {\n        const centerX = x + this.imageAnchorX_;\n        const centerY = y + this.imageAnchorY_;\n        composeTransform(\n          localTransform,\n          centerX,\n          centerY,\n          1,\n          1,\n          rotation,\n          -centerX,\n          -centerY\n        );\n        context.save();\n        context.transform.apply(context, localTransform);\n        context.translate(centerX, centerY);\n        context.scale(this.imageScale_[0], this.imageScale_[1]);\n        context.drawImage(\n          this.image_,\n          this.imageOriginX_,\n          this.imageOriginY_,\n          this.imageWidth_,\n          this.imageHeight_,\n          -this.imageAnchorX_,\n          -this.imageAnchorY_,\n          this.imageWidth_,\n          this.imageHeight_\n        );\n        context.restore();\n      } else {\n        context.drawImage(\n          this.image_,\n          this.imageOriginX_,\n          this.imageOriginY_,\n          this.imageWidth_,\n          this.imageHeight_,\n          x,\n          y,\n          this.imageWidth_,\n          this.imageHeight_\n        );\n      }\n    }\n    if (this.imageOpacity_ != 1) {\n      context.globalAlpha = alpha;\n    }\n  }\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @private\n   */\n  drawText_(flatCoordinates, offset, end, stride) {\n    if (!this.textState_ || this.text_ === '') {\n      return;\n    }\n    if (this.textFillState_) {\n      this.setContextFillState_(this.textFillState_);\n    }\n    if (this.textStrokeState_) {\n      this.setContextStrokeState_(this.textStrokeState_);\n    }\n    this.setContextTextState_(this.textState_);\n    const pixelCoordinates = transform2D(\n      flatCoordinates,\n      offset,\n      end,\n      stride,\n      this.transform_,\n      this.pixelCoordinates_\n    );\n    const context = this.context_;\n    let rotation = this.textRotation_;\n    if (this.transformRotation_ === 0) {\n      rotation -= this.viewRotation_;\n    }\n    if (this.textRotateWithView_) {\n      rotation += this.viewRotation_;\n    }\n    for (; offset < end; offset += stride) {\n      const x = pixelCoordinates[offset] + this.textOffsetX_;\n      const y = pixelCoordinates[offset + 1] + this.textOffsetY_;\n      if (\n        rotation !== 0 ||\n        this.textScale_[0] != 1 ||\n        this.textScale_[1] != 1\n      ) {\n        context.save();\n        context.translate(x - this.textOffsetX_, y - this.textOffsetY_);\n        context.rotate(rotation);\n        context.translate(this.textOffsetX_, this.textOffsetY_);\n        context.scale(this.textScale_[0], this.textScale_[1]);\n        if (this.textStrokeState_) {\n          context.strokeText(this.text_, 0, 0);\n        }\n        if (this.textFillState_) {\n          context.fillText(this.text_, 0, 0);\n        }\n        context.restore();\n      } else {\n        if (this.textStrokeState_) {\n          context.strokeText(this.text_, x, y);\n        }\n        if (this.textFillState_) {\n          context.fillText(this.text_, x, y);\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {boolean} close Close.\n   * @private\n   * @return {number} end End.\n   */\n  moveToLineTo_(flatCoordinates, offset, end, stride, close) {\n    const context = this.context_;\n    const pixelCoordinates = transform2D(\n      flatCoordinates,\n      offset,\n      end,\n      stride,\n      this.transform_,\n      this.pixelCoordinates_\n    );\n    context.moveTo(pixelCoordinates[0], pixelCoordinates[1]);\n    let length = pixelCoordinates.length;\n    if (close) {\n      length -= 2;\n    }\n    for (let i = 2; i < length; i += 2) {\n      context.lineTo(pixelCoordinates[i], pixelCoordinates[i + 1]);\n    }\n    if (close) {\n      context.closePath();\n    }\n    return end;\n  }\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @private\n   * @return {number} End.\n   */\n  drawRings_(flatCoordinates, offset, ends, stride) {\n    for (let i = 0, ii = ends.length; i < ii; ++i) {\n      offset = this.moveToLineTo_(\n        flatCoordinates,\n        offset,\n        ends[i],\n        stride,\n        true\n      );\n    }\n    return offset;\n  }\n\n  /**\n   * Render a circle geometry into the canvas.  Rendering is immediate and uses\n   * the current fill and stroke styles.\n   *\n   * @param {import(\"../../geom/Circle.js\").default} geometry Circle geometry.\n   * @api\n   */\n  drawCircle(geometry) {\n    if (this.squaredTolerance_) {\n      geometry = /** @type {import(\"../../geom/Circle.js\").default} */ (\n        geometry.simplifyTransformed(\n          this.squaredTolerance_,\n          this.userTransform_\n        )\n      );\n    }\n    if (!intersects(this.extent_, geometry.getExtent())) {\n      return;\n    }\n    if (this.fillState_ || this.strokeState_) {\n      if (this.fillState_) {\n        this.setContextFillState_(this.fillState_);\n      }\n      if (this.strokeState_) {\n        this.setContextStrokeState_(this.strokeState_);\n      }\n      const pixelCoordinates = transformGeom2D(\n        geometry,\n        this.transform_,\n        this.pixelCoordinates_\n      );\n      const dx = pixelCoordinates[2] - pixelCoordinates[0];\n      const dy = pixelCoordinates[3] - pixelCoordinates[1];\n      const radius = Math.sqrt(dx * dx + dy * dy);\n      const context = this.context_;\n      context.beginPath();\n      context.arc(\n        pixelCoordinates[0],\n        pixelCoordinates[1],\n        radius,\n        0,\n        2 * Math.PI\n      );\n      if (this.fillState_) {\n        context.fill();\n      }\n      if (this.strokeState_) {\n        context.stroke();\n      }\n    }\n    if (this.text_ !== '') {\n      this.drawText_(geometry.getCenter(), 0, 2, 2);\n    }\n  }\n\n  /**\n   * Set the rendering style.  Note that since this is an immediate rendering API,\n   * any `zIndex` on the provided style will be ignored.\n   *\n   * @param {import(\"../../style/Style.js\").default} style The rendering style.\n   * @api\n   */\n  setStyle(style) {\n    this.setFillStrokeStyle(style.getFill(), style.getStroke());\n    this.setImageStyle(style.getImage());\n    this.setTextStyle(style.getText());\n  }\n\n  /**\n   * @param {import(\"../../transform.js\").Transform} transform Transform.\n   */\n  setTransform(transform) {\n    this.transform_ = transform;\n  }\n\n  /**\n   * Render a geometry into the canvas.  Call\n   * {@link module:ol/render/canvas/Immediate~CanvasImmediateRenderer#setStyle renderer.setStyle()} first to set the rendering style.\n   *\n   * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry The geometry to render.\n   * @api\n   */\n  drawGeometry(geometry) {\n    const type = geometry.getType();\n    switch (type) {\n      case 'Point':\n        this.drawPoint(\n          /** @type {import(\"../../geom/Point.js\").default} */ (geometry)\n        );\n        break;\n      case 'LineString':\n        this.drawLineString(\n          /** @type {import(\"../../geom/LineString.js\").default} */ (geometry)\n        );\n        break;\n      case 'Polygon':\n        this.drawPolygon(\n          /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry)\n        );\n        break;\n      case 'MultiPoint':\n        this.drawMultiPoint(\n          /** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry)\n        );\n        break;\n      case 'MultiLineString':\n        this.drawMultiLineString(\n          /** @type {import(\"../../geom/MultiLineString.js\").default} */ (\n            geometry\n          )\n        );\n        break;\n      case 'MultiPolygon':\n        this.drawMultiPolygon(\n          /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry)\n        );\n        break;\n      case 'GeometryCollection':\n        this.drawGeometryCollection(\n          /** @type {import(\"../../geom/GeometryCollection.js\").default} */ (\n            geometry\n          )\n        );\n        break;\n      case 'Circle':\n        this.drawCircle(\n          /** @type {import(\"../../geom/Circle.js\").default} */ (geometry)\n        );\n        break;\n      default:\n    }\n  }\n\n  /**\n   * Render a feature into the canvas.  Note that any `zIndex` on the provided\n   * style will be ignored - features are rendered immediately in the order that\n   * this method is called.  If you need `zIndex` support, you should be using an\n   * {@link module:ol/layer/Vector~VectorLayer} instead.\n   *\n   * @param {import(\"../../Feature.js\").default} feature Feature.\n   * @param {import(\"../../style/Style.js\").default} style Style.\n   * @api\n   */\n  drawFeature(feature, style) {\n    const geometry = style.getGeometryFunction()(feature);\n    if (!geometry) {\n      return;\n    }\n    this.setStyle(style);\n    this.drawGeometry(geometry);\n  }\n\n  /**\n   * Render a GeometryCollection to the canvas.  Rendering is immediate and\n   * uses the current styles appropriate for each geometry in the collection.\n   *\n   * @param {import(\"../../geom/GeometryCollection.js\").default} geometry Geometry collection.\n   */\n  drawGeometryCollection(geometry) {\n    const geometries = geometry.getGeometriesArray();\n    for (let i = 0, ii = geometries.length; i < ii; ++i) {\n      this.drawGeometry(geometries[i]);\n    }\n  }\n\n  /**\n   * Render a Point geometry into the canvas.  Rendering is immediate and uses\n   * the current style.\n   *\n   * @param {import(\"../../geom/Point.js\").default|import(\"../Feature.js\").default} geometry Point geometry.\n   */\n  drawPoint(geometry) {\n    if (this.squaredTolerance_) {\n      geometry = /** @type {import(\"../../geom/Point.js\").default} */ (\n        geometry.simplifyTransformed(\n          this.squaredTolerance_,\n          this.userTransform_\n        )\n      );\n    }\n    const flatCoordinates = geometry.getFlatCoordinates();\n    const stride = geometry.getStride();\n    if (this.image_) {\n      this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n    }\n    if (this.text_ !== '') {\n      this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n    }\n  }\n\n  /**\n   * Render a MultiPoint geometry  into the canvas.  Rendering is immediate and\n   * uses the current style.\n   *\n   * @param {import(\"../../geom/MultiPoint.js\").default|import(\"../Feature.js\").default} geometry MultiPoint geometry.\n   */\n  drawMultiPoint(geometry) {\n    if (this.squaredTolerance_) {\n      geometry = /** @type {import(\"../../geom/MultiPoint.js\").default} */ (\n        geometry.simplifyTransformed(\n          this.squaredTolerance_,\n          this.userTransform_\n        )\n      );\n    }\n    const flatCoordinates = geometry.getFlatCoordinates();\n    const stride = geometry.getStride();\n    if (this.image_) {\n      this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n    }\n    if (this.text_ !== '') {\n      this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n    }\n  }\n\n  /**\n   * Render a LineString into the canvas.  Rendering is immediate and uses\n   * the current style.\n   *\n   * @param {import(\"../../geom/LineString.js\").default|import(\"../Feature.js\").default} geometry LineString geometry.\n   */\n  drawLineString(geometry) {\n    if (this.squaredTolerance_) {\n      geometry = /** @type {import(\"../../geom/LineString.js\").default} */ (\n        geometry.simplifyTransformed(\n          this.squaredTolerance_,\n          this.userTransform_\n        )\n      );\n    }\n    if (!intersects(this.extent_, geometry.getExtent())) {\n      return;\n    }\n    if (this.strokeState_) {\n      this.setContextStrokeState_(this.strokeState_);\n      const context = this.context_;\n      const flatCoordinates = geometry.getFlatCoordinates();\n      context.beginPath();\n      this.moveToLineTo_(\n        flatCoordinates,\n        0,\n        flatCoordinates.length,\n        geometry.getStride(),\n        false\n      );\n      context.stroke();\n    }\n    if (this.text_ !== '') {\n      const flatMidpoint = geometry.getFlatMidpoint();\n      this.drawText_(flatMidpoint, 0, 2, 2);\n    }\n  }\n\n  /**\n   * Render a MultiLineString geometry into the canvas.  Rendering is immediate\n   * and uses the current style.\n   *\n   * @param {import(\"../../geom/MultiLineString.js\").default|import(\"../Feature.js\").default} geometry MultiLineString geometry.\n   */\n  drawMultiLineString(geometry) {\n    if (this.squaredTolerance_) {\n      geometry =\n        /** @type {import(\"../../geom/MultiLineString.js\").default} */ (\n          geometry.simplifyTransformed(\n            this.squaredTolerance_,\n            this.userTransform_\n          )\n        );\n    }\n    const geometryExtent = geometry.getExtent();\n    if (!intersects(this.extent_, geometryExtent)) {\n      return;\n    }\n    if (this.strokeState_) {\n      this.setContextStrokeState_(this.strokeState_);\n      const context = this.context_;\n      const flatCoordinates = geometry.getFlatCoordinates();\n      let offset = 0;\n      const ends = /** @type {Array<number>} */ (geometry.getEnds());\n      const stride = geometry.getStride();\n      context.beginPath();\n      for (let i = 0, ii = ends.length; i < ii; ++i) {\n        offset = this.moveToLineTo_(\n          flatCoordinates,\n          offset,\n          ends[i],\n          stride,\n          false\n        );\n      }\n      context.stroke();\n    }\n    if (this.text_ !== '') {\n      const flatMidpoints = geometry.getFlatMidpoints();\n      this.drawText_(flatMidpoints, 0, flatMidpoints.length, 2);\n    }\n  }\n\n  /**\n   * Render a Polygon geometry into the canvas.  Rendering is immediate and uses\n   * the current style.\n   *\n   * @param {import(\"../../geom/Polygon.js\").default|import(\"../Feature.js\").default} geometry Polygon geometry.\n   */\n  drawPolygon(geometry) {\n    if (this.squaredTolerance_) {\n      geometry = /** @type {import(\"../../geom/Polygon.js\").default} */ (\n        geometry.simplifyTransformed(\n          this.squaredTolerance_,\n          this.userTransform_\n        )\n      );\n    }\n    if (!intersects(this.extent_, geometry.getExtent())) {\n      return;\n    }\n    if (this.strokeState_ || this.fillState_) {\n      if (this.fillState_) {\n        this.setContextFillState_(this.fillState_);\n      }\n      if (this.strokeState_) {\n        this.setContextStrokeState_(this.strokeState_);\n      }\n      const context = this.context_;\n      context.beginPath();\n      this.drawRings_(\n        geometry.getOrientedFlatCoordinates(),\n        0,\n        /** @type {Array<number>} */ (geometry.getEnds()),\n        geometry.getStride()\n      );\n      if (this.fillState_) {\n        context.fill();\n      }\n      if (this.strokeState_) {\n        context.stroke();\n      }\n    }\n    if (this.text_ !== '') {\n      const flatInteriorPoint = geometry.getFlatInteriorPoint();\n      this.drawText_(flatInteriorPoint, 0, 2, 2);\n    }\n  }\n\n  /**\n   * Render MultiPolygon geometry into the canvas.  Rendering is immediate and\n   * uses the current style.\n   * @param {import(\"../../geom/MultiPolygon.js\").default} geometry MultiPolygon geometry.\n   */\n  drawMultiPolygon(geometry) {\n    if (this.squaredTolerance_) {\n      geometry = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (\n        geometry.simplifyTransformed(\n          this.squaredTolerance_,\n          this.userTransform_\n        )\n      );\n    }\n    if (!intersects(this.extent_, geometry.getExtent())) {\n      return;\n    }\n    if (this.strokeState_ || this.fillState_) {\n      if (this.fillState_) {\n        this.setContextFillState_(this.fillState_);\n      }\n      if (this.strokeState_) {\n        this.setContextStrokeState_(this.strokeState_);\n      }\n      const context = this.context_;\n      const flatCoordinates = geometry.getOrientedFlatCoordinates();\n      let offset = 0;\n      const endss = geometry.getEndss();\n      const stride = geometry.getStride();\n      context.beginPath();\n      for (let i = 0, ii = endss.length; i < ii; ++i) {\n        const ends = endss[i];\n        offset = this.drawRings_(flatCoordinates, offset, ends, stride);\n      }\n      if (this.fillState_) {\n        context.fill();\n      }\n      if (this.strokeState_) {\n        context.stroke();\n      }\n    }\n    if (this.text_ !== '') {\n      const flatInteriorPoints = geometry.getFlatInteriorPoints();\n      this.drawText_(flatInteriorPoints, 0, flatInteriorPoints.length, 2);\n    }\n  }\n\n  /**\n   * @param {import(\"../canvas.js\").FillState} fillState Fill state.\n   * @private\n   */\n  setContextFillState_(fillState) {\n    const context = this.context_;\n    const contextFillState = this.contextFillState_;\n    if (!contextFillState) {\n      context.fillStyle = fillState.fillStyle;\n      this.contextFillState_ = {\n        fillStyle: fillState.fillStyle,\n      };\n    } else {\n      if (contextFillState.fillStyle != fillState.fillStyle) {\n        contextFillState.fillStyle = fillState.fillStyle;\n        context.fillStyle = fillState.fillStyle;\n      }\n    }\n  }\n\n  /**\n   * @param {import(\"../canvas.js\").StrokeState} strokeState Stroke state.\n   * @private\n   */\n  setContextStrokeState_(strokeState) {\n    const context = this.context_;\n    const contextStrokeState = this.contextStrokeState_;\n    if (!contextStrokeState) {\n      context.lineCap = strokeState.lineCap;\n      context.setLineDash(strokeState.lineDash);\n      context.lineDashOffset = strokeState.lineDashOffset;\n      context.lineJoin = strokeState.lineJoin;\n      context.lineWidth = strokeState.lineWidth;\n      context.miterLimit = strokeState.miterLimit;\n      context.strokeStyle = strokeState.strokeStyle;\n      this.contextStrokeState_ = {\n        lineCap: strokeState.lineCap,\n        lineDash: strokeState.lineDash,\n        lineDashOffset: strokeState.lineDashOffset,\n        lineJoin: strokeState.lineJoin,\n        lineWidth: strokeState.lineWidth,\n        miterLimit: strokeState.miterLimit,\n        strokeStyle: strokeState.strokeStyle,\n      };\n    } else {\n      if (contextStrokeState.lineCap != strokeState.lineCap) {\n        contextStrokeState.lineCap = strokeState.lineCap;\n        context.lineCap = strokeState.lineCap;\n      }\n      if (!equals(contextStrokeState.lineDash, strokeState.lineDash)) {\n        context.setLineDash(\n          (contextStrokeState.lineDash = strokeState.lineDash)\n        );\n      }\n      if (contextStrokeState.lineDashOffset != strokeState.lineDashOffset) {\n        contextStrokeState.lineDashOffset = strokeState.lineDashOffset;\n        context.lineDashOffset = strokeState.lineDashOffset;\n      }\n      if (contextStrokeState.lineJoin != strokeState.lineJoin) {\n        contextStrokeState.lineJoin = strokeState.lineJoin;\n        context.lineJoin = strokeState.lineJoin;\n      }\n      if (contextStrokeState.lineWidth != strokeState.lineWidth) {\n        contextStrokeState.lineWidth = strokeState.lineWidth;\n        context.lineWidth = strokeState.lineWidth;\n      }\n      if (contextStrokeState.miterLimit != strokeState.miterLimit) {\n        contextStrokeState.miterLimit = strokeState.miterLimit;\n        context.miterLimit = strokeState.miterLimit;\n      }\n      if (contextStrokeState.strokeStyle != strokeState.strokeStyle) {\n        contextStrokeState.strokeStyle = strokeState.strokeStyle;\n        context.strokeStyle = strokeState.strokeStyle;\n      }\n    }\n  }\n\n  /**\n   * @param {import(\"../canvas.js\").TextState} textState Text state.\n   * @private\n   */\n  setContextTextState_(textState) {\n    const context = this.context_;\n    const contextTextState = this.contextTextState_;\n    const textAlign = textState.textAlign\n      ? textState.textAlign\n      : defaultTextAlign;\n    if (!contextTextState) {\n      context.font = textState.font;\n      context.textAlign = textAlign;\n      context.textBaseline = textState.textBaseline;\n      this.contextTextState_ = {\n        font: textState.font,\n        textAlign: textAlign,\n        textBaseline: textState.textBaseline,\n      };\n    } else {\n      if (contextTextState.font != textState.font) {\n        contextTextState.font = textState.font;\n        context.font = textState.font;\n      }\n      if (contextTextState.textAlign != textAlign) {\n        contextTextState.textAlign = textAlign;\n        context.textAlign = textAlign;\n      }\n      if (contextTextState.textBaseline != textState.textBaseline) {\n        contextTextState.textBaseline = textState.textBaseline;\n        context.textBaseline = textState.textBaseline;\n      }\n    }\n  }\n\n  /**\n   * Set the fill and stroke style for subsequent draw operations.  To clear\n   * either fill or stroke styles, pass null for the appropriate parameter.\n   *\n   * @param {import(\"../../style/Fill.js\").default} fillStyle Fill style.\n   * @param {import(\"../../style/Stroke.js\").default} strokeStyle Stroke style.\n   */\n  setFillStrokeStyle(fillStyle, strokeStyle) {\n    if (!fillStyle) {\n      this.fillState_ = null;\n    } else {\n      const fillStyleColor = fillStyle.getColor();\n      this.fillState_ = {\n        fillStyle: asColorLike(\n          fillStyleColor ? fillStyleColor : defaultFillStyle\n        ),\n      };\n    }\n    if (!strokeStyle) {\n      this.strokeState_ = null;\n    } else {\n      const strokeStyleColor = strokeStyle.getColor();\n      const strokeStyleLineCap = strokeStyle.getLineCap();\n      const strokeStyleLineDash = strokeStyle.getLineDash();\n      const strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n      const strokeStyleLineJoin = strokeStyle.getLineJoin();\n      const strokeStyleWidth = strokeStyle.getWidth();\n      const strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n      const lineDash = strokeStyleLineDash\n        ? strokeStyleLineDash\n        : defaultLineDash;\n      this.strokeState_ = {\n        lineCap:\n          strokeStyleLineCap !== undefined\n            ? strokeStyleLineCap\n            : defaultLineCap,\n        lineDash:\n          this.pixelRatio_ === 1\n            ? lineDash\n            : lineDash.map((n) => n * this.pixelRatio_),\n        lineDashOffset:\n          (strokeStyleLineDashOffset\n            ? strokeStyleLineDashOffset\n            : defaultLineDashOffset) * this.pixelRatio_,\n        lineJoin:\n          strokeStyleLineJoin !== undefined\n            ? strokeStyleLineJoin\n            : defaultLineJoin,\n        lineWidth:\n          (strokeStyleWidth !== undefined\n            ? strokeStyleWidth\n            : defaultLineWidth) * this.pixelRatio_,\n        miterLimit:\n          strokeStyleMiterLimit !== undefined\n            ? strokeStyleMiterLimit\n            : defaultMiterLimit,\n        strokeStyle: asColorLike(\n          strokeStyleColor ? strokeStyleColor : defaultStrokeStyle\n        ),\n      };\n    }\n  }\n\n  /**\n   * Set the image style for subsequent draw operations.  Pass null to remove\n   * the image style.\n   *\n   * @param {import(\"../../style/Image.js\").default} imageStyle Image style.\n   */\n  setImageStyle(imageStyle) {\n    let imageSize;\n    if (!imageStyle || !(imageSize = imageStyle.getSize())) {\n      this.image_ = null;\n      return;\n    }\n    const imagePixelRatio = imageStyle.getPixelRatio(this.pixelRatio_);\n    const imageAnchor = imageStyle.getAnchor();\n    const imageOrigin = imageStyle.getOrigin();\n    this.image_ = imageStyle.getImage(this.pixelRatio_);\n    this.imageAnchorX_ = imageAnchor[0] * imagePixelRatio;\n    this.imageAnchorY_ = imageAnchor[1] * imagePixelRatio;\n    this.imageHeight_ = imageSize[1] * imagePixelRatio;\n    this.imageOpacity_ = imageStyle.getOpacity();\n    this.imageOriginX_ = imageOrigin[0];\n    this.imageOriginY_ = imageOrigin[1];\n    this.imageRotateWithView_ = imageStyle.getRotateWithView();\n    this.imageRotation_ = imageStyle.getRotation();\n    const imageScale = imageStyle.getScaleArray();\n    this.imageScale_ = [\n      (imageScale[0] * this.pixelRatio_) / imagePixelRatio,\n      (imageScale[1] * this.pixelRatio_) / imagePixelRatio,\n    ];\n    this.imageWidth_ = imageSize[0] * imagePixelRatio;\n  }\n\n  /**\n   * Set the text style for subsequent draw operations.  Pass null to\n   * remove the text style.\n   *\n   * @param {import(\"../../style/Text.js\").default} textStyle Text style.\n   */\n  setTextStyle(textStyle) {\n    if (!textStyle) {\n      this.text_ = '';\n    } else {\n      const textFillStyle = textStyle.getFill();\n      if (!textFillStyle) {\n        this.textFillState_ = null;\n      } else {\n        const textFillStyleColor = textFillStyle.getColor();\n        this.textFillState_ = {\n          fillStyle: asColorLike(\n            textFillStyleColor ? textFillStyleColor : defaultFillStyle\n          ),\n        };\n      }\n      const textStrokeStyle = textStyle.getStroke();\n      if (!textStrokeStyle) {\n        this.textStrokeState_ = null;\n      } else {\n        const textStrokeStyleColor = textStrokeStyle.getColor();\n        const textStrokeStyleLineCap = textStrokeStyle.getLineCap();\n        const textStrokeStyleLineDash = textStrokeStyle.getLineDash();\n        const textStrokeStyleLineDashOffset =\n          textStrokeStyle.getLineDashOffset();\n        const textStrokeStyleLineJoin = textStrokeStyle.getLineJoin();\n        const textStrokeStyleWidth = textStrokeStyle.getWidth();\n        const textStrokeStyleMiterLimit = textStrokeStyle.getMiterLimit();\n        this.textStrokeState_ = {\n          lineCap:\n            textStrokeStyleLineCap !== undefined\n              ? textStrokeStyleLineCap\n              : defaultLineCap,\n          lineDash: textStrokeStyleLineDash\n            ? textStrokeStyleLineDash\n            : defaultLineDash,\n          lineDashOffset: textStrokeStyleLineDashOffset\n            ? textStrokeStyleLineDashOffset\n            : defaultLineDashOffset,\n          lineJoin:\n            textStrokeStyleLineJoin !== undefined\n              ? textStrokeStyleLineJoin\n              : defaultLineJoin,\n          lineWidth:\n            textStrokeStyleWidth !== undefined\n              ? textStrokeStyleWidth\n              : defaultLineWidth,\n          miterLimit:\n            textStrokeStyleMiterLimit !== undefined\n              ? textStrokeStyleMiterLimit\n              : defaultMiterLimit,\n          strokeStyle: asColorLike(\n            textStrokeStyleColor ? textStrokeStyleColor : defaultStrokeStyle\n          ),\n        };\n      }\n      const textFont = textStyle.getFont();\n      const textOffsetX = textStyle.getOffsetX();\n      const textOffsetY = textStyle.getOffsetY();\n      const textRotateWithView = textStyle.getRotateWithView();\n      const textRotation = textStyle.getRotation();\n      const textScale = textStyle.getScaleArray();\n      const textText = textStyle.getText();\n      const textTextAlign = textStyle.getTextAlign();\n      const textTextBaseline = textStyle.getTextBaseline();\n      this.textState_ = {\n        font: textFont !== undefined ? textFont : defaultFont,\n        textAlign:\n          textTextAlign !== undefined ? textTextAlign : defaultTextAlign,\n        textBaseline:\n          textTextBaseline !== undefined\n            ? textTextBaseline\n            : defaultTextBaseline,\n      };\n      this.text_ =\n        textText !== undefined\n          ? Array.isArray(textText)\n            ? textText.reduce((acc, t, i) => (acc += i % 2 ? ' ' : t), '')\n            : textText\n          : '';\n      this.textOffsetX_ =\n        textOffsetX !== undefined ? this.pixelRatio_ * textOffsetX : 0;\n      this.textOffsetY_ =\n        textOffsetY !== undefined ? this.pixelRatio_ * textOffsetY : 0;\n      this.textRotateWithView_ =\n        textRotateWithView !== undefined ? textRotateWithView : false;\n      this.textRotation_ = textRotation !== undefined ? textRotation : 0;\n      this.textScale_ = [\n        this.pixelRatio_ * textScale[0],\n        this.pixelRatio_ * textScale[1],\n      ];\n    }\n  }\n}\n\nexport default CanvasImmediateRenderer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}